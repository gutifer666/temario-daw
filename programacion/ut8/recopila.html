
<!-- saved from url=(0112)https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&dopt=1 -->
<html><input type="hidden" id="__yoroi_connector_api_injected_type" value="prod"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<script src="./recopila_files/exe_jquery.js" type="text/javascript"></script>
<script src="./recopila_files/common_i18n.js" type="text/javascript"></script>
<script src="./recopila_files/common.js" type="text/javascript"></script>
<script src="./recopila_files/SCORM_API_wrapper.js" type="text/javascript"></script>
<script src="./recopila_files/SCOFunctions.js" type="text/javascript"></script>
<script src="./recopila_files/saved_resource" type="text/javascript"></script>
<link href="./recopila_files/base.css" type="text/css" rel="stylesheet">
<link href="./recopila_files/content.css" type="text/css" rel="stylesheet">
</head>
<body class=" js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js">
<script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main" role="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Estructuras de datos externas (ficheros).</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id0">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id0-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta0_66" class="block iDevice_content">
<div class="elemento_izquierda">
<div class="elemento_centrado"><img src="./recopila_files/CASO_PERSONAJES_24.png" alt="Foto de Ada mirando al frente." title="Foto de Ada." style="float: left;" width="140" height="200"></div>
<div class="elemento_centrado credenciales">Ministerio de Educación.</div>
<div class="elemento_centrado credenciales">Uso educativo-nc. Elaboración propia.</div>
</div>
<p><strong>Ada</strong> está repasando los requisitos de la aplicación informática que están desarrollando para la clínica veterinaria.</p>
<p>En particular, ahora mismo se está centrando en estudiar las necesidades respecto al almacenamiento de datos. <strong>Ada</strong> piensa que hay ciertas partes de la aplicación que no necesitan una base de datos para guardar los datos, y sería suficiente con emplear ficheros. Por ejemplo, para guardar datos de configuración de la aplicación.</p>
<p>Tras repasar, se reúne con <strong>María</strong> y <strong>Juan</strong> para planificar adecuadamente el tema de los ficheros que van a usar en la aplicación, ya que es un asunto muy importante, que no deben dejar aparcado por más tiempo.</p>
<p>Precisamente <strong>Antonio</strong>, que está matriculado y cursando el módulo de Programación, está repasando para el examen que tiene la semana que viene. Uno de los temas que le "cae" es precisamente el de almacenamiento de información en ficheros.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id78">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id78-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta78_69" class="block iDevice_content">
<p>En esta unidad vamos a estudiar cómo trabajar con ficheros en Java.</p>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.- Introducción.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id1">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id1-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta1_73" class="block iDevice_content">
<div class="elemento_izquierda">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R02_ficheros.jpg" alt="Carpetas de documentos en archivadores." title="Carpetas de documentos en archivadores." style="float: left;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Stephanie Booth" href="https://www.flickr.com/photos/bunny/203863198/" target="_blank">Stephanie Booth</a></div>
</div>
<p>Cuando desarrollas programas, en la mayoría de ellos los usuarios pueden pedirle a la aplicación que realice cosas y pueda suministrarle datos con los que se quiere hacer algo. Una vez introducidos los datos y las órdenes, se espera que el programa manipule de alguna forma esos datos, para proporcionar una respuesta a lo solicitado.</p>
<p>Además, normalmente interesa que el programa guarde los datos que se le han introducido, de forma que si el programa termina, los datos no se pierdan y puedan ser recuperados en una sesión posterior. La forma más normal de hacer esto es mediante la utilización de ficheros, que se guardarán en un dispositivo de memoria no volátil (normalmente un disco).</p>
<p>Por tanto, sabemos que el almacenamiento en variables o vectores (<span lang="en">arrays</span>) es temporal, los datos se pierden en las variables cuando están fuera de su ámbito o cuando el programa termina. <strong>Las computadoras utilizan ficheros para guardar los datos</strong>, incluso después de que el programa termine su ejecución. Se suele denominar a los datos que se guardan en ficheros <strong>datos persistentes</strong>, porque persisten más allá de la ejecución de la aplicación, es decir, siguen existiendo en algún soporte permanente, para poder ser recuperados en una próxima ejecución. Los ordenadores almacenan los ficheros en unidades de almacenamiento secundario como discos duros, discos ópticos, dispositivos <acronym title="Bus Universal en Serie">USB</acronym>, discos <acronym title="Unidad de estado sólido">SSD</acronym>, <abbr title="etcétera.">etc</abbr>. En esta unidad veremos cómo hacer con <span lang="en">Java</span> estas operaciones de crear, actualizar y procesar ficheros.</p>
<p>A todas estas operaciones, que constituyen un flujo de información del programa con el exterior, se les conoce como <strong>Entrada/Salida (<abbr title="Entrada/Salida.">E/S</abbr>).</strong></p>
<p>Distinguimos dos tipos de <abbr title="Entrada/Salida">E/S</abbr>: la <strong><abbr title="Entrada/Salida">E/S</abbr> estándar</strong> que se realiza con el terminal del usuario y la <strong><abbr title="Entrada/Salida">E/S</abbr> </strong><strong>a través de ficheros</strong>, en la que se trabaja con ficheros de disco.</p>
<p>Todas las operaciones de <abbr title="Entrada/Salida">E/S</abbr> en <span lang="en">Java</span> vienen proporcionadas por el paquete estándar del <acronym title="Application Programming Interface" lang="en">API</acronym> de <span lang="en">Java</span> denominado java.io que incorpora interfaces, clases y excepciones para acceder a todo tipo de ficheros.</p>
<p>El contenido de un archivo puede interpretarse como <strong>campos</strong> y <strong>registros</strong> (grupos de campos), dándole un significado al conjunto de bits que en realidad posee.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id2">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id2-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta2_47" class="block iDevice_content">
<p>A continuación puedes ampliar tus conocimientos sobre&nbsp;Entrada y Salida en general, en el mundo de la informática. Verás que es un vasto tema lo que abarca.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a una web con información sobre entrada y salida." href="http://exa.unne.edu.ar/depar/areas/informatica/SistemasOperativos/SO5.htm">Entrada y Salida.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.1.- Excepciones.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id3">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id3-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta3_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R03_calcetines.jpg" alt="Mensaje de error que dice error 404, los calcetines que buscabas no se encontraron." title="Calcetines no encontrados." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="Luis Fernando Pienda Mahecha" href="https://www.flickr.com/photos/ghostcero/3790862212/" target="_blank">Luis Fernando Pienda Mahecha</a></div>
</div>
<p>Cuando se trabaja con archivos, es normal que pueda haber errores, por ejemplo: podríamos intentar leer un archivo que no existe, o podríamos intentar escribir en un archivo para el que no tenemos permisos de escritura. Para manejar todos estos errores debemos utilizar <a class="glosario" href="./recopila_files/saved_resource">excepciones<span><em>Excepción</em>Una aplicación, ante una entrada de usuario no esperada, o por alguna otra causa, puede producir un error inesperado. Es posible admitir cierto número de errores y continuar su proceso para producir el mejor resultado posible en lugar de producir una salida aparatosa con mensajes de error incomprensibles para el usuario. Esto se consigue con las excepciones. Muchas veces, la acción asociada a una excepción es simplemente producir un mensaje informativo y terminar.</span></a>. Las dos excepciones más comunes al manejar archivos son:</p>
<ul class="lista_verificacion">
<li>FileNotFoundException: si no se puede encontrar el archivo.</li>
<li>IOException: si no se tienen permisos de lectura o escritura o si el archivo está dañado.</li>
</ul>
<p>Un esquema básico de uso de la captura y tratamiento de excepciones en un programa, podría ser este, importando el paquete java.io.IOException:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R03_01_codigo.jpg"><img alt="Estructura de código Java para capturar excepciones. Se incluye en archivo enlazado bajo la imagen." class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R03_01_codigo_miniatura.jpg" style="width: 200px; height: 140px;" title="Capturar excepciones." width="200" height="140"></a></div>
</div>
<p class="elemento_centrado"><a class="documento" title="Descargar archivo con el código. [.txt – 1 KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG07_CONT_R03_02_codiexcep.txt" target="_blank">Código de la estructura para gestionar excepciones.</a> <span class="tamano">(1.00 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id4">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id4-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-4_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion4_60" class="block question iDevice_content">
<p><strong>Señala la opción correcta:</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_63">Opción 1</a></label><input type="radio" name="option4_60" id="i4_63" class="exe-radio-option exe-radio-option-0-4-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_63"><a name="answer-4_63" href="./recopila_files/saved_resource"></a>
<div id="taans4_63" class="block iDevice_content">
<p><span lang="en">Java</span> no ofrece soporte para excepciones.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_80" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_80">Opción 2</a></label><input type="radio" name="option4_60" id="i4_80" class="exe-radio-option exe-radio-option-1-4-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_80"><a name="answer-4_80" href="./recopila_files/saved_resource"></a>
<div id="taans4_80" class="block iDevice_content">
<p>Un campo y un archivo es lo mismo.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_83" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_83">Opción 3</a></label><input type="radio" name="option4_60" id="i4_83" class="exe-radio-option exe-radio-option-2-4-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_83"><a name="answer-4_83" href="./recopila_files/saved_resource"></a>
<div id="taans4_83" class="block iDevice_content">
<p>Si se intenta abrir un archivo que no existe, entonces saltará una excepción.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_86" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_86">Opción 4</a></label><input type="radio" name="option4_60" id="i4_86" class="exe-radio-option exe-radio-option-3-4-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_86"><a name="answer-4_86" href="./recopila_files/saved_resource"></a>
<div id="taans4_86" class="block iDevice_content">
<p>Ninguna es correcta.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b4_60" class="feedback js-hidden"><a name="sa0b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_63" class=" iDevice_content">
<p>Respuesta incorrecta, sí que las soporta.</p>
</div>
</div>
<div id="sa1b4_60" class="feedback js-hidden"><a name="sa1b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_80" class=" iDevice_content">
<p>Incorrecto, el contenido de un fichero está conformado por campos.</p>
</div>
</div>
<div id="sa2b4_60" class="feedback js-hidden"><a name="sa2b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_83" class=" iDevice_content">
<p>¡Exacto! Se disparará una excepción de tipo FileNotFoundException.</p>
</div>
</div>
<div id="sa3b4_60" class="feedback js-hidden"><a name="sa3b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_86" class=" iDevice_content">
<p>No has acertado, sí hay una correcta.</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa0b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_80">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa1b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_83">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa2b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-4_86">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa3b4_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id5">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id5-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta5_47" class="block iDevice_content">
<p>En los siguientes enlaces hay algunos ejemplos donde se puede ver cómo se trabaja con ficheros de texto y de acceso aleatorio.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a una web con información sobre ficheros de texto." href="http://puntocomnoesunlenguaje.blogspot.com.es/2013/05/ficheros-de-texto-en-java.html">Algún ejemplo de ficheros de texto en Java.</a></p>
<p class="enlace_centrado"><a class="html" title="Acceder a una web con información sobre ficheros de acceso aleatorio." href="http://puntocomnoesunlenguaje.blogspot.com.es/2013/06/java-ficheros-acceso-aleatorio.html">Algún ejemplo de ficheros de acceso aleatorio.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.- Concepto de flujo.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id6">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id6-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta6_66" class="block iDevice_content">
<div class="elemento_izquierda">
<div class="elemento_centrado"><img src="./recopila_files/EIN_PPAA_CASO_R05_JuanCuerpo_FOT.jpg" alt="Antonio de pie y de perfil, con los brazos flexionados a media altura." title="Antonio de perfil." style="float: left;" width="200" height="140"></div>
<div class="elemento_centrado credenciales">Ministerio de Educación.</div>
<div class="elemento_centrado credenciales">Uso educativo-nc. Elaboración propia.</div>
</div>
<p><strong>Antonio</strong> está estudiando un poco antes de irse a dormir. Se ha tomado un vaso de leche con cacao y está repasando el concepto de flujo o stream en<span> Java</span>. Entenderlo al principio, cuando lo estudió por primera vez, le costó un poco, pero ya lo entiende a la perfección y piensa que si le sale alguna pregunta en el examen de la semana que viene, sobre esto, seguro que la va a acertar.</p>
<p>Pensar en el flujo de datos como un chorro de agua que fluye por una tubería le ha sido de gran ayuda: los datos son  como el agua, de forma que lo que se introduce por la entrada (fuente de datos), va obteniéndose en la salida (aplicación) en el mismo orden que se introdujo, para el caso de un flujo de entrada.</p>
<p>Aunque también podemos habilitar una tubería que lleve el agua en sentido contrario, desde la aplicación a la salida (destino de datos), para el caso de un flujo de salida. Lo que no vamos a tener es una tubería (un flujo)  en la que el agua (los datos) pueda circular en los dos sentidos .</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id7">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id7-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta7_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R04_flujos_Esquema.png"><img alt="Esquema en el que se ve una entidad rectangular fuente y otro programa, y entre medias una línea que representa un flujo de lectura. Más abajo lo mismo pero a la izquierda pone Programa y a la derecha Destino, y entre las dos una línea que representa un flujo de escritura. " class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R04_flujos_Esquema_miniatura.png" title="Flujos" width="200" height="140"></a></div>
</div>
<p>La clase Stream representa un flujo o corriente de datos, es decir, un conjunto secuencial de <span lang="en">bytes</span>, como puede ser un archivo, un dispositivo de entrada/salida (en adelante <abbr title="Entrada/Salida">E/S</abbr>), memoria, un conector <acronym title="Transmission Control Protocol/Internet Protocol" lang="en">TCP/IP</acronym> (Protocolo de Control de Transmisión/Protocolo de Internet), <abbr title="etcétera. ">etc.</abbr></p>
<p>Cualquier programa realizado en<span lang="en"> Java</span> que necesite llevar a cabo una operación de entrada/salida lo hará a través de un stream.</p>
<p>Un flujo es una abstracción de aquello que produzca o consuma información. Es una entidad lógica.</p>
<p>Las clases y métodos de <abbr title="Entrada/Salida">E/S</abbr> que necesitamos emplear son las mismas <strong>independientemente del dispositivo con el que estemos actuando</strong>, luego, el núcleo de <span lang="en">Java</span>, sabrá si tiene que tratar con el teclado, el monitor, un sistema de archivos o un <span lang="en">socket</span> de red liberando al programador de tener que saber con quién está interactuando.</p>
<p>La vinculación de un flujo al dispositivo físico la hace el sistema de entrada y salida de <span lang="en">Java.</span></p>
<p>En resumen, será el flujo el que tenga que comunicarse con el sistema operativo concreto y "entendérselas" con él. De esta manera<strong>, no tenemos que cambiar absolutamente nada en nuestra aplicación</strong>, que va a ser independiente tanto de los dispositivos físicos de almacenamiento como del sistema operativo sobre el que se ejecuta. Esto es <strong>primordial en un lenguaje multiplataforma y tan altamente portable</strong> como <span lang="en">Java.</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id8">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id8-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-8_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion8_60" class="block question iDevice_content">
<p><strong>Señala la opción correcta:</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_63">Opción 1</a></label><input type="radio" name="option8_60" id="i8_63" class="exe-radio-option exe-radio-option-0-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_63"><a name="answer-8_63" href="./recopila_files/saved_resource"></a>
<div id="taans8_63" class="block iDevice_content">
<p>La clase Stream puede representar, al instanciarse, a un archivo.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_92" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_92">Opción 2</a></label><input type="radio" name="option8_60" id="i8_92" class="exe-radio-option exe-radio-option-1-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_92"><a name="answer-8_92" href="./recopila_files/saved_resource"></a>
<div id="taans8_92" class="block iDevice_content">
<p>Si programamos en <span lang="en">Java</span>, hay que tener en cuenta el sistema operativo cuando tratemos con flujos, pues varía su tratamiento debido a la diferencia de plataformas.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_95" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_95">Opción 3</a></label><input type="radio" name="option8_60" id="i8_95" class="exe-radio-option exe-radio-option-2-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_95"><a name="answer-8_95" href="./recopila_files/saved_resource"></a>
<div id="taans8_95" class="block iDevice_content">
<p>La clase Keyboard es la que debemos utilizar al leer flujos de teclado.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_98" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_98">Opción 4</a></label><input type="radio" name="option8_60" id="i8_98" class="exe-radio-option exe-radio-option-3-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_98"><a name="answer-8_98" href="./recopila_files/saved_resource"></a>
<div id="taans8_98" class="block iDevice_content">
<p>La vinculación de un flujo al dispositivo físico la hace el <span lang="en">hardware</span> de la máquina.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b8_60" class="feedback js-hidden"><a name="sa0b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_63" class=" iDevice_content">
<p>¡Exacto!</p>
</div>
</div>
<div id="sa1b8_60" class="feedback js-hidden"><a name="sa1b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_92" class=" iDevice_content">
<p>¡No! Es indiferente.</p>
</div>
</div>
<div id="sa2b8_60" class="feedback js-hidden"><a name="sa2b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_95" class=" iDevice_content">
<p>¡Incorrecto! Es la clase Stream.</p>
</div>
</div>
<div id="sa3b8_60" class="feedback js-hidden"><a name="sa3b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_98" class=" iDevice_content">
<p>¡Incorrecto! Lo hace el sistema de <abbr title="Entrada/Salida">E/S</abbr> de <span lang="en">Java</span>.</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_63">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa0b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_92">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa1b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_95">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa2b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-8_98">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa3b8_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id9">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id9-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta9_47" class="block iDevice_content">
<p>En la siguiente presentación puedes aprender más sobre <span lang="en">sockets</span> en <span lang="en">Java</span>.</p>
<p class="enlace_centrado"><a class="presentacion" title="Acceder a presentación de sockets. [ppt – 162KB]" href="http://studies.ac.upc.edu/FIB/CASO/seminaris/1q0102/M18.ppt" target="_self"><span lang="en">Sockets</span> en <span lang="en">Java</span>.</a> <span class="tamano">(162.00 KB)</span>    <span><a class="credenciales" title="Acceder al resumen txtual alternativo para la presentación" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_Descripcion_presentacion_SocketsJava.html">Resumen textual alternativo</a></span></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.- Clases relativas a flujos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id10">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id10-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta10_66" class="block iDevice_content">
<p><img src="./recopila_files/CASO_PERSONAJES_26.png" alt="Primer plano de María, mirando hacia el frente." title="Primer plano de María." class="elemento_izquierda" height="140" width="200">Otro aspecto importante que <strong>Ada</strong> trata con <strong>María</strong> y <strong>Juan</strong>, acerca de los ficheros para la aplicación de la clínica, es el tipo de ficheros a usar. Es decir, deben estudiar si es conveniente utilizar ficheros para almacenar datos en ficheros de texto, o si deben utilizar ficheros binarios.</p>
<p><strong>María</strong> comenta:</p>
<p><span class="st">—</span>Quizás debemos usar los dos tipos de ficheros, dependerá de qué se vaya a guardar.</p>
<p><strong>Juan</strong> le contesta:</p>
<p><span class="st">—</span>Tienes razón <strong>María</strong>, pero debemos pensar entonces cómo va el programa a leer y a escribir la información, tendremos que utilizar las clases <span lang="en">Java</span> adecuadas según los ficheros que decidamos usar.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id11">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id11-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta11_73" class="block iDevice_content">
<div class="elemento_derecha">&nbsp;</div>
<div class="elemento_derecha">
<div class="elemento_centrado"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R06_clasesIO.gif"><img src="./recopila_files/PROG08_CONT_R06_clasesIO_miniatura.gif" alt="Jerarquía de clases java.io." title="Clases Java I/O." class="imagen_ampliable" style="float: right;" height="192" width="140"></a></div>
<div class="elemento_centrado credenciales"><a class="Copyright" title="CC by-nc" href="http://creativecommons.org/licenses/by-nc/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc</span></a>&nbsp;<a title="O&#39;Reilly &amp; Associates." href="http://www.cs.ait.ac.th/~on/O/oreilly/java/fclass/figs/jfc_1101.gif" target="_blank">O'Reilly &amp; Associates</a></div>
</div>
<p>Existen dos tipos de flujos, flujos de <span lang="en">bytes</span> (<span lang="en">byte streams</span>) y flujos de caracteres (<span lang="en">character streams</span>).</p>
<ul class="lista_verificacion" type="disc">
<li>Los <strong>flujos de caracteres </strong>(16 <span lang="en">bits</span>) se usan para manipular datos legibles por humanos (por ejemplo un fichero de texto). Vienen determinados por dos clases abstractas: Reader y <code>Writer</code>. Dichas clases manejan flujos de caracteres <a class="glosario" href="./recopila_files/saved_resource">Unicode<span><em>Unicode</em>Estándar de codificación de caracteres diseñado para facilitar el tratamiento informático, transmisión y visualización de textos de múltiples lenguajes y disciplinas técnicas.</span></a>. De ellas derivan subclases concretas que implementan los métodos definidos, destacando los métodos read() y <code>write()</code> que, en este caso, leen y escriben <strong>caracteres</strong> de datos respectivamente.</li>
<li>Los <strong>flujos de </strong><span lang="en">bytes</span> (8 bits) se usan para manipular datos binarios, legibles solo por la máquina (por ejemplo un fichero de programa). Su uso está orientado a la lectura y escritura de datos binarios. El tratamiento del flujo de <span lang="en">bytes</span> viene determinado por dos clases abstractas que son InputStream y <code>OutputStream</code>. Estas dos clases son las que definen los métodos que sus subclases tendrán implementados y, de entre todos, destacan read() y <code>write()</code> que leen y escriben <span lang="en">bytes</span> de datos respectivamente.</li>
</ul>
<p>Las clases del paquete java.io se pueden ver en la ilustración. Destacamos las clases relativas a flujos:</p>
<ul class="lista_verificacion" type="disc">
<li>BufferedInputStream: permite leer datos a través de un flujo con un <span lang="en">buffer</span> intermedio.</li>
<li>BufferedOutputStream: implementa los métodos para escribir en un flujo a través de un <span lang="en">buffer</span>.</li>
<li>FileInputStream: permite leer <span lang="en">bytes</span> de un fichero.</li>
<li>FileOutputStream: permite escribir <span lang="en">bytes</span> en un fichero o descriptor.</li>
<li>StreamTokenizer: esta clase recibe un flujo de entrada, lo analiza (<span lang="en">parse</span>) y divide en diversos pedazos (<span lang="en">tokens</span>), permitiendo leer uno en cada momento.</li>
<li>StringReader: es un flujo de caracteres cuya fuente es una cadena de caracteres o String.</li>
<li>StringWriter: es un flujo de caracteres cuya salida es un <span lang="en">buffer</span> de cadena de caracteres, que puede utilizarse para construir un&nbsp;String.</li>
</ul>
<p>Destacar que hay clases que se<strong> "montan" sobre otros flujos para modificar la forma de trabajar con ellos. </strong>Por ejemplo, con BufferedInputStream podemos añadir un <span lang="en">buffer </span>a un flujo FileInputStream, de manera que se mejore la eficiencia de los accesos a los dispositivos en los que se almacena el fichero con el que conecta el flujo.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id12">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id12-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta12_48" class="block iDevice_content">
<p>En el siguiente vídeo puedes clarificar algunos de estos conceptos.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo">java.io y escritura en ficheros</div>
</div>
<div class="elemento_centrado">
<div class="elemento_centrado"><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/-1C-wVnCd3c">https://www.youtube.com/embed/-1C-wVnCd3c</a></span><iframe src="./recopila_files/-1C-wVnCd3c.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " conceptos="" sobre="" java.io.""="" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_Descripcion_Video_ConceptosJavaIo.html">Resumen textual alternativo</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.1.- Ejemplo comentado de una clase con flujos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id13">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id13-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta13_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R07_tokens.jpg" alt="Se pueden apreciar perlas de cristal de diferentes colores." title="Tokens" style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="JD Hancock" href="https://www.flickr.com/photos/jdhancock/3597445568/" target="_blank">JD Hancock</a></div>
</div>
<p>Vamos a ver un ejemplo con una de las clases comentadas, en concreto, con StreamTokenizer.</p>
<p>La clase StreamTokenizer obtiene un flujo de entrada y lo divide en "<span lang="en">tokens</span>". El flujo <span lang="en">tokenizer </span>puede reconocer identificadores, números y otras cadenas.</p>
<p>El ejemplo que puedes descargarte en el siguiente enlace, muestra cómo utilizar la clase StreamTokenizer para contar números y palabras de un fichero de texto. Se abre el flujo con ayuda de la clase FileReader, y puedes ver cómo se "monta" el flujo StreamTokenizer sobre el FileReader, es decir, que se construye el objeto <strong>StreamTokenizer</strong> con el flujo FileReader como argumento, y entonces se empieza a iterar sobre él.</p>
<p class="enlace_centrado"><a class="documento" title="Acceder al fichero de la clase. [java – 2KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/token.java" target="_blank">Clase para leer palabras y números.</a><span class="tamano"> (2.00 KB)</span></p>
<p>El método nextToken() devuelve un int que indica el tipo de <span lang="en">token</span> leído. Hay una serie de constantes definidas para determinar el tipo de <span lang="en">token</span>:</p>
<ul class="lista_verificacion" type="circle">
<li>TT_WORD indica que el <span lang="en">token</span> es una palabra.</li>
<li>TT_NUMBER indica que el <span lang="en">token</span> es un número.</li>
<li>TT_EOL indica que se ha leído el fin de línea.</li>
<li>TT_EOF indica que se ha llegado al fin del flujo de entrada.</li>
</ul>
<p>En el código de la clase, apreciamos que se iterará hasta llegar al fin del fichero. Para cada <span lang="en">token</span>, se mira su tipo, y según el tipo se incrementa el contador de palabras o de números.</p>
<p>Puedes probar el ejemplo con el siguiente fichero e datos:</p>
<p class="enlace_centrado"><a class="documento" title="Acceder al fichero de la clase. [txt – 49bytes]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/datos.txt" target="_blank">Fichero de texto para probar el código anterior.</a><span class="tamano"> (0.49 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id14">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id14-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta14_54" class="block iDevice_content">
<p><strong>Indica si la siguiente afirmación es verdadera o falsa.</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b14" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b14" class="block iDevice_content">
<p><strong>Según el sistema operativo que utilicemos, habrá que utilizar un flujo u otro. </strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b14"><input type="radio" name="option0b14" id="true0b14" class="exe-radio-option exe-radio-option-0-2-0b14-truefalse"> Verdadero</label> 
<label for="false0b14"><input type="radio" name="option0b14" id="false0b14" class="exe-radio-option exe-radio-option-1-2-0b14-truefalse"> Falso</label>
</p>
</form>
<div id="s0b14" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b14-result" class="wrong">Falso</strong></p>
<p>El sistema operativo es indiferente, el flujo se encargará de los detalles subyacentes en la comunicación, por lo que el programador no tiene que preocuparse de esas cuestiones.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.- Flujos.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id15">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id15-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta15_66" class="block iDevice_content">
<p><img alt="Ana, antonio y una amiga sentados en el banco de un parque." class="elemento_izquierda" src="./recopila_files/EIN_PPAA_CASO_R12_ChicosParque_FOT_02.jpg" title="Sentados en un banco. " width="192" height="140"></p>
<p><strong>Ana </strong>y<strong> Antonio</strong> salen de clase<strong>. </strong><strong> Antonio</strong> ha quedado con una amiga y <strong>Ana</strong> va camino de casa pensando en lo que le explicaron en clase hace unos días. Como se quedó con dudas, también le consultó a <strong>María</strong>. En concreto, le asaltaban dudas sobre cómo leer y escribir datos por teclado en un programa, y también varias dudas sobre lectura y escritura de información en ficheros. <strong>María</strong> le solventó las dudas hablándole sobre el tema, pero aún así, tenía que probarlo tranquilamente en casa, haciéndose unos pequeños ejemplos, para comprobar toda la nueva información aprendida.</p>
<p><span class="st">—</span>Antes de irte <span class="st">—</span>dice <strong>Antonio</strong> a <strong>Ana</strong><span class="st">—</span>, siéntate a hablar con nosotros un rato.</p>
<p><span class="st">—</span>Bueno, pero me voy a ir enseguida, <span class="st">—</span>contesta <strong>Ana</strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id16">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id16-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta16_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R08_ruta.JPG" alt="Camino de agua sobre las losas del suelo. " title="Camino de agua sobre las losas del suelo. " style="float: right;" height="192" width="144"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="David Blaikie" href="https://www.flickr.com/photos/nikonvscanon/2081397439/" target="_blank">David Blaikie</a></div>
</div>
<p>Hemos visto qué es un flujo y que existe un árbol de clases amplio para su manejo. Ahora vamos a ver en primer lugar los <strong>flujos predefinidos</strong>, también conocidos como de entrada y salida, y después veremos los <strong>flujos basados en <span lang="en">bytes</span></strong> y los <strong>flujos basados en carácter</strong>.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper CitasparapensarfpdIdevice em_iDevice" id="id17">
<div class="iDevice emphasis_citasparapensarfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_citasparapensarfpd.png)"><h2 class="iDeviceTitle">Citas para pensar</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id17-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta17_49" class="block iDevice_content">
<blockquote><strong><em>"Lo escuché y lo olvidé, lo vi y lo entendí, lo hice y lo aprendí".</em></strong> <cite> </cite></blockquote>
<blockquote><cite>Confucio.</cite></blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id18">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id18-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta18_47" class="block iDevice_content">
<p>Antes, hemos mencionado <span lang="en">Unicode</span>. Puedes consultar el origen y más cosas sobre <span lang="en">Unicode</span>, en el enlace de la Wikipedia:</p>
<p class="enlace_centrado"><a class="html" title="Acceder a la información sobre Unicode." href="http://es.wikipedia.org/wiki/Unicode">Acerca de Unicode.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.1.- Flujos predefinidos. Entrada y salida estándar.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id19">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id19-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta19_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R09_entrada.jpg" alt="Letrero donde se lee Entrada, en fondo azul." title="Letrero de entrada." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc" title="CC by-nc" href="http://creativecommons.org/licenses/by-nc/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc</span></a> <a title="César Caracuel" href="https://www.flickr.com/photos/ces_vlc/2598180993/" target="_blank">César Caracuel</a></div>
</div>
<p>Tradicionalmente, los usuarios del sistema operativo <span>Unix, Linux</span> y también <acronym title="MicroSoft-Disk Operating System." lang="en">MS-DOS</acronym>, han utilizado un tipo de entrada/salida conocida comúnmente por entrada/salida estándar. El fichero de entrada estándar (stdin) es típicamente el teclado. El fichero de salida estándar (stdout) es típicamente la pantalla (o la ventana del terminal). El fichero de salida de error estándar (stderr) también se dirige normalmente a la pantalla, pero se implementa como otro fichero de forma que se pueda distinguir entre la salida normal y (si es necesario) los mensajes de error.</p>
<p><span lang="en">Java</span> tiene acceso a la entrada/salida estándar a través de la clase System. En concreto, los tres ficheros que se implementan son:</p>
<ul class="lista_verificacion">
<li>Stdin.<code>System.in</code> es un objeto de tipo InputStream, y está definido en la clase System como flujo de entrada estándar. Por defecto es el teclado, pero puede redirigirse para cada host o cada usuario, de forma que se corresponda con cualquier otro dispositivo de entrada.</li>
<li>Stdout.<code>System.out</code> implementa stdout como una instancia de la clase PrintStream. Se pueden utilizar los métodos print() y <code>println()</code> con cualquier tipo básico <span lang="en">Java</span> como argumento.</li>
<li>Stderr.<code>System.err </code>es un objeto de tipo PrintStream. Es un flujo de salida definido en la clase System y representa la salida de error estándar. Por defecto, es el monitor, aunque es posible redireccionarlo a otro dispositivo de salida.</li>
</ul>
<p>Para la entrada, se usa el método read() para leer de la entrada estándar:</p>
<ul class="lista_verificacion">
<li>int System.in.read();
<ul>
<li>Lee el siguiente byte (char) de la entrada estándar.</li>
</ul>
</li>
<li>int System.in.read(byte[] b);
<ul>
<li>Lee un conjunto de <span lang="en">bytes</span> de la entrada estándar y lo almacena en el vector b.</li>
</ul>
</li>
</ul>
<p>Para la salida, se usa el método print() para escribir en la salida estándar:</p>
<ul class="lista_verificacion">
<li>System.out.&lt;strong&gt;print&lt;/strong&gt;(String);
<ul>
<li>Muestra el texto en la consola.</li>
</ul>
</li>
<li>System.out.&lt;strong&gt;println&lt;/strong&gt;(String);
<ul>
<li>Muestra el texto en la consola y seguidamente efectúa un salto de línea.</li>
</ul>
</li>
</ul>
<p>Normalmente, para<strong> leer valores numéricos</strong>, lo que se hace es tomar el valor de la entrada estándar en forma de cadena y entonces usar métodos que permiten transformar el texto a números (int, <code>float</code>, double, <abbr title="etcétera.">etc</abbr>.) según se requiera.</p>
<table class="tabla" summary="Esta tabla muestra los metodos de conversión y una descripción de su  funcionamiento."><caption>Funciones de conversión.</caption>
<thead>
<tr><th scope="col">Método</th><th scope="col">Funcionamiento</th></tr>
</thead>
<tbody>
<tr>
<td scope="row">byte Byte.parseByte(String)</td>
<td>Convierte una cadena en un número entero de un <span lang="en">byte.</span></td>
</tr>
<tr>
<td scope="row">short Short.parseShort(String)</td>
<td>Convierte una cadena en un número entero corto.</td>
</tr>
<tr>
<td scope="row">int Integer.parseInt(String)</td>
<td>Convierte una cadena en un número entero.</td>
</tr>
<tr>
<td scope="row">long Long.parseLong(String)</td>
<td>Convierte una cadena en un número entero largo.</td>
</tr>
<tr>
<td scope="row">float Float.parseFloat(String)</td>
<td>Convierte una cadena en un número real simple.</td>
</tr>
<tr>
<td scope="row">double Double.parseDouble(String)</td>
<td>Convierte una cadena en un número real doble.</td>
</tr>
<tr>
<td scope="row">boolean Boolean.parseBoolean(String)</td>
<td>Convierte una cadena en un valor lógico.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id71">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id71-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta71_44" class="block iDevice_content">
<p>En este vídeo puedes ver un ejemplo sencillo usando <span id="eow-title" class="watch-title " title="System.in.read()" dir="ltr">System.in.read()</span>.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo">Ejemplo de uso de <span id="eow-title" class="watch-title " title="System.in.read()" dir="ltr">System.in.read()</span></div>
</div>
<div class="elemento_centrado">
<div class="elemento_centrado"><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/vTn_mXlA9w4">https://www.youtube.com/embed/vTn_mXlA9w4</a></span><iframe src="./recopila_files/vTn_mXlA9w4.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " gestión="" de="" excepciones.""="" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_Descripcion_Video_Systeminread.html">Resumen textual alternativo</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.2.- Flujos predefinidos. Entrada y salida estándar. Ejemplo.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id20">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id20-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta20_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R10_flujo.jpg" alt="Flujo de agua en un río." title="Flujo de agua en un río." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Enrique A. Gomez" href="https://www.flickr.com/photos/anselmogz/8681516/in/photolist-LuHj-aUcH64-a9Nrci-a9NqFx-a9Nq4i-a9Nprt-a9NoM2-dwwoBm-atBEnm-6fFQSb-5pQH8d-bquYcN-bqiYQ4-eeMPXx-bzdUpS-5RCtG-5Rzn4-jDwTdt-jDy4go-8C79Rz-8C79Ka-5sovCb-6W9mf7-71Bo3C-aio7Hi-dzmCZi-h2CdH5-6DJoph-p5hLzq-aJGFLR-pSQ2WC-daL4EE-daL1iH-daL38E-daL2Gq-daL2oA-eSgga7-o6seDC-dsRU98-dsRTGF-dsS4k9-dsRSCZ-dsS3em-5sjcfT-qXszYP-e4QvyE-ahY7Qp-7gQLcM-4g51qS-eTWsC7" target="_blank">Enrique A. Gomez</a></div>
</div>
<p>Veamos un ejemplo en el que se lee por teclado hasta pulsar la tecla de retorno, en ese momento el programa acabará imprimiendo por la salida estándar la cadena leída.</p>
<p>Para ir construyendo la cadena con los caracteres leídos podríamos usar la clase StringBuffer o la StringBuilder. La clase StringBuffer permite almacenar cadenas que cambiarán en la ejecución del programa. StringBuilder es similar, pero no es <a class="glosario" href="./recopila_files/saved_resource">síncrona<span><em>Síncrona</em>En una ejecución síncrona, la instrucción siguiente a la llamada no se ejecuta hasta que no finalice el método llamado.</span></a>. De este modo, para la mayoría de las aplicaciones, donde se ejecuta un solo hilo, supone una mejora de rendimiento sobre StringBuffer.</p>
<p>El proceso de lectura ha de estar en un bloque try..catch.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="./recopila_files/PROG08_CONT_R10_01_codigo.png"><img alt="Código Java donde se lee desde teclado y se escribe por la salida estándar lo leído por teclado.Se incluye en archivo enlazado bajo la imagen.  " class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R10_01_codigo.png" style="width: 200px; height: 140px;" title="Entrada y salida estándar."></a></div>
</div>
<p class="enlace_centrado"><a class="documento" title="Descargar archivo con el código. [txt – 1KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R10_02_LeeEstandar.txt">Código del proceso de lectura.</a> <span class="tamano">(1 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id21">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id21-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-21_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion21_60" class="block question iDevice_content">
<p><strong>Señala la opción correcta:</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_63">Opción 1</a></label><input type="radio" name="option21_60" id="i21_63" class="exe-radio-option exe-radio-option-0-4-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_63"><a name="answer-21_63" href="./recopila_files/saved_resource"></a>
<div id="taans21_63" class="block iDevice_content">
<p>Read es una clase de System que permite leer caracteres.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_115" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_115">Opción 2</a></label><input type="radio" name="option21_60" id="i21_115" class="exe-radio-option exe-radio-option-1-4-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_115"><a name="answer-21_115" href="./recopila_files/saved_resource"></a>
<div id="taans21_115" class="block iDevice_content">
<p>StringBuffer permite leer y StringBuilder escribir en la salida estándar.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_118" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_118">Opción 3</a></label><input type="radio" name="option21_60" id="i21_118" class="exe-radio-option exe-radio-option-2-4-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_118"><a name="answer-21_118" href="./recopila_files/saved_resource"></a>
<div id="taans21_118" class="block iDevice_content">
<p>La clase Keyboard también permite leer flujos de teclado.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i21_121" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_121">Opción 4</a></label><input type="radio" name="option21_60" id="i21_121" class="exe-radio-option exe-radio-option-3-4-21_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-21_121"><a name="answer-21_121" href="./recopila_files/saved_resource"></a>
<div id="taans21_121" class="block iDevice_content">
<p>Stderr por defecto dirige al monitor, pero se puede direccional a otro dispositivo.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b21_60" class="feedback js-hidden"><a name="sa0b21_60" href="./recopila_files/saved_resource"></a>
<div id="taf21_63" class=" iDevice_content">
<p>¡Incorrecto!</p>
</div>
</div>
<div id="sa1b21_60" class="feedback js-hidden"><a name="sa1b21_60" href="./recopila_files/saved_resource"></a>
<div id="taf21_115" class=" iDevice_content">
<p>¡No es correcto!</p>
</div>
</div>
<div id="sa2b21_60" class="feedback js-hidden"><a name="sa2b21_60" href="./recopila_files/saved_resource"></a>
<div id="taf21_118" class=" iDevice_content">
<p>¡No! Inténtalo de nuevo</p>
</div>
</div>
<div id="sa3b21_60" class="feedback js-hidden"><a name="sa3b21_60" href="./recopila_files/saved_resource"></a>
<div id="taf21_121" class=" iDevice_content">
<p>¡Bien hecho! Esa es la respuesta correcta.</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa0b21_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_115">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa1b21_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_118">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa2b21_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-21_121">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa3b21_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id72">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id72-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta72_43" class="block iDevice_content">
<p>En el siguiente enlace tienes un ejemplo e información sobre el uso de StringBuilder y StringBuffer:</p>
<p style="text-align: center;"><a class="html" href="http://www.dit.upm.es/~pepe/libros/vademecum/index.html?n=375.html">StringBuffer</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.3.- Flujos basados en bytes.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id23">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id23-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta23_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"> </div>
</div>
<p>Este tipo de flujos es el idóneo para el manejo de entradas y salidas de <span lang="en">bytes</span>, y su uso por tanto está orientado a la lectura y escritura de datos binarios.</p>
<p>Para el tratamiento de los flujos de <span>bytes, Java</span> tiene dos clases abstractas que son InputStream y <code>OutputStream</code>. Cada una de estas clases abstractas tiene varias subclases instanciables, que controlan las diferencias entre los distintos dispositivos de <abbr title="Entrada/Salida">E/S</abbr> que se pueden utilizar.</p>
<div class="codigo elemento_centrado" style="width: 42.85em;">
<div class="texto_izquierda">
<pre>class FileInputStream extends InputStream {
</pre>
<pre>    FileInputStream (String fichero) throws FileNotFoundException;
</pre>
<pre>    FileInputStream (File fichero) throws FileNotFoundException;
</pre>
<pre>    ... ... ...
</pre>
<pre>  }
</pre>
<pre> </pre>
<pre>class FileOutputStream extends OutputStream {
</pre>
<pre>    FileOutputStream (String fichero) throws FileNotFoundException;
</pre>
<pre>    FileOutputStream (File fichero) throws FileNotFoundException;
</pre>
<pre>    ... ... ...
</pre>
<pre>}
</pre>
</div>
</div>
<p> </p>
<p>OutputStream y <code>InputStream</code> y todas sus subclases, reciben en el constructor el objeto que representa el flujo de datos para el dispositivo de entrada o salida.</p>
<p>Por ejemplo, podemos copiar el contenido de un fichero en otro con este método:</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R11_01_copiar.png"><img alt="Código Java para copiar de un fichero origen a otro destino.  Se incluye en archivo enlazado bajo la imagen." class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R11_01_copiar_miniatura.png" title="Entrada y salida estándar."></a></div>
</div>
<p class="enlace_centrado"><a class="documento" title="Descargar archivo con el código de copiar. [txt – 1KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R11_02_copiar.txt">Código de copiar.</a> <span class="tamano">(1 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper RecomendacionfpdIdevice em_iDevice" id="id24">
<div class="iDevice emphasis_recomendacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_recomendacionfpd.png)"><h2 class="iDeviceTitle">Recomendación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id24-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta24_50" class="block iDevice_content">
<p>En los enlaces siguientes puedes ver la documentación oficial de Oracle sobre FileInputStream y sobre FileOutputStream.</p>
<div style="width: 100%;">
<div style="width: 50%; float: left;">
<div class="elemento_centrado">
<p class="enlace_centrado"><a class="html" title="Acceder a la documentación sobre FileInputStream." href="http://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html">FileInputStream.</a></p>
</div>
</div>
<div style="width: 50%; float: right;">
<div class="elemento_centrado">
<p class="enlace_centrado"><a class="html" title="Acceder a la documentación sobre FileOutputStream." href="http://docs.oracle.com/javase/8/docs/api/java/io/FileOutputStream.html">FileOutputStream.</a></p>
</div>
</div>
</div>
<div style="clear: both;"> </div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.4.- Flujos basados en caracteres.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id25">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id25-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta25_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R12_caracteres.jpg" alt="Pantalla en la que aparecen muchos caracteres en idioma oriental. " title="Caracteres." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-sa" title="CC by-sa" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-sa</span></a> <a title="挪威 企鵝" href="https://www.flickr.com/photos/macglee/4795368373/" target="_blank">挪威 企鵝</a></div>
</div>
<p>Las clases orientadas al flujo de <span lang="en">bytes</span> nos proporcionan la suficiente funcionalidad para realizar cualquier tipo de operación de entrada o salida, pero no pueden trabajar directamente con <strong>caracteres Unicode</strong>, los cuales están <strong>representados por dos <span lang="en">bytes</span>.</strong> Por eso, se consideró necesaria la creación de las clases orientadas al flujo de caracteres para ofrecernos el soporte necesario para el tratamiento de caracteres.</p>
<p>Para los flujos de caracteres, <span lang="en">Java</span> dispone de dos clases abstractas: Reader y <code>Writer</code>.</p>
<p>Reader, <code>Writer</code>, y todas sus subclases, reciben en el constructor el objeto que representa el flujo de datos para el dispositivo de entrada o salida.</p>
<p><strong><span class="destacado_inline">Hay que recordar que cada vez que se llama a un constructor se abre el flujo de datos y es necesario cerrarlo cuando no lo necesitemos.</span></strong></p>
<p>Existen muchos tipos de flujos dependiendo de la utilidad que le vayamos a dar a los datos que extraemos de los dispositivos.</p>
<p><strong>Un flujo puede ser envuelto por otro flujo para tratar el flujo de datos de forma cómoda</strong>. Así, un bufferedWriter nos permite manipular el flujo de datos como un <span lang="en">buffer,</span> pero si lo envolvemos en un PrintWriter lo podemos escribir con muchas más funcionalidades adicionales para diferentes tipos de datos.</p>
<p>En este ejemplo de código, se ve cómo podemos escribir la salida estándar a un fichero. Cuando se teclee la palabra "salir", se dejará de leer y entonces se saldrá del bucle de lectura.</p>
<p>Podemos ver cómo se usa InputStreamReader que es un puente de flujos de <span lang="en">bytes</span> a flujos de caracteres: lee <span lang="en">bytes</span> y los decodifica a caracteres. BufferedReader lee texto de un flujo de entrada de caracteres, permitiendo efectuar una lectura eficiente de caracteres, vectores y líneas.</p>
<p>Como vemos en el código, usamos FileWriter para flujos de caracteres, pues para datos binarios se utiliza FileOutputStream.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R12_01_leebufer.jpg"><img alt="Código Java donde se leen líneas de caracteres de la entrada, hasta que se teclee la palabra salir.Se incluye en archivo enlazado bajo la imagen." class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R12_01_leebufer_miniatura.jpg" style="width: 200px; height: 100px;" title="Leer con buffer."></a></div>
</div>
<p class="enlace_centrado"><a class="documento" title="Descargar archivo con el código de copiar. [txt – 1KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R12_02_codleebufer.txt">Código de copiar.</a> <span class="tamano">(1 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id26">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id26-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta26_54" class="block iDevice_content">
<p><strong>Indica si es verdadera o falsa la siguiente afirmación:</strong></p>
<p><strong><br> </strong></p>
</div>
<div class="question">
<form name="true-false-form-0b26" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b26" class="block iDevice_content">
<p><strong> Para flujos de caracteres es mejor usar las clases </strong>Reader<strong> y </strong>Writer<strong> en vez de </strong>InputStream<strong> y </strong>OutputStream<strong>.</strong></p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b26"><input type="radio" name="option0b26" id="true0b26" class="exe-radio-option exe-radio-option-0-2-0b26-truefalse"> Verdadero</label> 
<label for="false0b26"><input type="radio" name="option0b26" id="false0b26" class="exe-radio-option exe-radio-option-1-2-0b26-truefalse"> Falso</label>
</p>
</form>
<div id="s0b26" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b26-result" class="right">Verdadero</strong></p>
<p>Reader y <code>Writer</code> se aconseja para los flujos de caracteres, mientras que InputStream y <code>OutputStream</code> se aconsejan para los ficheros binarios.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.5.- Rutas de los ficheros.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id27">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id27-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta27_73" class="block iDevice_content">
<p><img alt="Mapa en el que se ve la ruta de Magallanes y ElCano. " class="elemento_izquierda" src="./recopila_files/PROG08_CONT_R13_mapamundi.JPG" title="Mapamundi"></p>
<p>En los ejemplos que vemos en el tema estamos usando la ruta de los ficheros tal y como se usan en <acronym title="MicroSoft-Disk Operating System." lang="en">MS-DOS</acronym>, o <span lang="en">Windows</span>, es decir, por ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 24.7em;">
<div class="texto_izquierda">
<pre>c:\\datos\\Programacion\\fichero.txt
</pre>
</div>
</div>
<p>Cuando operamos con rutas de ficheros, el carácter separador entre directorios o carpetas suele cambiar dependiendo del sistema operativo en el que se esté ejecutando el programa.</p>
<p>En Java, una barra \ sirve como secuencia de escape de caracteres literales como 
. 	, etc. Así, una barra literal se debe escribir como "\\". Es decir, son dos barras por cada literal.</p>
<p>Para evitar problemas en la ejecución de los programas cuando se ejecuten en uno u otro sistema operativo, y por tanto persiguiendo que nuestras aplicaciones sean lo más portables posibles, se recomienda usar en <span lang="en">Java</span>: File.separator.</p>
<p>Podríamos hacer una función que al pasarle una ruta nos devolviera la adecuada según el separador del sistema actual, del siguiente modo:</p>
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R13_01_rutas.png"><img alt="Código en Java para crear un fichero. Se incluye en archivo enlazado bajo la imagen." class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R13_01_rutas_miniatura.jpg" style="width: 200px; height: 100px;" title="Separador de ruta de ficheros."></a></div>
<p class="enlace_centrado"><a title="Descargar archivo con el código de separador de rutas. [java – 1KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R14_cod_rutas.java"><span class="documento">Código de separador de rutas.</span></a><span class="tamano"> (1 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id74">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id74-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta74_44" class="block iDevice_content">
<p>En el siguiente vídeo puedes ver una explicación bastante extensa sobre manipulación de ficheros y directorios en Java.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo">Manipulación archivos y directorios</div>
<div class="elemento_centrado">
<p><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/TBzGXYqFq3w">https://www.youtube.com/embed/TBzGXYqFq3w</a></span><iframe src="./recopila_files/TBzGXYqFq3w.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></p>
</div>
<div class="elemento_centrado credenciales"><a title="Ver el resumen del vídeo" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG03_Descripcion_videomanejorDir.html" target="_blank">Resumen del vídeo</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id28">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id28-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta28_54" class="block iDevice_content">
<p><strong>Indica si es verdadera o falsa la siguiente afirmación.</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b28" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b28" class="block iDevice_content">
<p>Cuando trabajamos con ficheros en <span lang="en">Java</span>, no es necesario capturar las excepciones, el sistema se ocupa automáticamente de ellas.</p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b28"><input type="radio" name="option0b28" id="true0b28" class="exe-radio-option exe-radio-option-0-2-0b28-truefalse"> Verdadero</label> 
<label for="false0b28"><input type="radio" name="option0b28" id="false0b28" class="exe-radio-option exe-radio-option-1-2-0b28-truefalse"> Falso</label>
</p>
</form>
<div id="s0b28" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b28-result" class="wrong">Falso</strong></p>
<p>Es falso, hay que tratarlas adecuadamente para evitar malos funcionamientos de la aplicación</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.- Trabajando con ficheros.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id29">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id29-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta29_66" class="block iDevice_content">
<p><strong><img src="./recopila_files/EIN_PPAA_CASO_R08_ProfesorCuerpo_FOT.jpg" alt="Juan de pie hablando, gesticulando con los brazos." title="Persona de pie y hablando." class="elemento_izquierda" width="200" height="140">Juan </strong>le comenta a <strong>María</strong>:</p>
<p><span class="st">—</span>Tenemos que programar una copia de seguridad diaria de los datos del fichero de texto plano que utiliza el programa para guardar la información.</p>
<p>Mientras <strong>María</strong> escucha a <strong>Juan</strong>, recuerda que para copias de seguridad, siempre ha comprobado que la mejor opción es utilizar ficheros secuenciales. </p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id30">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id30-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta30_73" class="block iDevice_content">
<p><img alt="Mano introduciendo un disquete en el ordenador. " class="elemento_derecha" src="./recopila_files/PROG08_CONT_R15_disquete.jpg" title="Disquete."></p>
<p>¿Crees que es una buena opción la que piensa María o utilizarías otra en su lugar?</p>
<p>En este apartado vas a seguir profundizando en el manejo de los ficheros. Profundizaremos en  cómo leer y escribir en ellos, y también hablaremos de las formas de acceso a los ficheros: secuencial o  aleatorio.</p>
<p>Siempre hemos de tener en cuenta que la manera de proceder con ficheros debe ser:</p>
<ul class="lista_verificacion">
<li><strong>Abrir</strong> o bien <strong>crear</strong> si no existe el fichero.</li>
<li><strong>Hacer las operaciones</strong> que necesitemos.</li>
<li><strong>Cerrar el fichero</strong>, para no perder la información que se haya modificado o añadido.</li>
</ul>
<p>También es muy importante el <strong>control de las excepciones</strong>, para evitar que se produzcan fallos en tiempo de ejecución. Si intentamos abrir sin más un fichero, sin comprobar si existe o no, y no existe, saltará una excepción.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id31">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id31-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta31_47" class="block iDevice_content">
<p>En el siguiente enlace a la wikipedia podrás ver la descripción de varias extensiones que pueden presentar los archivos.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a la definición de extensión." href="http://es.wikipedia.org/wiki/Extensi%C3%B3n_de_archivo">Extensión de un archivo.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.1.- Escritura y lectura de información en ficheros.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id32">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id32-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta32_73" class="block iDevice_content">
<p><img alt="Mano escribiendo a bolígrafo sobre un papel. " class="elemento_izquierda" src="./recopila_files/PROG08_CONT_R16_escritura.JPG" title="Escribiendo"></p>
<p>Acabamos de mencionar los pasos fundamentales para proceder con ficheros: abrir, operar, cerrar.</p>
<p>Además de esas consideraciones, debemos tener en cuenta también las clases <span lang="en">Java</span> a emplear, es decir, recuerda que hemos comentado que si vamos a tratar con ficheros de texto, es más eficiente emplear las clases de Reader y <code>Writer</code>, frente a las clases de InputStream y <code>OutputStream</code> que están indicadas para flujos de <span lang="en">bytes</span>.</p>
<p>Otra cosa a considerar, cuando se va a hacer uso de ficheros, es la forma de acceso al fichero que se va a utilizar, si va a ser de manera secuencial o bien aleatoria. En un fichero secuencial, <strong>para acceder a un dato debemos recorrer todo el fichero desde el principio hasta llegar a su posición</strong>. Sin embargo, en un fichero de <a class="glosario" href="./recopila_files/saved_resource">acceso aleatorio<span><em>Acceso aleatorio</em>Es la posibilidad de acceder a un elemento arbitrario de una secuencia de datos en el mismo tiempo.</span></a> podemos posicionarnos directamente en una posición del fichero, y ahí leer o escribir.</p>
<p>Aunque ya has visto un ejemplo que usa BufferedReader, insistimos aquí sobre la filosofía de estas clases, que usan la idea de un <span lang="en">buffer</span>.</p>
<p>La idea es que cuando una aplicación necesita leer datos de un fichero, tiene que estar esperando a que el disco en el que está el fichero le proporcione la información.</p>
<p>Un dispositivo cualquiera de <a class="glosario" href="./recopila_files/saved_resource">memoria masiva<span><em>Memoria masiva</em>Consiste en un tipo de almacenamiento permanente, no volátil, a diferencia de la memoria principal del ordenador que sí es volátil, pero posee mayor capacidad de almacenamiento que la memoria principal, aunque es más lenta que ésta.</span></a>, por muy rápido que sea, es mucho más lento que la <acronym title="Central Processing Unit." lang="en">CPU</acronym> del ordenador.</p>
<p>Así que, es fundamental <strong>reducir el número de accesos al fichero</strong> a fin de mejorar la eficiencia de la aplicación, y para ello se asocia al fichero una memoria intermedia, el <span lang="en">buffer</span>, de modo que cuando se necesita leer un <span lang="en">byte</span> del archivo, en realidad se traen hasta el <span lang="en">buffer</span> asociado al flujo, ya que es una memoria mucho más rápida que cualquier otro dispositivo de memoria masiva.</p>
<p>Cualquier operación de Entrada/Salida a ficheros puede generar una IOException, es decir, un error de Entrada/Salida. Puede ser por ejemplo, que el fichero no exista, o que el dispositivo no funcione correctamente, o que nuestra aplicación no tenga permisos de lectura o escritura sobre el fichero en cuestión. Por eso, las sentencias que involucran operaciones sobre ficheros, deben ir siempre en un bloque try-catch.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id33">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id33-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta33_47" class="block iDevice_content">
<p>En este tutorial aprenderás a crear carpetas y archivos en la consola <acronym title="MicroSoft Disk Operating System." lang="en">MS-DOS</acronym>.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo">Crear carpetas y archivos en <acronym title="MicroSoft Disk Operating System." lang="en">MS-DOS</acronym></div>
</div>
<div class="elemento_centrado">
<div class="elemento_centrado"><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/Dqp1xRUUUOc">https://www.youtube.com/embed/Dqp1xRUUUOc</a></span><iframe src="./recopila_files/Dqp1xRUUUOc.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " comandos="" ms-dos.""="" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_Descripcion_Video_ComandosMS-DOS.html">Resumen textual alternativo</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id34">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id34-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta34_54" class="block iDevice_content">
<p><strong>Señala si es verdadera o es falsa la siguiente afirmación:</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b34" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b34" class="block iDevice_content">
<p><strong>La idea de usar <span lang="en">buffers</span> con los ficheros es incrementar los accesos físicos a disco.</strong> </p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b34"><input type="radio" name="option0b34" id="true0b34" class="exe-radio-option exe-radio-option-0-2-0b34-truefalse"> Verdadero</label> 
<label for="false0b34"><input type="radio" name="option0b34" id="false0b34" class="exe-radio-option exe-radio-option-1-2-0b34-truefalse"> Falso</label>
</p>
</form>
<div id="s0b34" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b34-result" class="wrong">Falso</strong></p>
<p>Se trata de disminuir esos accesos.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.2.- Ficheros binarios y ficheros de texto (I).</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id35">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id35-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta35_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R17_texto.jpg" alt="Página de un libro con texto. " title="Texto." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc" title="CC by-nc" href="http://creativecommons.org/licenses/by-nc/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc</span></a> <a title="Evandro Clivatti Dall&#39;Agnol" href="https://www.flickr.com/photos/entropyer/43134722/" target="_blank">Evandro Clivatti Dall'Agnol</a></div>
</div>
<p>Ya comentamos anteriormente que los ficheros se utilizan para guardar la información en un soporte: disco duro, disquetes, memorias <acronym title="Universal Serial Bus.">usb</acronym>, <acronym title="Digital Versatile Disc.">dvd</acronym>, <abbr title="etcétera.">etc.</abbr>, y posteriormente poder recuperarla. También distinguimos dos tipos de ficheros: los de <strong>texto</strong> y los <strong>binarios</strong>.</p>
<p>En los <strong>ficheros de texto</strong> la información se guarda como caracteres. Esos caracteres están codificados en <strong><span lang="en">Unicode</span></strong>, o en <strong><acronym title="American Standard Code for Information Interchange" lang="en">ASCII</acronym></strong> u otras codificaciones de texto.</p>
<p>En la siguiente porción de código puedes ver cómo para un fichero existente, que en este caso es texto.txt, averiguamos la codificación que posee, usando el método getEncoding()</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/pantallazo.png" target="_blank"><img alt="Obtener codificación.  Se incluye en archivo enlazado bajo la imagen." class="imagen_ampliable" src="./recopila_files/pantallazo_mini.png" style="width: 200px; height: 100px;" title="Codificación." width="200" height="78"></a></div>
</div>
<p class="enlace_centrado"><a class="paquete" title="Descargar archivo con el código de separador de rutas. [txt – 1KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/JavaApplication12.zip" target="_blank">Obtención del tipo de codificación.</a> <span class="tamano">(1 KB)</span></p>
<p>Para <strong>archivos de texto</strong>, se puede abrir el fichero para leer usando la clase FileReader. Ésta clase nos proporciona métodos para <strong>leer caracteres</strong>. Cuando nos interese no leer carácter a carácter, sino <strong>leer líneas completas</strong>, podemos usar la clase BufferedReader a partir de FileReader. Lo podemos hacer de la siguiente forma:</p>
<div class="codigo elemento_centrado" style="width: 29.65em;">
<div class="texto_izquierda">
<pre>File archivo = new File ("C:\\fich.txt");
</pre>
<pre>FileReader fr = new FileReader (archivo);
</pre>
<pre>BufferedReader br = new BufferedReader(fr);
</pre>
<pre>...
</pre>
<pre>String linea = br.readLine();
</pre>
</div>
</div>
<p>Para <strong>escribir en archivos de texto</strong> lo podríamos hacer, teniendo en cuenta:</p>
<div class="codigo elemento_centrado" style="width: 26.9em;">
<div class="texto_izquierda">
<pre>FileWriter fichero = null;
</pre>
<pre>PrintWriter pw = null;
</pre>
<pre>fichero = new FileWriter("c:/fich2.txt");
</pre>
<pre>pw = new PrintWriter(fichero);
</pre>
<pre>pw.println("Linea de texto");
</pre>
<pre>...
</pre>
</div>
</div>
<p>Si el fichero al que queremos escribir existe y lo que queremos es añadir información, entonces pasaremos el segundo parámetro como true:</p>
<div class="codigo elemento_centrado" style="width: 23.6em;">
<div class="texto_izquierda">
<pre>FileWriter("c:/fich2.txt",true);
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id36">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id36-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta36_47" class="block iDevice_content">
<p>En el siguiente enlace a wikipedia puedes ver el código <acronym title="American Standard Code for Information Interchange." lang="en">ASCII</acronym>.</p>
<p class="enlace_centrado"><a class="html" title="Acceder al artículo de Wikipedia dedicado al código Ascii." href="http://es.wikipedia.org/wiki/ASCII">Código ASCII.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.2.1.- Ficheros binarios y ficheros de texto (II).</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id37">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id37-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta37_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R18_hexadecimal.png" alt="Pantalla negra con caracteres en hexadecimal." title="Hexadecimal." style="float: right;" height="100" width="200"></div>
<div class="elemento_centrado credenciales"><a class="cc0" title="Dominio público" href="http://creativecommons.org/publicdomain/zero/1.0/deed.es" target="_blank"><span class="transparente">Dominio público</span></a>&nbsp;<a title="Paulnasca" href="https://es.wikipedia.org/wiki/Archivo:Binary_file.png" target="_blank">Paulnasca</a></div>
</div>
<p>Los <strong>ficheros binarios</strong> almacenan la información en bytes, codificada en binario, pudiendo ser de cualquier tipo: fotografías, números, letras, archivos ejecutables, etc.</p>
<p>Los archivos binarios guardan una representación de los datos en el fichero. O sea que, cuando se guarda texto no se guarda el texto en sí, sino que se guarda su representación en código <a class="glosario" href="./recopila_files/saved_resource">UTF-8<span><em>UTF-8</em>Es un formato de codificación de caracteres Unicode usando símbolos de longitud variable.</span></a>.</p>
<p>Para <strong>leer datos de un fichero binario</strong>, Java proporciona la clase <strong>FileInputStream</strong>. Dicha clase trabaja con bytes que se leen desde el flujo asociado a un fichero. Aquí puedes ver un ejemplo comentado.</p>
<p class="enlace_centrado"><a class="documento" title="Código Java de lectura de fichero binario. [java – 3KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/leerConBuffer.java">Leer de fichero binario con buffer.</a> <span class="tamano">(3.00 KB)</span></p>
<p>Para <strong>escribir datos a un fichero binario</strong>, la clase nos permite usar un fichero para escritura de <span lang="en">bytes</span> en él, es la claseFileOutputStream. La filosofía es la misma que para la lectura de datos, pero ahora el flujo es en dirección contraria, desde la aplicación que hace de fuente de datos hasta el fichero, que los consume.</p>
<p>En el siguiente fichero PDF puedes ver un esquema de cómo utilizar buffer para optimizar la lectura de teclado desde consola, por medio de las envolturas, podemos usar métodos como readline(), de la clase BufferedReader, que envuelve a un objeto de la clase InputStreamReader.</p>
<p style="text-align: center;"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R19_envolturas.pdf" title="Envolturas [pdf - 103.94 KB]" target="_blank" class="pdf">Envolturas</a><span class="exe-link-data file-size"> (pdf - 103.94 <abbr lang="en" title="KiloBytes">KB</abbr>)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id38">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id38-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta38_54" class="block iDevice_content">
<p>
<strong>Señala si es verdadera o falsa
la siguiente afirmación:</strong>
</p>

</div>
<div class="question">
<form name="true-false-form-0b38" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b38" class="block iDevice_content">
Para leer datos desde un fichero codificados en
binario empleamos la clase FileOutputStream.
¿Verdadero o falso? 

</div>
<p class="iDevice_answer js-required">
<label for="true0b38"><input type="radio" name="option0b38" id="true0b38" class="exe-radio-option exe-radio-option-0-2-0b38-truefalse"> Verdadero</label> 
<label for="false0b38"><input type="radio" name="option0b38" id="false0b38" class="exe-radio-option exe-radio-option-1-2-0b38-truefalse"> Falso</label>
</p>
</form>
<div id="s0b38" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b38-result" class="wrong">Falso</strong></p>
Se trata en efecto de FileInputStream.

</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id73">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id73-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta73_44" class="block iDevice_content">
<p>Tienes ejemplos de lectura y escritura de ficheros en Java, en el siguiente enlace:</p>
<p style="text-align: center;"><a class="html" title="Lectura y escritura de ficheros." href="http://jarroba.com/lectura-escritura-ficheros-java-ejemplos/" target="_blank">Lectura y escritura de ficheros en Java, con ejemplos.</a></p>
<p style="text-align: left;"> </p>
<p style="text-align: left;">También te recomendamos que veas detenidamente estos dos vídeos, que explican con detalle el acceso a ficheros en Java.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo"><span lang="en">Streams</span> I. Accediendo a ficheros. Lectura</div>
<div class="elemento_centrado">
<p><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/etQN4EfYN7k">https://www.youtube.com/embed/etQN4EfYN7k</a></span><iframe src="./recopila_files/etQN4EfYN7k.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></p>
</div>
<div class="elemento_centrado credenciales"><a title="Ver el resumen del vídeo" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG07_Descripcion_Video_Streams1.html" target="_blank">Resumen del vídeo</a></div>
<div class="elemento_centrado credenciales"> </div>
</div>
<p> </p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo">Streams II. Accediendo a ficheros Escritura</div>
<div class="elemento_centrado">
<p><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/E0H4OzW2_1Y">https://www.youtube.com/embed/E0H4OzW2_1Y</a></span><iframe src="./recopila_files/E0H4OzW2_1Y.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></p>
</div>
<div class="elemento_centrado credenciales"><a title="Ver el resumen del vídeo" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG07_Descripcion_Video_Streams2.html" target="_blank">Resumen del vídeo</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.3.- Modos de acceso. Registros.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id39">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id39-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta39_73" class="block iDevice_content">
<p><img alt="Tres cuadrados consecutivos representando tres registros y uno más a la derecha" class="elemento_izquierda" src="./recopila_files/PROG08_CONT_R20_registros.JPG" title="Registros" width="200" height="100"></p>
<p>En Java no se impone una estructura en un fichero, por lo que conceptos como el de registro que si existen en otros lenguajes, en principio no existen en los archivos que se crean con Java. Por tanto, los programadores deben estructurar los ficheros de modo que cumplan con los requerimientos de sus aplicaciones.</p>
<p>Así, el programador definirá su registro con el número de bytes que le interesen, moviéndose luego por el fichero teniendo en cuenta ese tamaño que ha definido.</p>
<p>Se dice que un fichero es de acceso directo o de organización directa cuando para acceder a un registro <strong>n</strong> cualquiera, no se tiene que pasar por los <strong>n-1</strong> registros anteriores. En caso contrario, estamos hablando de ficheros secuenciales.</p>
<p>Con Java se puede trabajar con <strong>ficheros secuenciales</strong> y con <strong>ficheros de acceso aleatorio</strong>.</p>
<p>En los <strong>ficheros secuenciales</strong>, la información se almacena de manera secuencial, de manera que para recuperarla se debe hacer en el mismo orden en que la información se ha introducido en el archivo. Si por ejemplo queremos leer el registro del fichero que ocupa la posición tres (en la ilustración sería el que contiene el número 5), tendremos que abrir el fichero y leer los primeros tres registros, hasta que finalmente leamos el registro número tres.</p>
<p>Por el contrario, si se tratara de un <strong>fichero de acceso aleatorio</strong>, podríamos acceder directamente a la posición tres del fichero, o a la que nos interesara.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id40">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id40-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-40_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion40_60" class="block question iDevice_content">
<p>
<strong>Señala la opción correcta:</strong>
</p>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i40_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_63">Opción 1</a></label><input type="radio" name="option40_60" id="i40_63" class="exe-radio-option exe-radio-option-0-4-40_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-40_63"><a name="answer-40_63" href="./recopila_files/saved_resource"></a>
<div id="taans40_63" class="block iDevice_content">
<p>
Java sólo admite el uso de ficheros
aleatorios.
</p>

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i40_98" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_98">Opción 2</a></label><input type="radio" name="option40_60" id="i40_98" class="exe-radio-option exe-radio-option-1-4-40_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-40_98"><a name="answer-40_98" href="./recopila_files/saved_resource"></a>
<div id="taans40_98" class="block iDevice_content">
Con los ficheros de acceso aleatorio se puede
acceder a un registro determinado directamente.<u> </u>

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i40_101" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_101">Opción 3</a></label><input type="radio" name="option40_60" id="i40_101" class="exe-radio-option exe-radio-option-2-4-40_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-40_101"><a name="answer-40_101" href="./recopila_files/saved_resource"></a>
<div id="taans40_101" class="block iDevice_content">
<p>
Los ficheros secuenciales se deben leer de
tres en tres registros.
</p>

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i40_104" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_104">Opción 4</a></label><input type="radio" name="option40_60" id="i40_104" class="exe-radio-option exe-radio-option-3-4-40_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-40_104"><a name="answer-40_104" href="./recopila_files/saved_resource"></a>
<div id="taans40_104" class="block iDevice_content">
<p>
Todas son falsas.
</p>

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b40_60" class="feedback js-hidden"><a name="sa0b40_60" href="./recopila_files/saved_resource"></a>
<div id="taf40_63" class=" iDevice_content">
<p>
No es correcto, permite también los ficheros secuenciales.
</p>

</div>
</div>
<div id="sa1b40_60" class="feedback js-hidden"><a name="sa1b40_60" href="./recopila_files/saved_resource"></a>
<div id="taf40_98" class=" iDevice_content">
<p>
¡Bien hecho! Esa es la respuesta correcta. 
</p>

</div>
</div>
<div id="sa2b40_60" class="feedback js-hidden"><a name="sa2b40_60" href="./recopila_files/saved_resource"></a>
<div id="taf40_101" class=" iDevice_content">
<p>
Incorrecto, no hay ninguna restricción de
este tipo.
</p>

</div>
</div>
<div id="sa3b40_60" class="feedback js-hidden"><a name="sa3b40_60" href="./recopila_files/saved_resource"></a>
<div id="taf40_104" class=" iDevice_content">
Respuesta incorrecta, repasa de nuevo los
apuntes.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa0b40_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_98">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa1b40_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_101">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa2b40_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-40_104">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa3b40_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.4.- Acceso secuencial.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id41">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id41-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta41_73" class="block iDevice_content">
<p><img alt="Un cero con ojos y cejas." class="elemento_derecha" src="./recopila_files/PROG08_CONT_R21_cero.jpg" title="Cero."></p>
<p>En el siguiente ejemplo vemos cómo se <strong>escriben datos en un fichero secuencial</strong>: el nombre y apellidos de una persona utilizando el método writeUTF() que proporciona DataOutputStream, seguido de su edad que la escribimos con el método writeInt() de la misma clase. A continuación escribimos lo mismo para una segunda persona y de nuevo para una tercera. Después cerramos el fichero. Y ahora lo abrimos de nuevo para ir <strong>leyendo de manera secuencial</strong> los datos almacenados en el fichero, y escribiéndolos a consola.</p>
<p class="enlace_centrado"><a class="documento" title="Escribir y leer en fichero secuencial. [java – 3KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/escylee.java">Escribir y leer.</a> <span class="tamano">(3.00 KB)</span></p>
<p>Si miras el ejemplo y la documentación en la API del método writeUTF(), verás que lo primero que hace antes de escribir una cadena es guardar en el flujo de salida dos bytes que indican el número de bytes que se van a usar para escribir esa cadena. De esta forma, cuando usemos el método readUTF() para leer dicha  cadena, java sabe dónde termina, cuándo tiene que parar de leer bytes para esa cadena, sin que nosotros tengamos que preocuparnos de ello. <br><br>Con lo que sí tenemos que ser cuidadosos, a la hora de leer del fichero, es con usar los métodos readUTF() y <code>readInt()</code> en el mismo orden en que habíamos usado antes writeUTF() y <code>writeInt()</code> para escribir en el fichero. <br><br></p>
<p>Por tanto para <strong>buscar información en un fichero secuencial</strong>, tendremos que abrir el fichero e ir leyendo registros hasta encontrar el registro que buscamos.</p>
<p>¿Y si queremos <strong>eliminar un registro en un fichero secuencial</strong>, qué hacemos? Esta operación es un problema, puesto que no podemos quitar el registro y reordenar el resto. Una opción, aunque costosa, sería crear un nuevo fichero. Recorremos el fichero original y vamos copiando registros en el nuevo hasta llegar al registro que queremos borrar. Ese no lo copiamos al nuevo, y seguimos copiando hasta el final, el resto de registros al nuevo fichero. De este modo, obtendríamos un nuevo fichero que sería el mismo que teníamos pero sin el registro que queríamos borrar. Por tanto, si se prevé que se va a borrar en el fichero, no es recomendable usar un fichero de este tipo, o sea, secuencial.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id42">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id42-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta42_54" class="block iDevice_content">
<p><strong>Señala si es verdadera o es falsa la siguiente afirmación:</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b42" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b42" class="block iDevice_content">
<p>Para encontrar una información almacenada en la mitad de un fichero secuencial, podemos acceder directamente a esa posición sin pasar por los datos anteriores a esa información.</p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b42"><input type="radio" name="option0b42" id="true0b42" class="exe-radio-option exe-radio-option-0-2-0b42-truefalse"> Verdadero</label> 
<label for="false0b42"><input type="radio" name="option0b42" id="false0b42" class="exe-radio-option exe-radio-option-1-2-0b42-truefalse"> Falso</label>
</p>
</form>
<div id="s0b42" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b42-result" class="wrong">Falso</strong></p>
<p>Se ha de recorrer el fichero desde el principio.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.5.- Acceso aleatorio.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id43">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id43-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta43_73" class="block iDevice_content">
<p><img alt="Fichas en un archivador." class="elemento_derecha" src="./recopila_files/PROG08_CONT_R22_fich.JPG" title="Fichas."></p>
<p>A veces no necesitamos leer un fichero de principio a fin, sino acceder al fichero como si fuera una base de datos, donde se accede a un registro concreto del fichero. Java proporciona la clase RandomAccessFile para este tipo de entrada/salida.</p>
<p>La clase RandomAccessFile permite utilizar un fichero de <strong>acceso aleatorio</strong> en el que el programador define el formato de los registros.</p>
<div class="codigo elemento_centrado" style="width: 37em;">
<div class="texto_izquierda">
<pre>RandomAccessFile objFile = new RandomAccessFile( ruta, modo );
</pre>
</div>
</div>
<p>Donde ruta es la dirección física en el sistema de archivos y modo puede ser:</p>
<ul class="lista_verificacion">
<li>"r" para sólo lectura.</li>
<li>"rw" para lectura y escritura.</li>
</ul>
<p>La clase RandomAccessFile implementa los interfaces DataInput y <code>DataOutput</code>. Para abrir un archivo en modo lectura haríamos:</p>
<div class="codigo elemento_centrado" style="width: 37em;">
<div class="texto_izquierda">
<pre>RandomAccessFile in = new RandomAccessFile(“input.dat”, “r”);
</pre>
</div>
</div>
<p>Para abrirlo en modo lectura y escritura:</p>
<div class="codigo elemento_centrado" style="width: 37em;">
<div class="texto_izquierda">
<pre>RandomAccessFile inOut = new RandomAccessFile(“input.dat”, “rw”);
</pre>
</div>
</div>
<p>Esta clase permite leer y escribir sobre el fichero, no se necesitan dos clases diferentes.</p>
<p>Hay que especificar el modo de acceso al construir un objeto de esta clase: sólo lectura o lectura/escritura.</p>
<p>Dispone de métodos específicos de desplazamiento como seek y <code>skipBytes</code> para poder moverse de un registro a otro del fichero, o posicionarse directamente en una posición concreta del fichero.</p>
<p>No está basada en el concepto de flujos o <span lang="en">streams</span>.</p>
<p>En el siguiente enlace vemos cómo crear un fichero, cómo podemos acceder, y actualizar información en él.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R23_RandomFile.pdf" title="Trabajando con ficheros [pdf - 308091 B]">Trabajando con ficheros</a><span class="exe-link-data file-size"> (pdf - 308091 <abbr title="Bytes" lang="en">B</abbr>)</span>.</div>
<div class="elemento_centrado titulo"></div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id75">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id75-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta75_43" class="block iDevice_content">
<p>En el siguiente documento tienes un ejemplo sobre el uso de ficheros de acceso aleatorio.</p>
<div class="enlace_centrado"><a class="pdf" title="Acceder al documento de acceso a ficheros aleatorios. [pdf – 48KB]" href="http://elvex.ugr.es/decsai/java/pdf/C4-random.pdf" target="_blank">Acceso aleatorio a ficheros.</a> <span class="tamano"> (48 KB) </span></div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id44">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id44-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta44_54" class="block iDevice_content">
<p><strong>Indica si es verdadera o es falsa la siguiente afirmación:</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b44" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b44" class="block iDevice_content">
<p>Para decirle el modo de lectura y escritura a un objeto RandomAccessFile debemos pasar como parámetro "rw".</p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b44"><input type="radio" name="option0b44" id="true0b44" class="exe-radio-option exe-radio-option-0-2-0b44-truefalse"> Verdadero</label> 
<label for="false0b44"><input type="radio" name="option0b44" id="false0b44" class="exe-radio-option exe-radio-option-1-2-0b44-truefalse"> Falso</label>
</p>
</form>
<div id="s0b44" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b44-result" class="right">Verdadero</strong></p>
<p>Esos son los parámetros para el modo lectura y escritura.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">6.- Aplicaciones del almacenamiento de información en ficheros.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id46">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id46-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta46_66" class="block iDevice_content">
<p><strong><img class="elemento_izquierda" src="./recopila_files/CASO_PERSONAJES_08.jpg" alt="Primer plano de Antonio, mirando hacia el frente." title="Antonio mirando hacia el frente.">Antonio </strong>ha quedado con <strong>Ana</strong> para estudiar sobre el tema de ficheros. De camino a la biblioteca, <strong>Ana</strong> le pregunta a <strong>Antonio</strong>:</p>
<p><span class="st">—</span>¿Crees que los ficheros se utilizan realmente, o ya están desfasados y sólo se utilizan las bases de datos?</p>
<p><strong>Antonio</strong>, tras pensarlo un momento, le dice a <strong>Ana</strong>:</p>
<p><span class="st">—</span>Yo creo que sí, piensa en el <acronym title="MPEG-2 Audio Layer III">mp3</acronym> que usas muchas veces, la música va grabada en ese tipo de ficheros.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id47">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id47-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta47_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R25_XML.png" alt="Contenido de un archivo XML." title="XML" style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-sa" title="CC by-sa" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-sa</span></a> <a title="Dreftymac" href="https://es.wikipedia.org/wiki/Archivo:XML.svg" target="_blank">Dreftymac</a></div>
</div>
<p>¿Has pensado la <strong>diversidad de ficheros</strong> que existe, según la información que se guarda?</p>
<p>Las fotos que haces con tu cámara digital, o con el móvil, se guardan en ficheros. Así, existe una gran cantidad de ficheros de imagen, según el método que usen para guardar la información. Por ejemplo, tenemos los ficheros de extensión: .<acronym title="Joint Photographic Experts Group">jpg</acronym>, .<acronym title="Tagged Image File Format" lang="en">tiff</acronym>, <acronym title="Graphics Interchange Format" lang="en">gif</acronym>, .<acronym title="Bits Maps Protocole" lang="en">bmp</acronym>, etc.</p>
<p>La música que oyes en tu <acronym title="Moving Picture Expert Group 3" lang="en">mp3</acronym> o en el reproductor de <acronym title="Moving Picture Expert Group 3" lang="en">mp3</acronym> de tu coche, está almacenada en ficheros que almacenan la información en formato mp3.</p>
<p>Los sistemas operativos, como Linux, Windows, etc., están constituidos por un montón de instrucciones e información que se guarda en ficheros.</p>
<p>El propio código fuente de los lenguajes de programación, como Java, C, etc., se guarda en ficheros de texto plano la mayoría de veces.</p>
<p>También se guarda en ficheros las películas en formato .<acronym title="Audio Video Interleave.">avi</acronym>, .<acronym title="MPEG significa Moving Picture Expert Group 4" lang="en">mp4</acronym>, etc.</p>
<p>Y por supuesto, se usan mucho actualmente los ficheros <acronym title="Extensible Markup Language.">XML</acronym>, que al fin y al cabo son ficheros de texto plano, pero que siguen una estructura determinada. XML se emplea mucho para el intercambio de información estructurada entre diferentes plataformas.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id48">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id48-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta48_47" class="block iDevice_content">
<p>En los siguientes enlaces a la wikipedia puedes saber más sobre el formato Mp3 y <acronym title="Free Lossless Audio Codec" lang="en">flac</acronym>.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a la información sobre el Formato mp3." href="http://es.wikipedia.org/wiki/MP3">Formato mp3.</a></p>
<p class="enlace_centrado"><a class="html" title="Acceder a la información sobre el Formato flac." href="http://es.wikipedia.org/wiki/Free_Lossless_Audio_Codec">Formato flac</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id49">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id49-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta49_54" class="block iDevice_content">
<p><strong>Indica si es verdadera o falsa la siguiente afirmación:</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b49" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b49" class="block iDevice_content">
<p>Un fichero .bmp guarda información de música codificada.</p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b49"><input type="radio" name="option0b49" id="true0b49" class="exe-radio-option exe-radio-option-0-2-0b49-truefalse"> Verdadero</label> 
<label for="false0b49"><input type="radio" name="option0b49" id="false0b49" class="exe-radio-option exe-radio-option-1-2-0b49-truefalse"> Falso</label>
</p>
</form>
<div id="s0b49" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b49-result" class="wrong">Falso</strong></p>
<p>Se trata de una imagen, mp3 sería un ejemplo de fichero para guardar música.  </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">7.- Utilización de los sistemas de ficheros.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id50">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id50-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta50_66" class="block iDevice_content">
<p><img alt="Primer plano de Ana, mirando hacia el frente." class="elemento_izquierda" src="./recopila_files/CASO_PERSONAJES_03.jpg" style="width: 192px; height: 150px; float: left;" title="Ana mirando hacia el frente. " height="150" width="192"></p>
<p><strong>Ana </strong>está estudiando en la biblioteca, junto a <strong>Antonio</strong>. Está repasando lo que le explicaron en clase sobre las operaciones relativas a ficheros en Java. En concreto, está mirando lo relativo a crear carpetas o directorios, listar directorios, borrarlos, operar en definitiva con ellos. Va a repasar ahora en la biblioteca, para tener claros los conceptos y cuando llegue de vuelta a casa, probar a compilar algunos ejemplos que a ella misma se le ocurran.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id51">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id51-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta51_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/dossier-147590_640.png" alt="Trazo representando una carpeta." title="Carpeta." style="float: right;" width="100" height="87"></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="Pixabay" href="https://pixabay.com/es/service/license/" target="_blank"><span class="transparente">CC by</span></a>&nbsp;<a title="Pixabay" href="https://pixabay.com/es/vectors/expediente-carpeta-documentos-147590/" target="_blank">OpenCliparts</a></div>
</div>
<p>Has visto en los apartados anteriores cómo operar en ficheros: abrirlos, cerrarlos, escribir en ellos, etc.</p>
<p>Lo que no hemos visto es lo relativo a <strong>crear y borrar directorios</strong> o por ejemplo poder<strong> filtrar archivos</strong>, es decir, buscar solo aquellos que tengan determinada característica, por ejemplo, que su extensión sea: .<acronym title="Texto.">txt</acronym>.</p>
<p>Ahora veremos cómo hacer estas cosas, y también cómo borrar ficheros, y crearlos, aunque crearlos ya lo hemos visto en algunos ejemplos anteriores.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id52">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id52-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta52_47" class="block iDevice_content">
<p>Accediendo a este enlace, tendrás una visión detallada sobre la organización de ficheros.</p>
<p class="enlace_centrado"><a class="html" title="Organización de ficheros." href="http://www.um.es/docencia/barzana/IAGP/Iagp7.html">Organización de Ficheros y Métodos de Enlace</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">7.1.- Clase File.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id53">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id53-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta53_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R28_ruta66.jpg" alt="Carretera estadounidense con el suelo indicando ruta 66." title="Ruta 66." style="float: right;"></div>
<div class="elemento_centrado credenciales"><a class="cc-by-sa" title="CC by-sa" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-sa</span></a> <a title="Vicente Villamón" href="https://www.flickr.com/photos/villamon/4436497726/" target="_blank">Vicente Villamón</a></div>
</div>
<p><strong>La clase File proporciona una representación abstracta de ficheros y directorios.</strong></p>
<p>Esta clase, permite examinar y manipular archivos y directorios, independientemente de la plataforma en la que se esté trabajando: Linux, Windows, etc.</p>
<p>Las instancias de la clase File representan nombres de archivo, no los archivos en sí mismos.</p>
<p>El archivo correspondiente a un nombre dado podría ser que no existiera, por ello, habrá que controlar las posibles excepciones.</p>
<p>Al trabajar con File, las rutas pueden ser:</p>
<ul class="lista_verificacion">
<li>Relativas al directorio actual.</li>
<li>Absolutas si la ruta que le pasamos como parámetro empieza por
<ul>
<li>La barra "/" en Unix, Linux.</li>
<li>Letra de unidad (C:, D:, etc.) en Windows.</li>
<li><acronym title="universal naming convention">UNC</acronym>(universal naming convention) en windows, como por ejemplo:</li>
</ul>
</li>
</ul>
<div class="codigo elemento_centrado" style="width: 39em;">
<div class="texto_izquierda">
<pre>File miFile=new File("\\\\mimaquina\\download\\prueba.txt");
</pre>
</div>
</div>
<p>A través del objeto File, un programa puede examinar los atributos del archivo, cambiar su nombre, borrarlo o cambiar sus permisos. Dado un objeto de la clase File, podemos hacer las siguientes operaciones con él:</p>
<ul class="lista_verificacion">
<li><strong>Renombrar</strong> el archivo, con el método renameTo(). El objeto File dejará de referirse al archivo renombrado, ya que el String con el nombre del archivo en el objeto File no cambia.</li>
<li><strong>Borrar</strong> el archivo, con el método delete(). También, con deleteOnExit() se borra cuando finaliza la ejecución de la máquina virtual Java.</li>
<li><strong>Crear</strong> un nuevo fichero con un nombre único. El método estático createTempFile() crea un fichero temporal y devuelve un objeto File que apunta a él. Es útil para crear archivos temporales, que luego se borran, asegurándonos tener un nombre de archivo no repetido.</li>
<li><strong>Establecer</strong> la fecha y la hora de modificación del archivo con setLastModified(). Por ejemplo, se podría hacer: new File("prueba.txt").setLastModified(new Date().getTime()); para establecerle la fecha actual al fichero que se le pasa como parámetro, en este caso <em>prueba.txt</em>.</li>
<li><strong>Crear</strong> un directorio con el método mkdir(). También existe mkdirs(), que crea los directorios superiores si no existen.</li>
<li><strong>Listar</strong> el contenido de un directorio. Los métodos list() y <code>listFiles()</code> listan el contenido de un directorio list() devuelve un vector de String con los nombres de los archivos, listFiles() devuelve un vector de objetos File.</li>
<li><strong>Listar</strong> los nombres de archivo de la raíz del sistema de archivos, mediante el método estático listRoots().</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id54">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id54-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta54_54" class="block iDevice_content">
<p><strong>Indica si es verdadera o falsa la siguiente afirmación:</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b54" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b54" class="block iDevice_content">
<p>Un objeto de la clase File representa un fichero en sí mismo.</p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b54"><input type="radio" name="option0b54" id="true0b54" class="exe-radio-option exe-radio-option-0-2-0b54-truefalse"> Verdadero</label> 
<label for="false0b54"><input type="radio" name="option0b54" id="false0b54" class="exe-radio-option exe-radio-option-1-2-0b54-truefalse"> Falso</label>
</p>
</form>
<div id="s0b54" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b54-result" class="wrong">Falso</strong></p>
<p>En efecto, representa un nombre de archivo y no el archivo en sí mismo.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">7.2.- Interface FilenameFilter.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id55">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id55-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta55_73" class="block iDevice_content">
<div class="elemento_izquierda">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R29_filtro.jpg" alt="Escurridor metálico." title="Filtro metálico."></div>
<div class="elemento_centrado credenciales"><a class="cc-by-nc-sa" title="CC by-nc-sa" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-nc-sa</span></a> <a title="Pau Bou" href="http://www.flickr.com/photos/paubou/2516489783/" target="_blank">Pau Bou</a></div>
</div>
<p>En ocasiones nos interesa ver la lista de los archivos que encajan con un determinado criterio.</p>
<p>Así, nos puede interesar un filtro para ver los ficheros modificados después de una fecha, o los que tienen un tamaño mayor del que indiquemos, etc.</p>
<p>El interface FilenameFilter se puede usar para crear filtros que establezcan criterios de filtrado relativos al nombre de los ficheros. Una clase que lo implemente debe definir e implementar el método:</p>
<div class="codigo elemento_centrado" style="width: 27.45em;">
<div class="texto_izquierda">
<pre>boolean accept(File dir, String nombre)
</pre>
</div>
</div>
<p>Este método devolverá verdadero (true), en el caso de que el fichero cuyo nombre se indica en el parámetro nombre aparezca en la lista de los ficheros del directorio indicado por el parámetro dir.</p>
<p>En el siguiente ejemplo vemos cómo se listan los ficheros de la carpeta c:\datos que tengan la extensión .odt. Usamos try y <code>catch</code> para capturar las posibles excepciones, como que no exista dicha carpeta.</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R29_01_codfiltro.jpg"><img alt="Imagen del código Java para filtrar ficheros en una carpeta llamada datos, del disco duro." class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R29_01_codfiltro_miniatura.jpg" style="width: 192px; height: 160px;" title="Filtro de ficheros."></a></div>
</div>
<p> </p>
<p>En el siguiente proyecto tienes un pequeño ejemplo de uso:</p>
<p class="enlace_centrado"><a class="paquete" title="Descargar proyecto Java para filtrar. [zip – 32KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/Filtro.zip">Filtrar ficheros.</a> <span class="tamano">(32.00 KB)</span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id56">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id56-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta56_54" class="block iDevice_content">
<p><strong>Indica si la siguiente afirmación es verdadera o falsa:</strong></p>
</div>
<div class="question">
<form name="true-false-form-0b56" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b56" class="block iDevice_content">
<p>Una clase que implemente FileNameFilter puede o no implementar el método accept.</p>
</div>
<p class="iDevice_answer js-required">
<label for="true0b56"><input type="radio" name="option0b56" id="true0b56" class="exe-radio-option exe-radio-option-0-2-0b56-truefalse"> Verdadero</label> 
<label for="false0b56"><input type="radio" name="option0b56" id="false0b56" class="exe-radio-option exe-radio-option-1-2-0b56-truefalse"> Falso</label>
</p>
</form>
<div id="s0b56" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b56-result" class="wrong">Falso</strong></p>
<p>En efecto, se debe implementar siempre.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">7.3.- Creación y eliminación de ficheros y directorios.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id57">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id57-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta57_73" class="block iDevice_content">
<p>Podemos <strong>crear un fichero</strong> del siguiente modo:</p>
<ul class="lista_verificacion">
<li>Creamos el objeto que encapsula el fichero, por ejemplo, suponiendo que vamos a crear un fichero llamado miFichero.txt, en la carpeta C:\prueba, haríamos:
<div class="codigo elemento_centrado" style="width: 35.15em;">
<div class="texto_izquierda">
<pre>File fichero = new File("c:\\prueba\\miFichero.txt");
</pre>
</div>
</div>
</li>
<li>A partir del objeto File  creamos el fichero físicamente, con la siguiente instrucción, que devuelve un boolean con valor true si se creó correctamente, o false si no se pudo crear:
<div class="codigo elemento_centrado" style="width: 18.65em;">
<div class="texto_izquierda">
<pre>fichero.createNewFile()
</pre>
</div>
</div>
</li>
</ul>
<p>Para <strong>borrar un fichero</strong>, podemos usar la clase File, comprobando previamente si existe, del siguiente modo:</p>
<ul class="lista_verificacion">
<li>Fijamos el nombre de la carpeta y del fichero con:
<div class="codigo elemento_centrado" style="width: 34.6em;">
<div class="texto_izquierda">
<pre>File fichero = new File("C:\\prueba", "agenda.txt");
</pre>
</div>
</div>
</li>
<li>Comprobamos si existe el fichero con exists() y si es así lo borramos con:
<div class="codigo elemento_centrado" style="width: 15.35em;">
<div class="texto_izquierda">
<pre>if (fichero.exists())&lt;br /&gt;    fichero.delete();
</pre>
</div>
</div>
</li>
</ul>
<p>Para <strong>crear directorios</strong>, podríamos hacer lo siguiente (se crea un directorio en la unidad C, en la raíz, y también tres carpetas en la carpeta del proyecto):</p>
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_CONT_R30_crearcarpetas.jpg"><img alt="Imagen del código Java para crear carpetas." class="imagen_ampliable" src="./recopila_files/PROG08_CONT_R30_crearcarpetas_miniatura.jpg" style="width: 160px; height: 160px;" title="Crear carpetas."></a></div>
</div>
<p class="enlace_centrado"><a class="paquete" title="Descargar código Java para crear carpetas. [zip – 12KB] " href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/CrearCarpetas.zip">Crear directorios.</a> <span class="tamano">(12 KB)</span></p>
<p>Para <strong>borrar un directorio</strong> con Java tenemos que borrar cada uno de los ficheros y directorios que éste contenga. Al poder almacenar otros directorios, se podría recorrer recursivamente el directorio para ir borrando todos los ficheros.</p>
<p>Se puede listar el contenido del directorio con:</p>
<div class="codigo elemento_centrado" style="width: 28.55em;">
<div class="texto_izquierda">
<pre>File[] ficheros = directorio.listFiles();
</pre>
</div>
</div>
<p>y entonces poder ir borrando. Si el elemento es un directorio, lo sabemos mediante el método isDirectory,</p>
</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id76">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id76-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta76_66" class="block iDevice_content">
<p>A partir de Java 7 se introdujo un nuevo mecanismo de gestión de errores conocido como "<span lang="en">try-with-resources</span>" que facilita cerrar recursos que se utilizan en un bloque <span lang="en">try-catch</span>.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id77">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id77-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta77_44" class="block iDevice_content">
<p>En el siguiente enlace tienes un ejemplo de uso de la estructura <span lang="en">try-with-resources</span>.</p>
<p style="text-align: center;"><a class="html" href="https://picodotdev.github.io/blog-bitix/2018/04/la-sentencia-try-with-resources-de-java/" target="_blank">Mejora en la gestión de recursos a partir de Java 7.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">8.- Almacenamiento de objetos en ficheros. Persistencia. Serialización.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id58">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id58-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta58_66" class="block iDevice_content">
<p><img alt="María sentada, trabajando escribiendo con un ordenador, mirando a la pantalla y tecleando." class="elemento_izquierda" src="./recopila_files/EIN_JYM_Caso_MariaOrdenador_FOT.jpg" style="width: 200px; height: 140px; float: left;" title="María trabajando. " width="200" height="140"></p>
<p>Para la aplicación de la clínica veterinaria <strong>María </strong>le propone a <strong>Juan</strong> emplear un fichero para guardar los datos de los clientes de la clínica.</p>
<p><span class="st">—</span>Como vamos a guardar datos de la clase Cliente, tendremos que serializar los datos.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id59">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id59-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta59_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><img src="./recopila_files/PROG08_CONT_R32_tron.jpg" alt="Motos azul yroja haciendo una carrera en el ciberespacio." title="Motos cibernéticas."></div>
<div class="elemento_centrado credenciales"><a class="cc-by" title="CC by" href="http://creativecommons.org/licenses/by/3.0/deed.es" target="_blank"><span class="transparente">CC by</span></a> <a title="Ballistik Coffee Boy" href="https://www.flickr.com/photos/spaceageboy/3357268635/in/photostream/" target="_blank">Ballistik Coffee Boy</a></div>
</div>
<p>¿Qué es la <strong>serialización</strong>? Es un proceso por el que <strong>un objeto se convierte en una secuencia de bytes</strong> con la que más tarde se podrá reconstruir el valor de sus variables. Esto permite guardar un objeto en un archivo.</p>
<p>Para serializar un objeto:</p>
<ul class="lista_verificacion">
<li>Este objeto debe <strong>implementar el interface </strong>java.io.Serializable. Este interface no tiene métodos, sólo se usa para informar a la <acronym title="Java Virtual Machine" lang="en">JVM</acronym> (Java <span lang="en">Virtual Machine</span>) que un objeto va a ser serializado.</li>
<li>Todos los objetos incluidos en él tienen que implementar el interfaz Serializable.</li>
</ul>
<p>Todos los <strong>tipos primitivos en Java son serializables</strong> por defecto. (Al igual que los arrays y otros muchos tipos estándar).</p>
<p>Para leer y escribir objetos serializables a un <span lang="en">stream</span> se utilizan las clases java: ObjectInputStream y <code>ObjectOutputStream</code>.</p>
<p>En el siguiente ejemplo se puede ver cómo leer un objeto serializado que se guardó antes. En este caso, se trata de un String serializado:</p>
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre>FileInputStream fichero = new FileInputStream(“str.out”);
</pre>
<pre>ObjectInputStream objetostream = new ObjectInputStream(fichero);
</pre>
<pre>Object objeto = objetostream.readObject();
</pre>
</div>
</div>
<p>Así vemos que readObject lee un objeto desde el flujo de entrada fichero. Cuando se leen objetos desde un flujo, se debe tener en cuenta qué tipo de objetos se esperan en el flujo, y se han de leer en el mismo orden en que se guardaron.</p>
<p>Una cuestión importante a tener en cuenta en una clase serializable es declarar un atributo que se debe llamar: serialVersionUID y que debemos definir como static, <code>final</code> y de tipo long. Oracle <span id="result_box" lang="es"><span class="hps">recomienda encarecidamente</span> <span class="hps">que toda clase</span> <span class="hps">serializable</span> <span class="hps">declare</span> <span class="hps">explícitamente</span> un valor <span class="hps">serialVersionUID</span><span>,</span> <span class="hps">para evitar </span><span class="hps">InvalidClassExceptions</span> <span class="hps">inesperados durante</span> <span class="hps">la deserialización. Ta</span><span class="hps">mbién</span> <span class="hps">se recomienda encarecidamente</span> <span class="hps">que las declaraciones</span> <span class="hps">explícitas</span> <span class="hps">serialVersionUID</span> <span class="hps">utilicen el</span> <span class="hps">modificador</span> <span class="hps">private</span> <span class="hps">siempre que sea posible.</span></span></p>
<p><span lang="es"><span class="hps">Así, por ejemplo, en una clase serializable, tendremos:</span></span></p>
<p style="text-align: center;"><span lang="es"><span class="hps">private static final long serialVersionUID = 42L;</span></span></p>
</div>
</div>
</div>
<div class="iDevice_wrapper VerdaderofalsofpdIdevice em_iDevice" id="id60">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id60-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta60_54" class="block iDevice_content">
<p>
<strong>Indica si es verdadera o falsa
la siguiente afirmación:</strong>
</p>

</div>
<div class="question">
<form name="true-false-form-0b60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form">
<h3 class="js-sr-av">Pregunta 1</h3>
<div id="taquestion0b60" class="block iDevice_content">
Para serializar un fichero basta con implementar
el interface Serializable. ¿Verdadero o falso?

</div>
<p class="iDevice_answer js-required">
<label for="true0b60"><input type="radio" name="option0b60" id="true0b60" class="exe-radio-option exe-radio-option-0-2-0b60-truefalse"> Verdadero</label> 
<label for="false0b60"><input type="radio" name="option0b60" id="false0b60" class="exe-radio-option exe-radio-option-1-2-0b60-truefalse"> Falso</label>
</p>
</form>
<div id="s0b60" class="feedback js-feedback js-hidden" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<p><strong id="s0b60-result" class="wrong">Falso</strong></p>
Debemos asegurarnos también
de que todos los objetos incluidos en él implementen el interface Serializable.

</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id61">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id61-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta61_47" class="block iDevice_content">
<p>En los siguientes enlaces, puedes ver un poco más sobre serialización.</p>
<p style="text-align: center;"><a class="html" href="http://www.jtech.ua.es/j2ee/publico/lja-2012-13/sesion05-apuntes.html" target="_blank">Serialización en Java</a></p>
<div class="enlace_centrado"><a class="pdf" title="Acceder al otro documento de serialización. [pdf – 284KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/capsula_serializable.pdf">Más sobre serialización en Java.</a> <span class="tamano"> (284 KB) </span></div>
<div class="enlace_centrado"><span class="tamano"> </span></div>
<p>En el siguiente enlace puedes ver la documentación de Oracle sobre Serializable, y entre otras cosas se puede ver lo que hemos dicho sobre <span id="result_box" lang="es"><span class="hps">serialVersionUID</span></span>:</p>
<p style="text-align: center;"><a class="html" title="Acceso a interface Serializable" href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html">Interface Serializable</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">8.1.- Serialización: utilidad.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id62">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id62-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta62_73" class="block iDevice_content">
<p><img alt="Letras en rojo en las que se lee serializable." class="elemento_derecha" src="./recopila_files/PROG08_CONT_R33_serializable.jpg" title="Serializable."></p>
<p>La serialización en Java se desarrolló para utilizarse con <a class="glosario" href="./recopila_files/saved_resource">RMI<span><em>RMI</em>Permite a un objeto en una máquina virtual invocar métodos de otro objeto en otra máquina virtual, que podría estar perfectamente en otro ordenador diferente, enviando parámetros y devolviendo valores a través de Internet.</span></a>. <acronym title="Remote Method Invocation" lang="en">RMI</acronym> necesitaba un modo de convertir los parámetros necesarios a enviar a un objeto en una máquina remota, y también para devolver valores desde ella, en forma de flujos de bytes. Para datos primitivos es fácil, pero para objetos más complejos no tanto, y ese mecanismo es precisamente lo que proporciona la serialización.</p>
<p>El método writeObject se utiliza para guardar un objeto a través de un flujo de salida. El objeto pasado a writeObject debe implementar el interfaz Serializable.</p>
<div class="codigo elemento_centrado" style="width: 39.55em;">
<div class="texto_izquierda">
<pre>FileOutputStream fisal = new FileOutputStream(“cadenas.out”);
</pre>
<pre>ObjectOutputStream oos = new ObjectOutputStream(fisal);
</pre>
<pre>Oos.writeObject();
</pre>
</div>
</div>
<p>La serialización de objetos se emplea también en la arquitectura de componentes software <span lang="en">JavaBean</span>. Las clases bean se cargan en herramientas de construcción de software visual, como NetBeans. Con la paleta de diseño se puede personalizar el bean asignando fuentes, tamaños, texto y otras propiedades.</p>
<p>Una vez que se ha personalizado el bean, para guardarlo, se emplea la serialización: se almacena el objeto con el valor de sus campos en un fichero con extensión .ser, que suele emplazarse dentro de un fichero .jar.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id69">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id69-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta69_63" class="block story iDevice_content">
<p>A continuación, puedes ver el código de un ejemplo muy ilustrativo sobre serialización. Supongamos que tenemos una clase Persona, con una subclase Socio, que tiene a su vez varias subclases. Por simplificar, supondremos dos: SocioTitularFamiliar y <code>SocioTitularIndividual</code>. Ahora se me presenta la necesidad de guardar un array con socios en un fichero, para posteriormente recuperarlo, ¿cómo lo hago?</p>
</div>
<div id="taquesQuestion0b69" class="block iDevice_content">

</div>
<form name="feedback-form-quesFeedback0b69" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b69text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b69" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b69" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<p>Pues en primer lugar lo que tengo que asegurarme es de que la superclase, Persona, implemente el <span lang="en">interface</span> Serializable:</p>
<p>public abstract class Persona implements Serializable</p>
<p>Y ahora, podemos almacenar objetos de este tipo en fichero. Para simplificar, se pone un sencillo ejemplo, supuesto un array de únicamente dos posiciones, creamos un objeto de cada subclase que metemos en el array. Fíjate en el código, que el array se guarda "de una tacada", no hay que ir recorriéndolo y guardado cada elemento del mismo. Además, observa también que puedes guardar el array y a continuación datos de otro tipo, en el mismo fichero.</p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 107.2em;">
<div class="texto_izquierda">
<pre>        // Declaramos el array de dos posiciones</pre>
<pre>        Socio[] socios = new Socio[2];</pre>
<pre> </pre>
<pre>        // Creamos un socio de un tipo</pre>
<pre>        SocioTitularFamiliar socTF = new SocioTitularFamiliar("Antonio", 25, 2, "Taxista", "50222333Q", </pre>
<pre>            "2222-3333-30-1111111111", 3, 1998, 4) ;</pre>
<pre> </pre>
<pre>        // Lo metemos al array</pre>
<pre>        socios[0] = socTF ;</pre>
<pre> </pre>
<pre>        // Creamos ahora un socio de otro tipo, de otra subclase</pre>
<pre>        SocioTitularIndividual socTI = new SocioTitularIndividual("Filomeno a mi pesar", 33, 1.3f, "Bombero", "22333444F", </pre>
<pre>            "2222-3333-30-1111111111", 2, 2001) ;</pre>
<pre> </pre>
<pre>        // Lo metemos al array también</pre>
<pre>        socios[1] = socTI ;</pre>
<pre> </pre>
<pre>        // Recorro el array para comprobar que todo va bien</pre>
<pre>        int contador ;</pre>
<pre>        Socio socio ;</pre>
<pre>        for (contador= 0; contador &lt; socios.length; contador++) {</pre>
<pre>            socio = socios[contador] ;</pre>
<pre>            if (socio instanceof SocioTitularFamiliar)</pre>
<pre>                ES.msgln("El de la posición " + contador + " es familiar");</pre>
<pre>            else</pre>
<pre>                ES.msgln("El de la posición " + contador + " no es familiar");</pre>
<pre>        }</pre>
<pre> </pre>
<pre> </pre>
<pre>        // Ahora pruebo a escribir el array en un fichero de disco</pre>
<pre>        try{</pre>
<pre>            // Abrir fichero para escribir en el, en la ruta que me interesa</pre>
<pre>            FileOutputStream fichero = new FileOutputStream(new File (GestionSocios.rutayFichero));</pre>
<pre>            ObjectOutputStream ficheroSalida;</pre>
<pre>            ficheroSalida = new ObjectOutputStream(fichero);</pre>
<pre>            // Escribo el array en el fichero</pre>
<pre>            ficheroSalida.writeObject(socios);</pre>
<pre>            // También escribo dos datos que me interesan</pre>
<pre>            ficheroSalida.writeInt(SocioTitularFamiliar.getNumeroSocios());</pre>
<pre>            ficheroSalida.writeInt(SocioTitularIndividual.getNumeroSocios());</pre>
<pre> </pre>
<pre>            // Cerramos el fichero</pre>
<pre>            ficheroSalida.close();</pre>
<pre> </pre>
<pre>            ES.msgln("El archivo " + GestionSocios.rutayFichero + " guardado con éxito...");</pre>
<pre>        }catch (FileNotFoundException fnfe){</pre>
<pre>            ES.msgln("Error: El fichero no existe. ");</pre>
<pre>        }catch (IOException ioe){</pre>
<pre>            ES.msgln("Error: falló la escritura en el fichero " + GestionSocios.rutayFichero);</pre>
<pre>         }</pre>
<pre> </pre>
<pre> </pre>
<pre> </pre>
<pre>         // Pruebo ahora a poner a null el array e intento recuperar de fichero</pre>
<pre>         socios = null ;</pre>
<pre> </pre>
<pre>         try{</pre>
<pre>             // Abrimos el fichero para lectura</pre>
<pre>             FileInputStream fichero = new FileInputStream(new File (GestionSocios.rutayFichero));</pre>
<pre>             ObjectInputStream ficheroEntrada = new ObjectInputStream(fichero) ;</pre>
<pre> </pre>
<pre>             // Recuperar el objeto array del fichero</pre>
<pre>             socios  = (Socio[]) ficheroEntrada.readObject(); </pre>
<pre> </pre>
<pre>             for (contador= 0; contador &lt; socios.length; contador++) {</pre>
<pre>                socio = socios[contador] ;</pre>
<pre>                if (socio instanceof SocioTitularFamiliar)</pre>
<pre>                    ES.msgln("El de la posición " + contador + " es familiar");</pre>
<pre>                else</pre>
<pre>                    ES.msgln("El de la posición " + contador + " no es familiar");</pre>
<pre>             }</pre>
<pre> </pre>
<pre>             // Leemos también y en el mismo orden que los guardamos, el resto de datos           </pre>
<pre>             SocioTitularFamiliar.setNumeroSocios(ficheroEntrada.readInt());</pre>
<pre>             SocioTitularIndividual.setNumeroSocios(ficheroEntrada.readInt());</pre>
<pre>             // Cerrar el fichero</pre>
<pre>            ficheroEntrada.close();</pre>
<pre>            ES.msgln("El Archivo " + GestionSocios.rutayFichero + " se ha cargado con éxito....");</pre>
<pre> </pre>
<pre>        }catch (ClassNotFoundException cnfe){</pre>
<pre>            ES.msgln("No se pudo acceder a la clase adecuada para revertir la Serialización al leer del fichero.");</pre>
<pre>        }catch (FileNotFoundException fnfe){</pre>
<pre>            ES.msgln("El fichero " + GestionSocios.rutayFichero + " no existe.");</pre>
<pre>        }catch (IOException ioe){</pre>
<pre>            ES.msgln("Error de Entrada/Salida: Falló la lectura del fichero. La aplicación sigue funcionando sin haber cargado los datos del archivo, para permitir crearlo de nuevo.");</pre>
<pre>        }</pre>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id63">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id63-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta63_47" class="block iDevice_content">
<p>En este enlace a puedes ver un vídeo en el que se crea una aplicación sobre serialización. No está hecha con <span lang="en">NetBeans</span>, sino con Eclipse, pero eso no presenta ningún inconveniente.</p>
<div class="elemento_centrado">
<div class="elemento_centrado titulo">Serialización</div>
</div>
<div class="elemento_centrado">
<div class="elemento_centrado"><span class="external-iframe-src" style="display:none"><a href="https://www.youtube.com/embed/4eU6WMOVMh4">https://www.youtube.com/embed/4eU6WMOVMh4</a></span><iframe src="./recopila_files/4eU6WMOVMh4.html" frameborder="0" width="560" height="315" class="external-iframe"></iframe></div>
<div class="credenciales elemento_centrado"><a title="Resumen textual alternativo para " ejemplo="" de="" aplicación="" con="" serialización="" en="" java""="" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG08_Descripcion_Video_SerializacionJava.html">Resumen textual alternativo</a></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.- Tratamiento de documentos estructurados XML.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id158">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id158-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta158_66" class="block iDevice_content">
<p> </p>
<p><strong>Ana</strong> ya ha terminado lo principal, ya es capaz de procesar el pedido y de almacenar la información en estructuras de memoria que luego podrá proyectar a un documento <acronym title="eXtended Markup Language" lang="en">XML</acronym>, incluso ha ordenado los artículos en base al código de artículo, definitivamente era bastante más fácil de lo que ella pensaba.</p>
<p>Ahora le toca la tarea más ardua de todas, o al menos así lo ve ella, generar el documento <acronym title="eXtended Markup Language" lang="en">XML</acronym> con la información del pedido. ¿Le resultará muy difícil?</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id159">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id159-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta159_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen para " ¡¡un="" perro="" que="" sabe="" xml!!"."="" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG09_CONT_R052_XMLexpert.jpg"><img alt="Imagen que muestra un perro tumbado, con cara pensativa, con un bocadillo de cómic que dice “Aquí un experto en XML... ¿lo dudabas?”" class="imagen_ampliable" src="./recopila_files/PROG09_CONT_R052_XMLexpert_miniatura.jpg" title="¡¡Un perro que sabe XML!!" height="148" width="196"></a></div>
</div>
<p>¿Qué es <acronym title="eXtended Markup Language" lang="en">XML</acronym>? </p>
<p><acronym title="eXtended Markup Language" lang="en">XML</acronym> es un mecanismo extraordinariamente sencillo para estructurar, almacenar e intercambiar información entre sistemas informáticos. <acronym title="eXtended Markup Language" lang="en">XML</acronym> define un lenguaje de etiquetas, muy fácil de entender pero con unas reglas muy estrictas, que permite encapsular información de cualquier tipo para posteriormente ser manipulada. Se ha extendido tanto que hoy día es un estándar en el intercambio de información entre sistemas.</p>
<p>La información en <acronym title="eXtended Markup Language" lang="en">XML</acronym> va escrita en texto legible por el ser humano, pero no está pensada para que sea leída por un ser humano, sino por una máquina. La información va codificada generalmente en <a class="glosario" href="./recopila_files/saved_resource">Unicode<span><em>Unicode.</em>Codificación de caracteres capaz de codificar caracteres y símbolos de múltiples idiomas.</span></a>, pero estructurada de forma que una máquina es capaz de procesarla eficazmente. Esto tiene una clara ventaja: si necesitamos modificar algún dato de un documento en <acronym title="eXtended Markup Language" lang="en">XML</acronym>, podemos hacerlo con un <a class="glosario" href="./recopila_files/saved_resource">editor de texto plano<span><em>Editor de texto plano. </em>Editor de texto que no admite formateado, solo caracteres dentro de una codificación de caracteres como Unicode o ASCII (American Standard Code for Information Interchange).</span></a>. Veamos los elementos básicos del <acronym title="eXtended Markup Language" lang="en">XML</acronym>:</p>
<table class="tabla" summary="Tabla que muestra los elementos básicos de un documento XML. En la primera columna se muestra el nombre del elemento, en la segunda una descripción de la función del mismo y en la tercera un ejemplo de su uso."><caption>Elementos de un documento XML.</caption>
<tbody>
<tr><th scope="col">Elemento</th><th scope="col">Descripción</th><th scope="col">Ejemplo</th></tr>
<tr><th scope="row">Cabecera o declaración del XML.</th>
<td>Es lo primero que encontramos en el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> y define cosas como, por ejemplo, la <a class="glosario" href="./recopila_files/saved_resource">codificación<span><em>Codificación</em>Hace referencia a cómo se codifican los caracteres de un documento de texto, es decir, cómo se convierten los símbolos humanos de escritura a ceros y unos: Unicode, ASCII, etc.</span></a> del documento XML (que suele ser <abbr title="Estándar ISO 8859 1, donde ISO significa Organización de Estandarización Internacional.">ISO-8859-1</abbr> o <acronym title=" Unicode Transformation Format" lang="en">UTF</acronym>-8) y la versión del estándar <acronym title="eXtended Markup Language." lang="en">XML</acronym> que sigue nuestro documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</td>
<td>
<div>
<div class="texto_izquierda">
<pre>&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
</pre>
</div>
</div>
</td>
</tr>
<tr><th scope="row">Etiquetas.</th>
<td>Una etiqueta es un delimitador de datos, y a su vez, un elemento organizativo. La información va entre las etiquetas de apertura ("&lt;pedido&gt;") y cierre ("&lt;/pedido&gt;"). <strong>Fíjate en el nombre de la etiqueta ("pedido"), debe ser el mismo tanto en el cierre como en la apertura, respetando mayúsculas</strong>.</td>
<td>
<div>
<div class="texto_izquierda">
<pre>&lt;pedido&gt;
</pre>
<pre>   información del pedido
</pre>
<pre>&lt;/pedido&gt;
</pre>
</div>
</div>
</td>
</tr>
<tr><th scope="row">Atributos.</th>
<td>Una etiqueta puede tener asociado uno o más atributos. Siempre deben ir detrás del nombre de la etiqueta, en la etiqueta de apertura, poniendo el nombre del atributo seguido de igual y <strong>el valor encerrado entre comillas</strong>. Siempre debes dejar al menos un espacio entre los atributos.</td>
<td>
<div>
<div class="texto_izquierda">
<pre>&lt;articulo cantidad="20"&gt;
</pre>
<pre>    información
</pre>
<pre>&lt;/articulo&gt;
</pre>
</div>
</div>
</td>
</tr>
<tr><th scope="row">Texto.</th>
<td>Entre el cierre y la apertura de una etiqueta puede haber texto.</td>
<td>
<div>
<div class="texto_izquierda">
<pre>&lt;cliente&gt;
</pre>
<pre>     Muebles Bonitos S.A.
</pre>
<pre>&lt;/cliente&gt;
</pre>
</div>
</div>
</td>
</tr>
<tr><th scope="row">Etiquetas sin contenido.</th>
<td>Cuando una etiqueta no tiene contenido, no tiene porqué haber una etiqueta de cierre, pero no debes olvidar poner la barra de cierre ("/") al final de la etiqueta para indicar que no tiene contenido.</td>
<td>
<div>
<div class="texto_izquierda">
<pre>&lt;fecha entrega="1/1/2012" /&gt;
</pre>
</div>
</div>
</td>
</tr>
<tr><th scope="row">Comentario.</th>
<td>Es posible introducir comentarios en <acronym title="eXtended Markup Language." lang="en">XML</acronym> y estos van dirigidos generalmente a un ser humano que lee directamente el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</td>
<td>
<div>
<div class="texto_izquierda">
<pre>&lt;!-- comentario --&gt;
</pre>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>El nombre de la etiqueta y de los nombres de los atributos no deben tener espacios. También es conveniente evitar los puntos, comas y demás caracteres de puntuación. En su lugar se puede usar el guión bajo ("&lt;pedido_enviado&gt; … &lt;/pedido_enviado&gt;").</p>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id160">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id160-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-160_55">
<form name="multi-select-form-160_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion160_55" class="block question iDevice_content">
<p><strong>Señala las líneas que no serían elementos <acronym title="eXtended Markup Language" lang="en">XML</acronym> válidos.</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op160_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_58">Opción 1</a></label><input type="checkbox" id="op160_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-160_58"><a name="answer-160_58" href="./recopila_files/saved_resource"></a>
<div id="taans160_58" class="block iDevice_content">
<p>&lt;cliente&gt;Informática Elegante &lt;cliente/&gt;</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-160_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op160_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_85">Opción 2</a></label><input type="checkbox" id="op160_551" value="False">
</p>
<div class="iDevice_answer-content" id="answer-160_85"><a name="answer-160_85" href="./recopila_files/saved_resource"></a>
<div id="taans160_85" class="block iDevice_content">
<p>&lt;!-- --&gt;</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-160_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op160_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_87">Opción 3</a></label><input type="checkbox" id="op160_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-160_87"><a name="answer-160_87" href="./recopila_files/saved_resource"></a>
<div id="taans160_87" class="block iDevice_content">
<p>&lt;pedido fechaentrega=25 /&gt;</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-160_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op160_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_89">Opción 4</a></label><input type="checkbox" id="op160_553" value="False">
</p>
<div class="iDevice_answer-content" id="answer-160_89"><a name="answer-160_89" href="./recopila_files/saved_resource"></a>
<div id="taans160_89" class="block iDevice_content">
<p>&lt;direccion_entrega&gt;sin especificar&lt;/direccion_entrega&gt;</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-160_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-160_55"> 
</p>
</div>
<div id="f160_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback160_55" class="feedback iDevice_content">
<p>Recuerda que <acronym title="eXtended Markup Language." lang="en">XML</acronym> es estricto en cuanto a sintaxis, no se mira si el contenido es correcto o no.</p>
<p>En el primer caso, la etiqueta no está bien cerrada, y en el tercer caso, el valor del atributo se debe especificar entre comillas.</p>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_85" class="wrong">Incorrecto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_87" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-160_89" class="wrong">Incorrecto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.1.- ¿Qué es un documento XML?</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id144">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id144-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta144_73" class="block iDevice_content">
<p><img alt="Ilustración de un árbol." class="elemento_derecha" src="./recopila_files/PROG09_CONT_R053_arbol.jpg" style="width: 140px; height: 192px;" title="Árbol." width="140" height="192"></p>
<p>Los documentos <acronym title="eXtended Markup Language." lang="en.">XML</acronym> son documentos que solo utilizan los elementos expuestos en el apartado anterior (declaración, etiquetas, comentarios, etc.) de <strong>forma estructurada</strong>. Siguen una estructura de árbol, pseudo-jerárquica, permitiendo agrupar la información en diferentes niveles, que van desde la raíz a las hojas.</p>
<p>Para comprender la estructura de un documento <acronym title="eXtended Markup Language." lang="en.">XML</acronym> vamos a utilizar una terminología afín a la forma en la cual procesaremos los documentos <acronym title="eXtended Markup Language." lang="en.">XML</acronym>. Un documento <acronym title="eXtended Markup Language." lang="en.">XML</acronym> está compuesto desde el punto de vista de programación por nodos, que pueden (o no) contener otros nodos. Todo es un nodo:</p>
<ul class="lista_verificacion">
<li>El par formado por la etiqueta de apertura ("&lt;etiqueta&gt;") y por la de cierre ("&lt;/etiqueta&gt;"), junto con todo su contenido (elementos, atributos y texto de su interior) es un nodo llamado <strong>elemento</strong> (Element desde el punto de vista de programación). Un elemento puede contener otros elementos, es decir, puede contener en su interior subetiquetas, de forma anidada.</li>
<li>Un <strong>atributo</strong> es un nodo especial llamado atributo (Attr desde el punto de vista de programación), que solo puede estar dentro de un elemento (concretamente dentro de la etiqueta de apertura).</li>
<li>El <strong>texto</strong> es un nodo especial llamado texto (Text), que solo puede estar dentro de una etiqueta.</li>
<li>Un <strong>comentario</strong> es un nodo especial llamado comentario (Comment), que puede estar en cualquier lugar del documento <acronym title="eXtended Markup Language." lang="en.">XML</acronym>.</li>
<li>Y por último, un <strong>documento</strong> (Document) es un nodo que contiene una jerarquía de nodos en su interior. Está formado opcionalmente por una declaración, opcionalmente por uno o varios comentarios y <strong>obligatoriamente por un único elemento</strong>.</li>
</ul>
<p>Esto es un poco lioso, ¿verdad? Vamos a clarificarlo con ejemplos.</p>
<p>Primero, tenemos que entender la diferencia entre nodos padre y nodos hijo. Un elemento (par de etiquetas) puede contener varios nodos hijo, que pueden ser texto u otros elementos. Por ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 25.8em;">
<div class="texto_izquierda">
<pre>&lt;padre att1="valor" att2="valor"&gt;
</pre>
<pre>   texto 1
</pre>
<pre>   &lt;ethija&gt; texto 2 &lt;/ethija&gt;
</pre>
<pre>&lt;/padre&gt;
</pre>
</div>
</div>
<p> </p>
<p>En el ejemplo anterior, el elemento padre tendría dos hijos: el texto "texto 1", sería el primer hijo, y el elemento etiquetado como "ethija", el segundo. Tendría también dos atributos, que serían nodos hijo también, pero que se consideran especiales y la forma de acceso es diferente. A su vez, el elemento "ethija" tiene un nodo hijo, que será el texto "texto 2". ¿Fácil no?</p>
<p>Ahora veamos el conjunto, un documento estará formado, como se dijo antes, por algunos elementos opcionales, y obligatoriamente por un único elemento (es decir, por un único par de etiquetas que lo engloba todo) que contendrá internamente el resto de información como nodos hijo. Por ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 31.3em;">
<div class="texto_izquierda">
<pre>&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
</pre>
<pre>&lt;pedido&gt;
</pre>
<pre>&lt;cliente&gt; texto &lt;/cliente&gt;
</pre>
<pre>&lt;codCliente&gt; texto &lt;/codCliente&gt;
</pre>
<pre>...
</pre>
<pre>&lt;/pedido&gt;
</pre>
</div>
</div>
<p> </p>
<p>La etiqueta pedido del ejemplo anterior, será por tanto el elemento raíz del documento y dentro de él estará toda la información del documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>. Ahora seguro que es más fácil, ¿no?</p>
<p>Se puede y se suele usar <strong>indentación</strong> para que visualmente se vea con más claridad qué etiquetas van dentro de qué otras, aunque su uso no es obligado, ya que como dijimos antes, el <acronym title="eXtended Markup Language." lang="en">XML</acronym> no está pensado para ser leído  por humanos, (aunque puedan hacerlo) sino por la aplicación de forma automática. Para el ordenador, la indentación es irrelevante.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id145">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id145-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta145_47" class="block iDevice_content">
<p>En el siguiente enlace podrás encontrar una breve guía, en inglés, de las tecnologías asociadas a <acronym title="eXtended Markup Language." lang="en">XML</acronym> actuales. Son bastantes y su potencial es increíble.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a una breve guía sobre las tecnologías XML." href="http://www.w3.org/standards/xml/">Breve guía de las tecnologías <acronym title="eXtended Markup Language." lang="en">XML.</acronym></a></p>
<p class="enlace_centrado" style="text-align: justify;">En este otro enlace podrás ver una serie de <strong>vídeos de introducción a <acronym title="eXtended Markup Language." lang="en">XML</acronym></strong> con abundantes ejemplos que te podrán ser muy útiles a la hora de entender su estructura y funcionamiento:</p>
<p class="enlace_centrado" style="text-align: center;"><a title="Acceder a una colección de vídeos de introducción a las tecnologías XML" href="https://www.youtube.com/user/introxml/videos" target="_blank"><span class="html">Colección de vídeos de introducción a <acronym title="eXtended Markup Language." lang="en">XML</acronym></span></a></p>
<p class="enlace_centrado" style="text-align: justify;"> </p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.2.- Librerías para procesar documentos XML (I). Convertir el archivo  XML a árbol DOM</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id148">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id148-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta148_73" class="block iDevice_content">
<div class="elemento_centrado credenciales"> </div>
<p>¿Quién establece las bases del <acronym title="eXtended Markup Language." lang="en">XML</acronym>?</p>
<p>El <abbr title="World Wide Web Consortium." lang="en">W3C</abbr> o <span lang="en">World Wide Web Consortium</span>  (Consorcio para la gran red mundial) es la entidad que establece las bases del <acronym title="eXtended Markup Language." lang="en">XML</acronym>. Dicha entidad, además de describir cómo es el <acronym title="eXtended Markup Language." lang="en">XML</acronym> internamente, define un montón de tecnologías estándar adicionales para verificar, convertir y manipular documentos <acronym title="eXtended Markup Language." lang="en">XML</acronym>. Nosotros no vamos a explorar todas las tecnologías de <acronym title="eXtended Markup Language." lang="en">XML</acronym> aquí (son muchísimas), solamente vamos a usar dos de ellas, aquellas que nos van a permitir manejar de forma simple un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>:</p>
<ul class="lista_verificacion">
<li>Procesadores de <acronym title="eXtended Markup Language." lang="en">XML</acronym>. Son librerías para leer documentos <acronym title="eXtended Markup Language." lang="en">XML</acronym> y comprobar que están bien formados. En <span lang="en">Java</span>, el procesador más utilizado es <abbr title="Simple API for XML. (Interfaz de programación de aplicaciones simple para XML)." lang="en">SAX</abbr>, lo usaremos pero sin percatarnos casi de ello.</li>
<li><abbr title="Document Object Model." lang="en">XML DOM</abbr> (Modelo de Objetos para Documento). Permite transformar un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> en un modelo de objetos (de hecho <abbr title="Document Object Model." lang="en">DOM</abbr> significa <span lang="en">Document Object Model</span>), accesible cómodamente desde el lenguaje de programación. <abbr title="Document Object Model." lang="en">DOM</abbr> almacena cada elemento, atributo, texto, comentario, <abbr title="etcétera.">etc.</abbr> del documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> en una estructura tipo árbol compuesta por nodos fácilmente accesibles, sin perder la jerarquía del documento. A partir de ahora, la estructura <abbr title="Document Object Model." lang="en">DOM</abbr> que almacena un <acronym title="eXtended Markup Language." lang="en">XML</acronym> la llamaremos árbol o jerarquía de objetos <abbr title="Document Object Model." lang="en">DOM</abbr>.</li>
</ul>
<p>En <span lang="en">Java</span>, éstas y otras funciones están implementadas en la librería <abbr title="API de Java para el procesamiento de XML. (Java API for XML Processing)." lang="en">JAXP</abbr> (<span lang="en">Java <acronym title="Application Programming Interface." lang="en">API</acronym> for <acronym title="eXtended Markup Language." lang="en">XML</acronym> Processing</span>), y ya van incorporadas en la edición estándar de<span lang="en"> Java</span> (<span lang="en">Java</span> <abbr title="Standard Edition." lang="en">SE</abbr>). En primer lugar vamos a ver cómo convertir un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> a un árbol <abbr title="Document Object Model." lang="en">DOM</abbr>, y viceversa, para después ver cómo manipular desde <span lang="en">Java</span> un árbol <abbr title="Document Object Model." lang="en">DOM</abbr>.</p>
<p>Para cargar un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> tenemos que hacer uso de un procesador de documentos <acronym title="eXtended Markup Language." lang="en">XML</acronym> (conocidos generalmente como <strong><span lang="en">parsers</span>)</strong> y de un constructor de documentos <abbr title="Document Object Model." lang="en">DOM</abbr>. Las clases de <span lang="en">Java</span> que tendremos que utilizar son:</p>
<ul class="lista_verificacion">
<li>javax.xml.parsers.DocumentBuilder: será el procesador y transformará un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> a árbol <abbr title="Document Object Model." lang="en">DOM</abbr>, se le conoce como constructor de documentos.</li>
<li>javax.xml.parsers.DocumentBuilderFactory: permite crear un constructor de documentos, es una fábrica de constructores de documentos.</li>
<li>org.w3c.dom.Document: una instancia de esta clase es un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> pero almacenado en memoria siguiendo el modelo <abbr title="Document Object Model." lang="en">DOM</abbr>. Cuando el <span lang="en">parser</span> procesa un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> creará una instancia de la clase Document con el contenido del documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</li>
</ul>
<p>Ahora bien, ¿esto cómo se usa?</p>
<p>Pues de una forma muy fácil, en pocas líneas (no olvides importar las tres clases anteriores, DocumentBuilder, <code>DocumentBuilderFactory</code> y Document):</p>
<div class="codigo elemento_centrado" style="width: 69.25em;">
<div class="texto_izquierda">
<pre>try {
</pre>
<pre>            // 1º Creamos una nueva instancia de un fábrica de constructores de documentos.
</pre>
<pre>            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
</pre>
<pre>            // 2º A partir de la instancia anterior, fabricamos un constructor de documentos, que procesará el XML.
</pre>
<pre>            DocumentBuilder db = dbf.newDocumentBuilder();
</pre>
<pre>            // 3º Procesamos el documento (almacenado en un archivo) y lo convertimos en un árbol DOM.
</pre>
<pre>            Document documento=db.parse(CaminoAArchivoXml);
</pre>
<pre>} catch (Exception ex) {
</pre>
<pre>            System.out.println("¡Error! No se ha podido cargar el documento XML.");
</pre>
<pre>}  
</pre>
</div>
</div>
<p> </p>
<p>En este sentido (convertir el archivo  <acronym title="eXtended Markup Language." lang="en">XML</acronym> a árbol <abbr title="Document Object Model." lang="en">DOM</abbr>)  no tiene mucha complicación,  pero es un pelín más complicado para hacer el camino inverso (pasar el <abbr title="Document Object Model." lang="en">DOM</abbr> a  <acronym title="eXtended Markup Language." lang="en">XML</acronym>).</p>
<p>Este proceso puede generar hasta tres tipos de excepciones diferentes. La más común, que el documento  <acronym title="eXtended Markup Language." lang="en">XML</acronym> esté mal formado, por lo que tienes que tener cuidado con la sintaxis  <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id149">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id149-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-149_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion149_60" class="block question iDevice_content">
<p><strong>¿Cuál es la función de la clase org.w3c.dom.Document?</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i149_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-149_63">Opción 1</a></label><input type="radio" name="option149_60" id="i149_63" class="exe-radio-option exe-radio-option-0-3-149_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-149_63"><a name="answer-149_63" href="./recopila_files/saved_resource"></a>
<div id="taans149_63" class="block iDevice_content">
<p>Procesar el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i149_75" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-149_75">Opción 2</a></label><input type="radio" name="option149_60" id="i149_75" class="exe-radio-option exe-radio-option-1-3-149_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-149_75"><a name="answer-149_75" href="./recopila_files/saved_resource"></a>
<div id="taans149_75" class="block iDevice_content">
<p>Almacenar el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> en un modelo de objetos accesible desde <span lang="en">Java</span>.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i149_78" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-149_78">Opción 3</a></label><input type="radio" name="option149_60" id="i149_78" class="exe-radio-option exe-radio-option-2-3-149_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-149_78"><a name="answer-149_78" href="./recopila_files/saved_resource"></a>
<div id="taans149_78" class="block iDevice_content">
<p>Fabricar un nuevo constructor de documentos.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b149_60" class="feedback js-hidden"><a name="sa0b149_60" href="./recopila_files/saved_resource"></a>
<div id="taf149_63" class=" iDevice_content">
<p>Incorrecto, revisa el apartado y responde de nuevo a la pregunta.</p>
</div>
</div>
<div id="sa1b149_60" class="feedback js-hidden"><a name="sa1b149_60" href="./recopila_files/saved_resource"></a>
<div id="taf149_75" class=" iDevice_content">
<p>Correcto. Acertaste, aunque era fácil, ¿no?</p>
</div>
</div>
<div id="sa2b149_60" class="feedback js-hidden"><a name="sa2b149_60" href="./recopila_files/saved_resource"></a>
<div id="taf149_78" class=" iDevice_content">
<p>No, no es esta la función de dicha clase.De eso se encarga DocumentBuilderFactory</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-149_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa0b149_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-149_75">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa1b149_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-149_78">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#sa2b149_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.2.1.- Librerías para procesar documentos XML (II). Transformar el árbol  DOM en archivo  XML.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id146">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id146-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta146_73" class="block iDevice_content">
<p><img alt="Imagen en la que se ve una persona apuntando con un dedo a la pantalla de un ordenador." class="elemento_derecha" src="./recopila_files/PROG09_CONT_R055_apuntandopantalla.jpg" style="width: 192px; height: 128px;" title="Explicando." height="128" width="192"></p>
<p>¿Y cómo paso la jerarquía o árbol de objetos  <abbr title="Document Object Model." lang="en">DOM</abbr> a <acronym title="eXtended Markup Language." lang="en">XML</acronym>?</p>
<p>Como hemos dicho en el apartado anterior, en <span lang="en">Java </span>esto es un pelín más complicado que la operación inversa, y requiere el uso de un montón de clases del paquete java.xml.transform, pues la idea es transformar el árbol  <abbr title="Document Object Model." lang="en">DOM</abbr> en un archivo de texto que contiene el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</p>
<p>Las clases que tendremos que usar son:</p>
<ul class="lista_verificacion">
<li>javax.xml.transform.TransformerFactory. Fábrica de transformadores, permite crear un nuevo transformador que convertirá el árbol <abbr title="Document Object Model." lang="en">DOM</abbr> a <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</li>
<li>javax.xml.transform.Transformer. Transformador que permite pasar un árbol <abbr title="Document Object Model." lang="en">DOM</abbr> a <acronym title="eXtended Markup Language." lang="en">XML</acronym>.</li>
<li>javax.xml.transform.TransformerException. Excepción lanzada cuando se produce un fallo en la transformación.</li>
<li>javax.xml.transform.OutputKeys. Clase que contiene opciones de salida para el transformador. Se suele usar para indicar la codificación de salida (generalmente <acronym title="8-bit Unicode Transformation Format." lang="en">UTF-8</acronym>) del documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> generado.</li>
<li>javax.xml.transform.dom.DOMSource. Clase que actuará de intermediaria entre el árbol <abbr title="Document Object Model." lang="en">DOM</abbr> y el transformador, permitiendo al transformador acceder a la información del árbol <abbr title="Document Object Model." lang="en">DOM</abbr>.</li>
<li>javax.xml.transform.stream.StreamResult. Clase que actuará de intermediaria entre el transformador y el archivo o String donde se almacenará el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> generado.</li>
<li>java.io.File. Clase que, como posiblemente sabrás, permite leer y escribir en un archivo almacenado en disco. El archivo será obviamente el documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> que vamos a escribir en el disco.</li>
</ul>
<p>Esto es un poco lioso, ¿o no? No lo es tanto cuando se ve un ejemplo de cómo realizar el proceso de transformación de árbol <abbr title="Document Object Model." lang="en">DOM</abbr> a <acronym title="eXtended Markup Language." lang="en">XML</acronym>, así que veamos ese ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 64.3em;">
<div class="texto_izquierda">
<pre>try {
</pre>
<pre>            // 1º Creamos una instancia de la clase File para acceder al archivo donde guardaremos el XML.
</pre>
<pre>            File f=new File(CaminoAlArchivoXML);
</pre>
<pre>            //2º Creamos una nueva instancia del transformador a través de la fábrica de transformadores.
</pre>
<pre>            Transformer transformer = TransformerFactory.newInstance().newTransformer();
</pre>
<pre>            //3º Establecemos algunas opciones de salida, como por ejemplo, la codificación de salida.
</pre>
<pre>            transformer.setOutputProperty(OutputKeys.INDENT, "yes");
</pre>
<pre>            transformer.setOutputProperty(OutputKeys.ENCODING, "UTF-8");            
</pre>
<pre>            //4º Creamos el StreamResult, que intermediará entre el transformador y el archivo de destino.
</pre>
<pre>            StreamResult result = new StreamResult(f);            
</pre>
<pre>            //5º Creamos el DOMSource, que intermediará entre el transformador y el árbol DOM.
</pre>
<pre>            DOMSource source = new DOMSource(doc);
</pre>
<pre>            //6º Realizamos la transformación.
</pre>
<pre>            transformer.transform(source, result);         
</pre>
<pre>} catch (TransformerException ex) {
</pre>
<pre>     System.out.println("¡Error! No se ha podido llevar a cabo la transformación.");            
</pre>
<pre>}
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id147">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id147-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta147_48" class="block iDevice_content">
<p>A continuación te adjuntamos, cortesía de la casa, una de esas clases anti-estrés, que nos permitirá hacer estas operaciones sin tener que reinventar la rueda cada vez, ni tener que acordarnos de tantos detalles... Utilízala todo lo que quieras, con ella podrás convertir un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> a árbol <acronym title="Document Object Model" lang="en">DOM </acronym>y viceversa de forma sencilla. El documento&nbsp;&nbsp;<acronym title="eXtended Markup Language." lang="en">XML</acronym> puede estar almacenado en un archivo o en una cadena de texto (e incluso en Internet, para lo que necesitas el <acronym title="Unified Resource Identificator." lang="en">URI</acronym> (Identificador de Recursos Unificado)). Los métodos estáticos domToXml() te permitirán pasar el árbol&nbsp;<acronym title="Document Object Model" lang="en">DOM </acronym> a <acronym title="eXtended Markup Language." lang="en">XML</acronym>, y los métodos stringToDom() y <code>xmlToDom()</code> te permitirán pasar un documento&nbsp;<acronym title="eXtended Markup Language." lang="en">XML</acronym> a un árbol <acronym title="Document Object Model" lang="en">DOM </acronym>.</p>
<p>También contiene el método crearDOMVacio() que permite crear un árbol <acronym title="Document Object Model" lang="en">DOM </acronym>vacío, útil para empezar un documento&nbsp;<acronym title="eXtended Markup Language." lang="en">XML</acronym> de cero.</p>
<div class="enlace_centrado"><a class="documento" title="Descargar clase DOMUtil para convertir documentos XML a árboles DOM y viceversa. [zip - 7 KB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/DOMUtil.java">Clase DOMUtil de ayuda para convertir documentos&nbsp;<acronym title="eXtended Markup Language." lang="en">XML</acronym> a árboles <acronym title="Document Object Model" lang="en">DOM </acronym>y viceversa.</a> <span class="tamano"> (7 KB) </span></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.3.- Manipulación de documentos XML (I). Obtener el elemento raíz, y buscar un elemento.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id156">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id156-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta156_73" class="block iDevice_content">
<p><img alt="Fotografía en la que se ve una persona manipulando productos con guantes de látex." class="elemento_derecha" src="./recopila_files/PROG09_CONT_R057_Guantes.jpg" style="width: 192px; height: 128px;" title="¿Manipulando el árbol DOM con guantes? Tampoco es necesario tanto."></p>
<p>Bien, ahora sabes cargar un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> a árbol <abbr title="Document Object Model." lang="en">DOM</abbr> y de árbol <abbr title="Document Object Model." lang="en">DOM</abbr> a <acronym title="eXtended Markup Language." lang="en">XML</acronym>, pero, ¿cómo se modifica el árbol <abbr title="Document Object Model." lang="en">DOM</abbr>?</p>
<p>Cómo ya se dijo antes, un árbol <abbr title="Document Object Model." lang="en">DOM</abbr> es una estructura en árbol, jerárquica como cabe esperar, formada por nodos de diferentes tipos. El funcionamiento del modelo de objetos <abbr title="Document Object Model." lang="en">DOM</abbr> es establecido por el organismo <abbr title="World Wide Web Consortium." lang="en">W3C</abbr>, lo cual tiene una gran ventaja:<strong> el modelo es prácticamente el mismo en todos los lenguajes de programación</strong>.</p>
<p>En <span lang="en">Java</span>, prácticamente todas las clases que vas a necesitar para manipular un árbol <abbr title="Document Object Model." lang="en">DOM</abbr> están en el paquete org.w3c.dom. Si vas a hacer un uso muy intenso de <abbr title="Document Object Model." lang="en">DOM</abbr> es conveniente que hagas una importación de todas las clases de este paquete ("import org.w3c.dom.*;").</p>
<p>Tras convertir un documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> a <abbr title="Document Object Model." lang="en">DOM</abbr> lo que obtenemos es una instancia de la clase org.w3c.dom.Document. Esta instancia será el nodo principal que contendrá en su interior toda la jerarquía del documento <acronym title="eXtended Markup Language." lang="en">XML</acronym>. Dentro de un documento o árbol <abbr title="Document Object Model." lang="en">DOM</abbr> podremos encontrar los siguientes tipos de clases:</p>
<ul class="lista_verificacion">
<li>org.w3c.dom.Node (Nodo). Todos los objetos contenidos en el árbol <abbr title="Document Object Model." lang="en">DOM</abbr> son nodos. La clase Document es también un tipo de nodo, considerado el nodo principal.</li>
<li>org.w3c.dom.Element (Elemento). Corresponde con cualquier par de etiquetas ("&lt;&gt; &lt;/&gt;") y todo su contenido (atributos, texto, subetiquetas, <abbr title="etcétera.">etc.</abbr>).</li>
<li>org.w3c.dom.Attr (Atributo). Corresponde con cualquier atributo.</li>
<li>org.w3c.dom.Comment (Comentario). Corresponde con un comentario.</li>
<li>org.w3c.dom.Text (Texto). Corresponde con el texto que encontramos dentro de dos etiquetas.</li>
</ul>
<p>¿A qué te resultan familiares?</p>
<p>Claro que sí. Estas clases tendrán diferentes métodos para acceder y manipular la información del árbol <abbr title="Document Object Model." lang="en">DOM</abbr>. A continuación vamos a ver las operaciones más importantes sobre un árbol <abbr title="Document Object Model." lang="en">DOM</abbr>. En todos los ejemplos, "documento" corresponde con una instancia de la clase Document.</p>
<p><span class="destacado_inline"><strong>Obtener el elemento raíz del documento</strong>.</span></p>
<p>Como ya sabes, los documentos <acronym title="eXtended Markup Language." lang="en">XML</acronym> deben tener obligatoriamente un único elemento ("&lt;pedido&gt;&lt;/pedido&gt;" por ejemplo), considerado el elemento raíz, dentro del cual está el resto de la información estructurada de forma jerárquica. Para obtener dicho elemento y poder manipularlo podemos usar el método getDocumentElement().</p>
<div class="codigo elemento_centrado" style="width: 26.9em;">
<div class="texto_izquierda">
<pre>Element raiz=&lt;strong&gt;documento&lt;/strong&gt;.getDocumentElement();
</pre>
</div>
</div>
<p> </p>
<p><span class="destacado_inline"><strong>Buscar un elemento en toda la jerarquía del documento</strong>.</span></p>
<p>Para realizar esta operación se puede usar el método getElementsByTagName() disponible tanto en la clase Document como en la clase Element. Dicha operación busca un elemento por el nombre de la etiqueta y retorna una lista de nodos (NodeList) que cumplen con la condición. Si se usa en la clase Element, solo buscará entre las subetiquetas (subelementos) de dicha clase (no en todo el documento).</p>
<div class="codigo elemento_centrado" style="width: 34.05em;">
<div class="texto_izquierda">
<pre>NodeList listaNodos=&lt;strong&gt;documento&lt;/strong&gt;.getElementsByTagName("cliente");
</pre>
<pre>Element cliente;
</pre>
<pre>if (&lt;code&gt;listaNodos.getLength()==1){ </pre>
<pre>     cliente=(Element)&lt;code&gt;&lt;code&gt;listaNodos.item(0);</pre>
<pre>}</pre>
</div>
</div>
<p> </p>
<p>El método getLength() de la clase NodeList, permite obtener el número de elementos (longitud de la lista) encontrados cuyo nombre de etiqueta es coincidente. El método item() permite acceder a cada uno de los elementos encontrados, y se le pasa por argumento el índice del elemento a obtener (empezando por cero y acabando por longitud menos uno). Fíjate que es necesario hacer una conversión de tipos después de invocar el método item(). Esto es porque la clase NodeList almacena un listado de nodos (Node), sin diferenciar el tipo.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id157">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id157-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-157_55">
<form name="multi-select-form-157_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion157_55" class="block question iDevice_content">
<p><strong>Dado el siguiente código XML, indica qué elementos <abbr title="Document Object Model." lang="en">DOM</abbr> encontramos en el mismo:</strong></p>
<div class="codigo elemento_centrado" style="width: 32.95em;">
<div class="texto_izquierda">
<pre>&lt;strong&gt;&lt;pedido&gt;&lt;!--Datos del pedido--&gt;&lt;/pedido&gt;&lt;/strong&gt;</pre>
</div>
</div>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op157_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_58">Opción 1</a></label><input type="checkbox" id="op157_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-157_58"><a name="answer-157_58" href="./recopila_files/saved_resource"></a>
<div id="taans157_58" class="block iDevice_content">
<p>org.w3c.dom.Element.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-157_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op157_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_159">Opción 2</a></label><input type="checkbox" id="op157_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-157_159"><a name="answer-157_159" href="./recopila_files/saved_resource"></a>
<div id="taans157_159" class="block iDevice_content">
<p>org.w3c.dom.Node.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-157_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op157_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_161">Opción 3</a></label><input type="checkbox" id="op157_552" value="False">
</p>
<div class="iDevice_answer-content" id="answer-157_161"><a name="answer-157_161" href="./recopila_files/saved_resource"></a>
<div id="taans157_161" class="block iDevice_content">
<p>org.w3c.dom.Text.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-157_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op157_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_163">Opción 4</a></label><input type="checkbox" id="op157_553" value="True">
</p>
<div class="iDevice_answer-content" id="answer-157_163"><a name="answer-157_163" href="./recopila_files/saved_resource"></a>
<div id="taans157_163" class="block iDevice_content">
<p>org.w3c.dom.Comment.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-157_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-157_55"> 
</p>
</div>
<div id="f157_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback157_55" class="feedback iDevice_content">
<p>Recuerda que todo es un nodo en un árbol <abbr title="Document Object Model." lang="en">DOM</abbr>.</p>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_159" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_161" class="wrong">Incorrecto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-157_163" class="right">Correcto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.3.1.- Manipulación de documentos XML (II). Obtener y procesar la lista de hijos y añadir uno nuevo.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id150">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id150-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta150_73" class="block iDevice_content">
<div class="exe-figure exe-image float-right license-CC-BY-NC-SA" style="width: 136px;"><img src="./recopila_files/PROG07_CONT_R058_PadreEHija.jpg" alt="Fotografía de un padre con su hija encima de los hombros." title="Padre e hija." style="float: right;" width="136" height="200">
<div class="figcaption"><a href="http://recursostic.educacion.es//bancoimagenes/ArchivosImagenes/DVD27/CD05/190530_m_1.jpg" target="_blank" class="author">Luana Fischer Ferreira.</a> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p><br>¿Y qué más operaciones puedo realizar sobre un árbol <abbr title="Document Object Model." lang="en">DOM</abbr>? Veámoslas.</p>
<p><span class="destacado_inline"><strong>Obtener la lista de hijos de un elemento y procesarla</strong>.</span></p>
<p>Se trata de obtener una lista con los nodos hijo de un elemento cualquiera, estos pueden ser un sub-elemento (sub-etiqueta) o texto. Para sacar la lista de nodos hijo se puede usar el método getChildNodes():</p>
<div class="codigo elemento_centrado" style="width: 43.95em;">
<div class="texto_izquierda">
<pre>NodeList listaNodos=documento.getDocumentElement().getChildNodes();</pre>
<pre>for (int i=0; i&lt;listaNodos.getLength();i++) {</pre>
<pre>    Node nodo=listaNodos.item(i);</pre>
<pre>    switch (nodo.getNodeType()){</pre>
<pre>        case Node.ELEMENT_NODE: </pre>
<pre>             Element elemento = (Element) nodo;</pre>
<pre>             System.out.println("Etiqueta:" + elemento.getTagName());</pre>
<pre>             break;</pre>
<pre>        case Node.TEXT_NODE: </pre>
<pre>             Text texto = (Text) nodo;</pre>
<pre>             System.out.println("Texto:" + texto.getWholeText());</pre>
<pre>             break;</pre>
<pre>    }       </pre>
<pre>}</pre>
</div>
</div>
<p>&nbsp;</p>
<p>En el ejemplo anterior se usan varios métodos. El método getNodeType() de la clase Node permite saber de qué tipo de nodo se trata, generalmente texto (Node.TEXT_NODE) o un sub-elemento (Node.ELEMENT_NODE). De esta forma podremos hacer la conversión de tipos adecuada y gestionar cada elemento según corresponda. También se usa el método getTagName() aplicado a un elemento, lo cual permitirá obtener el nombre de la etiqueta, y el método getWholeText() aplicado a un nodo de tipo texto (Text), que permite obtener el texto contenido en el nodo.</p>
<p><span class="destacado_inline"><strong>Añadir un nuevo elemento hijo a otro elemento</strong>.</span></p>
<p>Hemos visto cómo mirar qué hay dentro de un documento <acronym title="eXtended Markup Language" lang="en">XML</acronym> pero no hemos visto cómo añadir cosas a dicho documento. Para añadir un sub-elemento o un texto a un árbol <abbr title="Document Object Model." lang="en">DOM</abbr>, primero hay que crear los nodos correspondientes y después insertarlos en la posición que queramos. Para crear un nuevo par de etiquetas o elemento (Element) y un nuevo nodo texto (Text), lo podemos hacer de la siguiente forma:</p>
<div class="codigo elemento_centrado" style="width: 35.15em;">
<div class="texto_izquierda">
<pre>Element direccionTag=documento.createElement("DIRECCION_ENTREGADA")
</pre>
<pre>Text direccionTxt=documento.createTextNode("C/Perdida S/N");
</pre>
</div>
</div>
<p>&nbsp;</p>
<p>Ahora los hemos creado, pero todavía no los hemos insertado en el documento. Para ello podemos hacerlo usando el método appendChild() que añadirá el nodo (sea del tipo que sea) al final de la lista de hijos del elemento correspondiente:</p>
<div class="codigo elemento_centrado" style="width: 31.3em;">
<div class="texto_izquierda">
<pre> direccionTag.appendChild(direccionTxt);
</pre>
<pre> documento.getDocumentElement().appendChild(direccionTag);
</pre>
</div>
</div>
<p>&nbsp;</p>
<p>En el ejemplo anterior, el texto se añade como hijo de la etiqueta "DIRECCION_ENTREGADA", y a su vez, la etiqueta&nbsp;"DIRECCION_ENTREGADA" se añade como hijo, al final del todo, de la etiqueta o elemento raíz del documento. Aparte del método appendChild(), que siempre insertará al final, puedes utilizar los siguientes métodos para insertar nodos dentro de un árbol&nbsp;<abbr title="Document Object Model." lang="en">DOM</abbr> (todos se usan sobre la clase Element):</p>
<ul class="lista_verificacion">
<li>insertBefore (Node nuevoNodo, Node nodoReferencia). Insertará un nodo nuevo antes del nodo de referencia (nodoReferencia).</li>
<li>replaceChild (Node nuevoNodo, Node nodoAnterior). Sustituye un nodo (nodoAnterior) por uno nuevo.</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id151">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id151-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta151_48" class="block iDevice_content">
<p>En el siguiente enlace encontrarás a la documentación del <acronym title="Aplication Programming Interface. " lang="en">API</acronym> de <acronym title="Document Object Model." lang="en">DOM</acronym> para<span lang="en"> Java</span>, con todas las funciones de cada clase.</p>
<p class="enlace_centrado"><a class="html" title="Acceder a API de DOM para Java." href="http://docs.oracle.com/javase/7/docs/api/org/w3c/dom/package-summary.html"><acronym title="Aplication Programming Interface." lang="en">API</acronym> de <acronym title="Document Object Model." lang="en">DOM</acronym> para <span lang="en">Java</span>.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.3.2.- Manipulación de documentos XML (III). Eliminar un hijo y modificar un elemento texto.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id152">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id152-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta152_73" class="block iDevice_content">
<div class="exe-figure exe-image float-right license-CC-BY-SA" style="width: 200px;"><img src="./recopila_files/PROG07_CONT_R059_Matroshka.jpg" alt="Fotografía en la que se muestra un juego abierto de muñecas Matroshka." title="Las muñecas Matroshka son el mejor ejemplo de anidamiento." style="float: right;" width="200" height="136">
<div class="figcaption"><a href="https://es.wikipedia.org/wiki/Archivo:Russian-Matroshka_no_bg.jpg" target="_blank" class="author">Fanghong</a> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow" target="_blank" title="Creative Commons BY-SA">CC BY-SA</a><span class="sep">)</span></span></div>
</div>
<p><br>Seguimos con las operaciones sobre árboles <acronym title="Document Object Model." lang="en">DOM</acronym>. ¿Sabrías cómo eliminar nodos de un árbol? ¿No? Vamos a descubrirlo.</p>
<p><span class="destacado_inline"><strong>Eliminar un elemento hijo de otro elemento</strong>.</span></p>
<p>Para eliminar un nodo, hay que recurrir al nodo padre de dicho nodo. En el nodo padre se invoca el método removeChild(), al que se le pasa la instancia de la clase Element con el nodo a eliminar (no el nombre de la etiqueta, sino la instancia), lo cual implica que primero hay que buscar el nodo a eliminar, y después eliminarlo. Veamos un ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 38.45em;">
<div class="texto_izquierda">
<pre>NodeList listaNodos3=documento.getElementsByTagName("DIRECCION_ENTREGA");
</pre>
<pre>for (int i=0;i&lt;&lt;code&gt;listaNodos3.getLength();i++){         
</pre>
<pre>     Element elemento=(Element) &lt;code&gt;listaNodos3.item(i);
</pre>
<pre>     Element padre = (Element)&lt;code&gt;elemento.getParentNode();
</pre>
<pre>     padre.removeChild(elemento); 
</pre>
<pre>}
</pre>
</div>
</div>
<p>&nbsp;</p>
<p>En el ejemplo anterior se eliminan todas las etiquetas, estén donde estén, que se llamen "DIRECCION_ENTREGA". Para ello ha sido necesario buscar todos los elementos cuya etiqueta sea esa (como se explicó en ejemplos anteriores), recorrer los resultados obtenidos de la búsqueda, obtener el nodo padre del hijo a través del método getParentNode(), para así poder eliminar el nodo correspondiente con el método removeChild().</p>
<p>No es obligatorio obviamente invocar al método getParentNode() si el nodo padre es conocido. Por ejemplo, si el nodo es un hijo del elemento o etiqueta raíz, hubiera bastado con poner lo siguiente:</p>
<div class="codigo elemento_centrado" style="width: 28em;">
<div class="texto_izquierda">
<pre>documento.getDocumentElement().removeChild(elemento);
</pre>
</div>
</div>
<p>&nbsp;</p>
<p><span class="destacado_inline"><strong>Cambiar el contenido de un elemento cuando solo es texto</strong>.</span></p>
<p>Los métodos getTextContent() y <code>setTextContent()</code>, aplicados a un elemento, permiten respectivamente acceder al texto contenido dentro de un elemento o etiqueta o modificar dicho contenido. Tienes que tener cuidado, porque utilizar setTextContent() significa eliminar cualquier hijo (sub-elemento por ejemplo) que previamente tuviera la etiqueta. Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 54.4em;">
<div class="texto_izquierda">
<pre>Element nuevo=documento.createElement(DIRECCION_RECOGIDA").setTextContent("C/Del Medio S/N");
</pre>
<pre>System.out.println(nuevo.getTextContent());
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id153">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id153-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-153_55">
<form name="multi-select-form-153_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion153_55" class="block question iDevice_content">
<p><strong>De los siguientes tipos de nodos, marca aquellos en los que no se pueda ejecutar dos veces el método appendChild():</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op153_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_58">Opción 1</a></label><input type="checkbox" id="op153_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-153_58"><a name="answer-153_58" href="./recopila_files/saved_resource"></a>
<div id="taans153_58" class="block iDevice_content">
<p>Document.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-153_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op153_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_151">Opción 2</a></label><input type="checkbox" id="op153_551" value="False">
</p>
<div class="iDevice_answer-content" id="answer-153_151"><a name="answer-153_151" href="./recopila_files/saved_resource"></a>
<div id="taans153_151" class="block iDevice_content">
<p>Element.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-153_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op153_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_153">Opción 3</a></label><input type="checkbox" id="op153_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-153_153"><a name="answer-153_153" href="./recopila_files/saved_resource"></a>
<div id="taans153_153" class="block iDevice_content">
<p>Text.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-153_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op153_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_155">Opción 4</a></label><input type="checkbox" id="op153_553" value="True">
</p>
<div class="iDevice_answer-content" id="answer-153_155"><a name="answer-153_155" href="./recopila_files/saved_resource"></a>
<div id="taans153_155" class="block iDevice_content">
<p>Attr.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-153_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-153_55"> 
</p>
</div>
<div id="f153_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback153_55" class="feedback iDevice_content">
<p>Solo tiene sentido insertar nodos en los nodos tipo Element y <code>Document</code>, pero en los documentos<acronym title="eXtended Markup Language." lang="en"> XML</acronym> solo puede haber una etiqueta raíz, es decir, solo puede haber un nodo hijo tipo Element dentro de un Document, ¿recuerdas? Si intentas añadir otro nodo raíz dentro de un documento obtendrás una incómoda excepción.</p>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_151" class="wrong">Incorrecto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_153" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/#answer-153_155" class="right">Correcto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.3.3.- Manipulación de documentos XML (IV). Manejar atributos de un elemento.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id154">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id154-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta154_66" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado"><a title="Ampliar imagen para " trozo="" de="" código="" la="" solución="" final="" ana"."="" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG09_CONT_R059_01_codigo.png"><img alt="Impresión de pantalla de un trozo de código de la solución final de Ana." class="imagen_ampliable" src="./recopila_files/PROG09_CONT_R059_01_codigo_miniatura.png" title="Trozo de código de la solución final de Ana."></a></div>
</div>
<p>El documento <acronym title="eXtended Markup Language." lang="en">XML</acronym> que tiene que generar<strong> Ana</strong> tiene que seguir un formato específico, para que la otra aplicación sea capaz de entenderlo. Esto significa que los nombres de las etiquetas tienen que ser unos concretos para cada dato del pedido. Ésta ha sido quizás la parte que más complicada, ver cómo encajar cada dato del mapa con su correspondiente etiqueta en <acronym title="eXtended Markup Language." lang="en">XML</acronym>, pero ha conseguido resolverlo de forma elegante. De hecho, ya ha terminado su trabajo, ¿quieres ver el resultado?</p>
<div class="enlace_centrado"><a class="paquete" title="Descargar código fuente para procesar archivo de pedido ya finalizado. [zip - 0.01 MB]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55997/mod_scorm/content/0/PROG09_CONT_R060_ProcesarArchivoPedido_Final.zip">Procesar archivo de pedido completo.</a> <span class="tamano"> (0.01 MB) </span></div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id155">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id155-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta155_73" class="block iDevice_content">
<p><img alt="Imagen que muestra un cubo de rubik." class="elemento_centrado" src="./recopila_files/PROG09_CONT_R061_rubik.png" style="width: 160px; height: 168px;" title="¡¡ Ya hemos terminado nuestro cubo de rubik !!" height="168" width="160"></p>
<div class="elemento_centrado credenciales"><a class="cc-by-sa" title="CC by-sa" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es" target="_blank"><span class="transparente">CC by-sa</span></a> <a title="Booyabazooka" href="https://commons.wikimedia.org/wiki/File:Rubik%27s_cube.svg" target="_blank"> Booyabazooka </a></div>
<p>Y ya solo queda una cosa: descubrir cómo manejar los atributos en un árbol <acronym title="Document Object Model." lang="en">DOM</acronym>.</p>
<p><span class="destacado_inline"><strong>Atributos de un elemento</strong>.</span></p>
<p>Por último, lo más fácil. Cualquier elemento puede contener uno o varios atributos. Acceder a ellos es sencillísimo, solo necesitamos tres métodos:</p>
<ul class="lista_verificacion">
<li>setAttribute() para establecer o crear el valor de un atributo.</li>
<li>getAttribute() para obtener el valor de un atributo.</li>
<li>removeAttribute() para eliminar el valor de un atributo.</li>
</ul>
<p>Veamos un ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 43.95em;">
<div class="texto_izquierda">
<pre>documento.getDocumentElement().setAttribute("urgente","no");
</pre>
<pre>System.out.println(documento.getDocumentElement().getAttribute("urgente"));
</pre>
</div>
</div>
<p> </p>
<p>En el ejemplo anterior se añade el atributo "urgente" al elemento raíz del documento con el valor "no", después se consulta para ver su valor. Obviamente se puede realizar en cualquier otro elemento que no sea el raíz. Para eliminar el atributo es tan sencillo como lo siguiente:</p>
<div class="codigo elemento_centrado" style="width: 34.6em;">
<div class="texto_izquierda">
<pre>documento.getDocumentElement().removeAttribute("urgente");
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
			<div id="outer">
			<div id="main">
			<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Condiciones y términos de uso de los materiales</h1></div></div>
			<div class="iDevice_wrapper DestacadofpdIdevice" id="id60">
			<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id60-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
			<div class="iDevice_destacadofpd">
			<div id="ta60_66" class="block iDevice_content">
			<div title="Información acerca de la licencia de los materiales">
			<p align="center" style="margin: 2px 2px;"><strong>Materiales desarrollados inicialmente por el Ministerio de Educación, Cultura y Deporte y actualizados por el profesorado de la Junta de Andalucía bajo licencia Creative Commons <acronym title="Reconocimiento-NoComercial-CompartirIgual">BY-NC-SA.</acronym></strong></p>
						      <p align="center" style="font-size: 0.8em; margin: 2px 2px;"><strong><img src="./recopila_files/img_para_licencias.png" height="94" alt="Logotipos del Ministerio de Educación, Cultura y Deporte, Junta de Andalucía y licencia Creative Commons"></strong></p>
                              <p align="center" style="font-size: 0.8em; margin: 2px 2px;"><span>Antes de cualquier uso leer detenidamente el siguente</span> <a href="https://www.juntadeandalucia.es/educacion/gestionafp/documentacion/aviso_legal/aviso_legal_mjda/index.html" target="_blank" title="Enlace externo, se accede al aviso legal de los materiales">Aviso legal</a></p>
			</div>
			</div>
			</div>
			</div>
			</div>
			<div class="iDevice_wrapper FreeTextIdevice" id="id61">
			<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=4050&amp;dopt=1#" id="toggle-idevice-id61-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
			<div id="ta61_85" class="block iDevice_content">
			<h3>Historial de actualizaciones</h3>
			<table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 02.00.00</th><th scope="col">Fecha de actualización: 08/06/21</th><th scope="col">Autoría: Diosdado Sánchez Hernández</th></tr><tr>
                            <td colspan="3"><p><strong>Ubicación: </strong>Toda la unidad<br><strong>Mejora (tipo 3): </strong><br>
Cambiar de orden esta unidad. Esta pasaría a ser la 7, y la de Archivos, la 8.<br>
Justificación: En cualquier curso sobre introducción a la Programación se estudian siempre primero las estructuras de datos internas (tanto estáticas: arrays, cadenas, etc. como dinámicas: listas, tablas hash, árboles, etc.) y posteriormente las estructuras de datos externas (archivos y sus diversas variedades). Se considera lo más didáctico y además mucho más práctico para posteriormente poder realizar ejercicios y tareas que permitan almacenar en archivos el contenido de estructuras dinámicas. Si no, aún no se dispone de estructuras lo suficientemente complejas (salvo arrays) que justifiquen la necesidad de estructuras de almacenamiento externas.<br>
<br>
Implicaría revisar orientaciones para el alumnado, así como asegurarse de que no se hace ninguna referencia a archivos (actual unidad 8) ni en el contenido ni en las preguntas para los cuestionarios online. Si así fuera, habría que adaptar esos contenidos y/o esas preguntas.<br>
</p><p><strong>Ubicación: </strong>Toda la unidad<br><strong>Mejora (tipo 1): </strong>Cambiar de orden esta unidad. Esta pasaría a ser la 7, y la de Archivos, la 8.</p><p><strong>Ubicación: </strong>Documento HTML y documento de descripción<br><strong>Mejora (Mapa conceptual): </strong>Modificados los nombres de enlaces y archivos donde esté involucrada el número de la unidad.</p><p><strong>Ubicación: </strong>Cabecera y descripción<br><strong>Mejora (Orientaciones del alumnado): </strong>Modificado nombre y número de la unidad</p></td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 01.02.00</th><th scope="col">Fecha de actualización: 04/02/20</th><th scope="col">Autoría: Salvador Romero Villegas</th></tr><tr>
                            <td colspan="3"><p><strong>Ubicación: </strong>8.2.1.- Librerías para procesar documentos XML (II). Transformar el árbol DOM en archivo XML.<br><strong>Mejora (tipo 2): </strong>En el iDevice Debes Conocer, se proporciona un enlace con una clase de utilidad bastante interesante.<br>
El caso es que en esta clase tanto la nomenclatura de algunos métodos (XML2DOM, String2DOM y DOM2XML) no se sigue la convención camel para el nombrado de métodos. Pasa lo mismo con el parámetro CaminoAArchivoXml de algunas de ellas.<br>
Además, al ser una clase de utilidades que solo contiene métodos estáticos no se deberían poder instanciar objetos de la misma ya que no tiene sentido y no es una buena práctica de programación. Por lo que habría que evitar que se genere el constructor por defecto añadiendo un constructor por defecto privado que no haga nada.</p><p><strong>Ubicación: </strong>Apartado XML.<br><strong>Mejora (tipo 2): </strong>Se propone mover este apartado a la unidad 7, donde se trabaja con el almacenamiento de datos, algo para lo que XML se utiliza masivamente.</p><p><strong>Ubicación: </strong>Toda la unidad<br><strong>Mejora (tipo 2): </strong>Ámbito: toda la unidad, aunque especialmente en los apartados 2, 3, 5 y 6, 7 y sus subapartados.<br>
Cambiar en todos los ejemplos de código que cuando se declare una estructura de datos o se use como parámetro, que se utilice el polimorfismo indicando la interfaz que implementa la clase de la estructura de datos en lugar de una clase concreta.<br>
Ejemplos: en lugar de declarar variables o parámetros de tipo TreeSet, HashSet, ArrayList, LinkedList, HashMap, etc. que se declaren como Set, List o Map y que sólo aparezca la clase específica en las llamadas a los constructores (new).</p><p><strong>Ubicación: </strong>4.1.- Listas (II). ¿Cómo se usan?<br><strong>Mejora (tipo 1): </strong>Cambiar el cuadro Debes conocer con un enlace a la Wikipedia sobre Listas a un cuadro del tipo Para saber más.</p><p><strong>Ubicación: </strong>Parte relativa a XML<br><strong>Mejora (Mapa conceptual): </strong>Se ha eliminado la parte de XML porque esta parte ha pasado a la unidad 7</p><p><strong>Ubicación: </strong>Índice, orientaciones, objetivos y consejos.<br><strong>Mejora (Orientaciones del alumnado): </strong>Se ha eliminado las referencias a XML que ha pasado a la unidad 7.</p></td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 01.01.00</th><th scope="col">Fecha de actualización: 07/03/14</th><th scope="col">Autoría: José Javier Bermúdez Hernández</th></tr><tr>
                            <td colspan="3">Se cambia el título de la unidad y de algunos apartados para diferenciarlos con algo más que (I), (II), etc.  Se corrigen erratas, se mejora la accesibilidad allí donde faltaba, se actualian los nombres de los archivos de recursos al pasar de ser la unidad 8 a la 9, y se eliminan los apartados iniciales dedicados a arrays y cadenas, que se habían pasado a la nueva unidad 5, y añadir un Anexo con una aplicación de ejemplo muy similar a lo que se pide en la tarea, para que puedan usarla como model</td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 01.00.00</th><th scope="col" colspan="2">Fecha de actualización: 07/03/14</th></tr><tr>
                            <td colspan="3">Versión inicial de los materiales.</td></tr></tbody></table>
			</div>
			</div>
			</div>
			</div>
			</div>
			<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div>

</body></html>