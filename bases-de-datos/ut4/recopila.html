
<!-- saved from url=(0112)https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&dopt=1 -->
<html><input type="hidden" id="__yoroi_connector_api_injected_type" value="prod"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<script src="./recopila_files/exe_jquery.js" type="text/javascript"></script>
<script src="./recopila_files/common_i18n.js" type="text/javascript"></script>
<script src="./recopila_files/common.js" type="text/javascript"></script>
<script src="./recopila_files/SCORM_API_wrapper.js" type="text/javascript"></script>
<script src="./recopila_files/SCOFunctions.js" type="text/javascript"></script>
<script src="./recopila_files/exe_lightbox.js" type="text/javascript"></script>
<script src="./recopila_files/saved_resource" type="text/javascript"></script>
<link href="./recopila_files/base.css" type="text/css" rel="stylesheet">
<link href="./recopila_files/content.css" type="text/css" rel="stylesheet">
<link href="./recopila_files/exe_lightbox.css" type="text/css" rel="stylesheet">
</head>
<body class=" js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js js">
<script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main" role="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Realización de consultas.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id1">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id1-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta1_66" class="block iDevice_content">
<p align="justify"><img alt="Ana" class="elemento_izquierda" src="./recopila_files/BD04_CONT_R01_CASO_PERSONAJES.jpg" style="width: 200px; height: 132px;" title="Ana" height="132" width="200"> Una de las cosas más importantes que ofrece una base de datos es la opción de poder consultar los datos que guarda, por eso Ana y Juan van a intentar sacar el máximo partido a las tablas que han guardado y sobre ellas van a obtener toda aquella información que su cliente les ha solicitado. Sabemos que dependiendo de quién consulte la base de datos, se debe ofrecer un tipo de información u otra. Es por esto que deben crear distintas consultas y vistas.</p>
<p align="justify">Ana sabe que existen muchos tipos de operadores con los que puede "jugar" para crear consultas y también tiene la posibilidad de crear campos nuevos donde podrán hacer cálculos e incluso trabajar con varias tablas relacionadas a la vez.</p>
<p align="justify">Actualmente Ana está trabajando con su equipo en una base de datos para una empresa que se dedica a organizar conferencias y en este momento ya han implementado las tablas en Oracle y se ha almacenado información sobre l<strong>as conferencias, las salas donde se celebran, los ponentes que las imparten y los asistentes. </strong> </p>
<p align="justify">De este modo pueden llevar un control más exhaustivo de las conferencias pudiendo conocer los ponentes que realizan cada conferencia, la gratificación que reciben, el nombre de los asistentes que asisten, la capacidad de las salas, etc. Para obtener esta información necesitarán consultar la base utilizando principalmente el comando SELECT.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id92">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id92-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta92_44" class="block iDevice_content">
<p>En esta unidad verás cómo realizar consultas SQL sobre una base de datos MySQL y sobre una base de datos ORACLE.  Por ello debes tener en cuenta lo siguiente:</p>
<ul class="lista_verificacion">
<li>Hay aspectos generales del lenguaje SQL que son comunes a ambos sistemas gestores de bases de datos, por tanto cuando no se indique o especifique el <acronym title="Sistema Gestro de Bases de Datos">SGBD</acronym>, se entenderá que es información común a ambos sistemas de bases de datos.</li>
<li>Para aspectos específicos de un determinado sistema de bases de datos, se indicará explícitamente a qué sistema va referida dicha información.</li>
<li>Se utilizarán dos bases de datos para desarrollar los ejemplos de esta unidad. Una base de datos para ORACLE  y otra diferente para MySQL.</li>
<li>Los ejemplos para cada base de datos vendrán precedidos por el texto destacado en azul  <strong>MySQL</strong> o bien <strong>Oracle.</strong></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">1.- Introducción.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id2">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id2-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta2_66" class="block iDevice_content">
<p align="justify"><img alt="Mano que muestra unas monedas y hace referencia al caso práctico donde se habla de salario." class="elemento_derecha" src="./recopila_files/BD04_CONT_R02_SALARIO.jpg" style="width: 200px; height: 132px;" title="Mano con monedas." height="132" width="200"> Juan quiere comenzar con consultas básicas a los datos, cosas bastante concretas y sencillas de manera que se obtenga información relevante de cada una de las tablas. También quieren realizar algunos cálculos como conocer la gratificación media de cada ponente, o el nombre de la sala con mayor capacidad, o saber el número de asistentes que asisten a una conferencia concreta.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id3">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id3-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta3_73" class="block iDevice_content">
<p>En unidades anteriores has aprendido que <acronym title="Structured Query Language" lang="en">SQL</acronym> es un conjunto de sentencias u órdenes que se necesitan para acceder a los datos. Este lenguaje es utilizado por la mayoría de las aplicaciones donde se trabaja con datos para acceder a ellos. Es decir, es la vía de comunicación entre el usuario y la base de datos.</p>
<p>SQL nació a partir de la publicación "<span lang="en">A relational model of data for large shared data banks</span>" de <span lang="en">Edgar Frank</span></p>
<p><span lang="en">Codd</span>. <acronym title="International Business Machines" lang="en">IBM</acronym> aprovechó el modelo que planteaba Codd para desarrollar un lenguaje acorde con el recién nacido modelo relacional, a este primer lenguaje se le llamó <acronym title="Structured English QUEry Language" lang="en">SEQUEL</acronym> (<span lang="en">Structured English QUEry Language</span>). Con el tiempo SEQUEL se convirtió en SQL (Structured Query Language). En 1979, la empresa Relational Software sacó al mercado la primera<a class="glosario" href="./recopila_files/saved_resource"> implementación<span><em>Implementación</em>Realización de una aplicación, o la ejecución de un plan, idea, modelo científico, diseño, especificación, estándar, algoritmo o política. En ciencias de la computación, consiste en la realización de una especificación técnica o algoritmos como un programa, componente software, u otro sistema de cómputo. Muchas implementaciones son dadas según a una especificación o un estándar.</span></a> comercial de SQL. Esa empresa es la que hoy conocemos como<a class="glosario" href="./recopila_files/saved_resource"> Oracle<span><em>Oracle</em>Sistema de gestión de base de datos objetorelacional desarrollado por Oracle Corporation.</span></a>.</p>
<p>Actualmente SQL sigue siendo el<a class="glosario" href="./recopila_files/saved_resource"> estándar <span><em>Estandar</em>Modelo a seguir al hacer algo. Son documentos que dan los detalles técnicos y las reglas necesarias para que un producto o tecnología se use correctamente.</span></a>en lenguajes de acceso a base de datos relacionales.</p>
<p>En 1992, <acronym title="Instituto Nacional de Normalización">ANSI</acronym> e <acronym title="Organización Internacional para la estandarización.">ISO</acronym> completaron la estandarización de SQL y se definieron las sentencias básicas que debía contemplar SQL para que fuera estándar. A este SQL se le denominó ANSI-SQL o SQL92.</p>
<p>Hoy en día todas las bases de datos comerciales cumplen con este estándar, eso sí, cada fabricante añade sus mejoras al lenguaje SQL.</p>
<div class="elemento_derecha">
<div class="elemento_centrado"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/oracle11sqlworkshop.png" target="_blank"><img src="./recopila_files/oracle11sqlworkshop_miniatura.png" alt="Opción SQL Workshop para ejectuar sentencias" title="Opción SQL Workshop para ejectuar sentencias" class="imagen_ampliable" style="float: right;" height="90" width="140"></a></div>
</div>
<div class="elemento_izquierda">
<div class="elemento_centrado"><a title="Ampliar imagen de la aplicación Oracle 11g en el menú de inicio" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/oracle11menuinicio.png" target="_blank"><img src="./recopila_files/oracle11menuinicio_miniatura.png" alt="Aplicación Oracle 11g en el menú de inicio" title="Aplicación Oracle 11g en el menú de inicio" class="imagen_ampliable" style="float: left;" height="160" width="140"></a></div>
</div>
<p align="justify">La primera fase del trabajo con cualquier base de datos comienza con sentencias <acronym title="Data Definition Language.">DDL</acronym> (en español Lenguaje de Definición de Datos), puesto que antes de poder almacenar y recuperar información debimos definir las estructuras donde agrupar la información: las tablas.</p>
<p align="justify">La siguiente fase será manipular los datos, es decir, trabajar con sentencias <acronym title="Data Manipulation Language." lang="en">DML</acronym> (en español Lenguaje de Manipulación de Datos). Este conjunto de sentencias está orientado a consultas y manejo de datos de los objetos creados. Básicamente consta de cuatro sentencias: SELECT, INSERT, DELETE y <code>UPDATE</code>. En esta unidad nos centraremos en una de ellas, que es la sentencia para consultas: SELECT.</p>
<p align="justify"> </p>
<p><strong class="destacado">En Oracle.</strong></p>
<p>Las sentencias SQL que se verán a continuación pueden ser ejecutadas desde el entorno web <strong>Application Express</strong> de Oracle utilizando el botón <strong>SQL Workshop</strong> en la página de inicio o <span lang="en">home</span>, y  elegir<strong> SQL Commands</strong>.</p>
<p>También se pueden indicar las sentencias SQL desde el entorno de <strong>SQL*Plus</strong> que ofrece Oracle y que puedes encontrar en <strong>Inicio &gt; Todos los programas &gt; </strong><strong>Oracle Database 11g Express Edition</strong><strong> &gt; Run SQL Command Line<br></strong></p>
<div class="elemento_derecha">
<div class="elemento_centrado"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/oracle11sqlcommand.png"><img src="./recopila_files/oracle11sqlcommand_miniatura.png" alt="Ejecución de la linea de comandos" title="Ejecución de la linea de comandos" class="imagen_ampliable" style="float: right;" height="70" width="140"></a></div>
</div>
<p>Si optas por abrir esa aplicación (<strong>Ejecutar Línea de Comandos SQL</strong>), el primer paso que debe realizarse para manipular los datos de una determinada tabla, es conectarse utilizando un nombre de usuario con los permisos necesarios para hacer ese tipo de operaciones a la tabla deseada. Utiliza para ello la orden <span lang="en">CONNECT </span>seguida del nombre de usuario. Posteriormente, solicitará la contraseña correspondiente a dicho usuario.</p>
<p>Para ejecutar cualquiera de las sentencias SQL que aprenderás en los siguientes puntos, simplemente debes escribirla completa y pulsar <strong>Intro</strong> para que se inicie su ejecución.</p>
<p> </p>
<p><strong class="destacado">En MySQL</strong></p>
<p>Las <strong>sentencias SQL</strong> que se verán a continuación pueden ser<strong> redactadas y ejecutadas:</strong></p>
<ul class="lista_verificacion">
<li><strong>Desde cualquier cliente gráfico</strong> como por ejemplo la herramienta <strong>Workbench</strong> de MySQL. En este caso, redactamos la sentencia en una ventana de <strong><em> SQL</em></strong> (<em>Menú File&gt;&gt;New Query Tab)</em>, y la ejecutamos accediendo a <em>Menú Query&gt;&gt;Execute Current Statement o </em>mediante el <em>botón 'rayo amarillo con cursor'</em>.</li>
<li><strong>Desde</strong> <strong>la línea de comandos</strong> (<em>cliente en modo texto</em>)  de MySQL y que puedes lanzar desde:
<ul>
<li><strong>Inicio &gt; Todos los programas &gt; MySQL</strong><strong> &gt; Command Line Client. </strong>En este caso te pedirá la contraseña del usuario <em>root</em> Introduce su contraseña y después <em>Intro</em>. El símbolo de sistema <em>mysql&gt; </em>te indica que ya estás conectado al servidor de bases de datos y puedes redactar sentencias SQL Una vez redactada la sentencia SQL pulsa la tecla <em>INTRO</em> para que se ejecute. <strong><br></strong></li>
</ul>
</li>
</ul>
<div class="elemento_derecha"> </div>
<p>En ambos casos, lo primero que habrá que hacer es iniciar o arrancar el servidor de bases de datos MySQL, si no está iniciado por defecto, y conectar o abrir conexión con el servidor utilizando un nombre de usuario con los permisos necesarios para hacer ese tipo de operaciones sobre la base de datos y tablas deseadas. </p>
<p>Como usuario, utiliza el usuario <strong><em>root </em></strong>con la contraseña que le hayas puesto en la instalación de MySQL.</p>
<ul class="lista_verificacion">
<li><strong>Conexión desde Workbench. </strong>Ejecuta Workbench y pulsa sobre la ventana de conexión a tu servidor como usuario <em>root.</em> Si le has puesto contraseña, aparecerá una ventana para que la introduzcas. Una vez introducida la contraseña ya estarás conectado o conectada al servidor MySQL.</li>
<li><strong>Conexión desde la línea de comandos</strong>.
<ul>
<li>Como te hemos indicado anteriormente. Una vez que has pulsado sobre <strong>Command Line Client,  </strong>te pedirá la contraseña del usuario root. Introduce su contraseña y después pulsa <em>Intro</em>. El símbolo de sistema <strong><em>mysql&gt; </em></strong>te indicará que ya estás conectado al servidor de bases de datos y puedes redactar sentencias SQL.</li>
<li>Abriendo una ventana de consola del sistema operativo y ejecutando la orden <strong>mysql -u root -p</strong>, te pedirá la contraseña del usuario <em>root.</em> Introduce su contraseña y después pulsa <em>Intro</em>. El símbolo de sistema <strong><em>mysql&gt; </em></strong>te indicará que ya estás conectado al servidor de bases de datos y puedes redactar sentencias SQL.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id4">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id4-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-4_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion4_60" class="block question iDevice_content">
<p><strong>¿Con qué sentencias se definen las estructuras donde agrupar la información, es decir, las tablas?</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-4_63">Opción 1</a></label><input type="radio" name="option4_60" id="i4_63" class="exe-radio-option exe-radio-option-0-3-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_63"><a name="answer-4_63" href="./recopila_files/saved_resource"></a>
<div id="taans4_63" class="block iDevice_content">
DML. 

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_83" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-4_83">Opción 2</a></label><input type="radio" name="option4_60" id="i4_83" class="exe-radio-option exe-radio-option-1-3-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_83"><a name="answer-4_83" href="./recopila_files/saved_resource"></a>
<div id="taans4_83" class="block iDevice_content">
DDL. 

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i4_86" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-4_86">Opción 3</a></label><input type="radio" name="option4_60" id="i4_86" class="exe-radio-option exe-radio-option-2-3-4_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-4_86"><a name="answer-4_86" href="./recopila_files/saved_resource"></a>
<div id="taans4_86" class="block iDevice_content">
DCL.

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b4_60" class="feedback js-hidden"><a name="sa0b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_63" class=" iDevice_content">
No, este es el lenguaje que incluye manipulación de datos.

</div>
</div>
<div id="sa1b4_60" class="feedback js-hidden"><a name="sa1b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_83" class=" iDevice_content">
Así es, dentro del lenguaje de definición de datos está la creación de tablas.

</div>
</div>
<div id="sa2b4_60" class="feedback js-hidden"><a name="sa2b4_60" href="./recopila_files/saved_resource"></a>
<div id="taf4_86" class=" iDevice_content">
No, deberías haber leído mejor.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-4_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa0b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-4_83">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa1b4_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-4_86">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa2b4_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id88">
<div class="iDevice emphasis_debesconocerfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_debesconocerfpd.png)"><h2 class="iDeviceTitle">Debes conocer</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id88-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta88_48" class="block iDevice_content">
<p class="destacado"><strong>ORACLE</strong></p>
<p>El diagrama Entidad - Relación de la base de datos con la que vamos a trabajar en Oracle sería:</p>
<p>&nbsp;</p>
<p>&nbsp;<img style="display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/Diagrama_E-R__Tarea_4.jpeg" alt="Diagrama E-R" title="Diagrama E-R" width="1006" height="500"></p>
<p>Y el modelo relacional (paso a tablas) resultante del diagrama sería:</p>
<p>&nbsp;</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/Tablas_Tarea_4.jpg" alt="Tablas de la base de datos Conferencias" title="Tablas de la base de datos Conferencias"></p>
<p>&nbsp;<strong class="destacado">MYSQL</strong></p>
<p>El grafo relacional (paso a tablas), en modo texto, de la base de datos con la que trabajaremos en MySQL es el siguiente:</p>
<p>&nbsp;<img style="vertical-align: middle; display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/GrafoRelacionalProyectosx.jpg" alt="GrafoRelacional de BD Proyectosx" title="GrafoRelacionalProyectosx" width="560" height="344"></p>
<p>&nbsp;</p>
<p>y su modelo relacional diseñado con el <span lang="en">Software Workbench es el siguiente:<br></span></p>
<p style="text-align: center;"><img src="./recopila_files/proyextosx.png" alt="Modelo realcional base de datos proyectosx" title="modeloRelacionalProyectosx" width="800"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.- La sentencia SELECT.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id5">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id5-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta5_66" class="block iDevice_content">
<p><img alt="Ana" class="elemento_derecha" src="./recopila_files/BD04_CONT_R01_CASO_PERSONAJES.jpg" style="width: 200px; height: 132px;" title="Ana" height="132" width="200"></p>
<p align="justify"><strong>Ana</strong> está trabajando con la tabla Conferencia, de aquí quiere ver qué información es la más importante, para así crear las consultas más sencillas pero a la vez más frecuentes. Sabe que con SQL y utilizando el comando SELECT puede sacar provecho a los datos contenidos en una tabla.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id6">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id6-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta6_73" class="block iDevice_content">
<p>¿Cómo podemos seleccionar los datos que nos interesen dentro de una base de datos? Para recuperar o seleccionar los datos, de una o varias tablas puedes valerte del lenguaje SQL, para ello utilizarás la sentencia SELECT, que consta de cuatro partes básicas:</p>
<ul class="lista_verificacion">
<li><strong>Cláusula</strong> SELECT seguida de la descripción de lo que se desea ver, es decir, de los nombres de las columnas que quieres que se muestren separadas por comas simples (" , "). Esta parte es obligatoria.</li>
<li><strong>Cláusula</strong> FROM seguida del nombre de las tablas de las que proceden las columnas de arriba, es decir, de donde vas a extraer los datos. Esta parte también es obligatoria.</li>
<li><strong>Cláusula</strong> WHERE seguida de un criterio de selección o condición. Esta parte es opcional.</li>
<li><strong>Cláusula</strong> ORDER BY seguida por un criterio de ordenación. Esta parte también es opcional.</li>
</ul>
<p>Por tanto, una primera sintaxis quedaría de la siguiente forma:</p>
<div class="codigo elemento_centrado" style="width: 75.85em;">
<div class="texto_izquierda">
<pre>SELECT [ALL | DISTINCT] columna1, columna2, ... FROM tabla1, tabla2, ... WHERE condición1, condición2, ... ORDER BY ordenación;
</pre>
</div>
</div>
<div class="elemento_centrado"><img alt="Mano con el índice levantado como si estuviera seleccionando." src="./recopila_files/BD04_CONT_R06_MANOSELECCION.jpg" style="width: 132px; height: 200px; margin-top: 20px;" title="Índice." height="200" width="132"></div>
</div>
</div>
</div>
<div class="iDevice_wrapper RecomendacionfpdIdevice em_iDevice" id="id7">
<div class="iDevice emphasis_recomendacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_recomendacionfpd.png)"><h2 class="iDeviceTitle">Recomendación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id7-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta7_50" class="block iDevice_content">
<p>
Las cláusulas ALL y <code>DISTINCT</code> son opcionales.
</p>
<ul class="lista_verificacion">
	<li>Si incluyes la cláusula ALL después de SELECT, indicarás que quieres seleccionar todas las filas estén o no repetidas. Es el valor por defecto y no se suele especificar. </li>
	<li>Si incluyes la cláusula DISTINCT después de SELECT, se suprimirán aquellas filas del resultado que tengan igual valor que otras.</li>
</ul>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id8">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id8-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-8_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion8_60" class="block question iDevice_content">
<p><strong>¿Qué se debe indicar a continuación de la cláusula FROM?</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_63">Opción 1</a></label><input type="radio" name="option8_60" id="i8_63" class="exe-radio-option exe-radio-option-0-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_63"><a name="answer-8_63" href="./recopila_files/saved_resource"></a>
<div id="taans8_63" class="block iDevice_content">
Las columnas que queremos seleccionar.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_91" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_91">Opción 2</a></label><input type="radio" name="option8_60" id="i8_91" class="exe-radio-option exe-radio-option-1-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_91"><a name="answer-8_91" href="./recopila_files/saved_resource"></a>
<div id="taans8_91" class="block iDevice_content">
Los criterios con los que filtro la selección. 

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_94" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_94">Opción 3</a></label><input type="radio" name="option8_60" id="i8_94" class="exe-radio-option exe-radio-option-2-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_94"><a name="answer-8_94" href="./recopila_files/saved_resource"></a>
<div id="taans8_94" class="block iDevice_content">
Las tablas de donde se van a extraer los datos.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i8_97" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_97">Opción 4</a></label><input type="radio" name="option8_60" id="i8_97" class="exe-radio-option exe-radio-option-3-4-8_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-8_97"><a name="answer-8_97" href="./recopila_files/saved_resource"></a>
<div id="taans8_97" class="block iDevice_content">
La ordenación ascendente.

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b8_60" class="feedback js-hidden"><a name="sa0b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_63" class=" iDevice_content">
No, éstas irían junto a la cláusula SELECT.

</div>
</div>
<div id="sa1b8_60" class="feedback js-hidden"><a name="sa1b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_91" class=" iDevice_content">
No, éstos irían con la cláusula WHERE.

</div>
</div>
<div id="sa2b8_60" class="feedback js-hidden"><a name="sa2b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_94" class=" iDevice_content">
Así es, Aparecerán todos los nombres de las tablas cuyas columnas estemos seleccionando, separadas por coma.

</div>
</div>
<div id="sa3b8_60" class="feedback js-hidden"><a name="sa3b8_60" href="./recopila_files/saved_resource"></a>
<div id="taf8_97" class=" iDevice_content">
No, el tipo de ordenación aparece junto a la cláusula ORDER BY.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa0b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_91">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa1b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_94">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa2b8_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-8_97">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa3b8_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.1.- Cláusula SELECT.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id9">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id9-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta9_73" class="block iDevice_content">
<p align="left">Ya has visto que a continuación de la sentencia SELECT debemos especificar cada una de las columnas que queremos seleccionar. Además, debemos tener en cuenta lo siguiente:</p>
<ul class="lista_verificacion">
<li>
<p align="left"><strong>Se pueden nombrar</strong> a las columnas anteponiendo el nombre de la tabla de la que proceden, pero esto es opcional y quedaría: NombreTabla.NombreColumna</p>
</li>
<li>
<p align="left">Si queremos <strong>incluir todas las columnas</strong> de una tabla podemos utilizar el comodín <strong>asterisco</strong> ("*"). Quedaría así: SELECT * FROM NombreTabla;</p>
</li>
<li>
<p align="left">También podemos <strong>ponerle alias a los nombres</strong> de las columnas. Cuando se consulta una base de datos, los nombres de las columnas se usan como cabeceras de presentación. Si éste resulta largo, corto o poco descriptivo, podemos usar un alias. Para ello a continuación del nombre de la columna ponemos entre comillas dobles el alias que demos a esa columna. Veamos un ejemplo:</p>
</li>
</ul>
<p> </p>
<p align="left"><strong class="destacado">Oracle</strong></p>
<div class="codigo elemento_centrado" style="width: 36.8em;">
<div class="texto_izquierda">
<pre>SELECT nombre "Nombre de la Sala" FROM SALA;</pre>
</div>
</div>
<p align="left"><img alt="Esquema básico donde se refleja como a un nombre de una columna F_Nac se le puede poner un alias indicando el nombre completo que es Fecha de nacimiento." class="elemento_derecha" src="./recopila_files/BD04_CONT_R07_ALIAS.png" style="width: 200px; height: 97px;" title="Alias" height="97" width="200"></p>
<p> </p>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 32.95em;">
<div class="texto_izquierda">
<pre>SELECT nombre "Nombre empleado" FROM empleado;</pre>
<pre> </pre>
<pre>SELECT nombre as "Nombre empleado" FROM empleado;</pre>
</div>
</div>
<p> </p>
<ul class="lista_verificacion">
<li>
<p align="left">También podemos <strong>sustituir el nombre</strong> de las columnas por<a class="glosario" href="./recopila_files/saved_resource"> constantes,<span><em>Constante</em>Cantidad que tiene un valor fijo en un determinado proceso, cálculo, etc.</span></a><a class="glosario" href="./recopila_files/saved_resource"> expresiones<span><em>Expresión</em>Combinación de constantes, variables o funciones, que es interpretada (evaluada) de acuerdo a las normas particulares de precedencia y asociación para un lenguaje de programación en particular. Como en matemáticas, la expresión es su "valor evaluado", es decir, la expresión es una representación de ese valor.</span></a> o<a class="glosario" href="./recopila_files/saved_resource"> funciones<span><em>Función</em>Es un grupo de instrucciones con un objetivo en particular y que se ejecuta al ser llamada desde otra función o procedimiento. Una función puede llamarse múltiples veces e incluso llamarse a sí misma (función recurrente). Las funciones pueden recibir datos desde afuera al ser llamadas a través de los parámetros y deben entregar un resultado. Se diferencian de los procedimientos porque estos no devuelven un resultado.</span></a> SQL.</p>
</li>
</ul>
<p> </p>
<p align="left"><strong class="destacado">Oracle</strong></p>
<p> </p>
<p align="left"> </p>
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre> SELECT 4*3/100 "MiExpresión",capacidad FROM SALA;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id91">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id91-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta91_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 34.05em;">
<div class="texto_izquierda">
<pre>SELECT 4*3/100 "MiExpresión", nombre FROM empleado;</pre>
</div>
</div>
<pre> </pre>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id10">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id10-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta10_47" class="block iDevice_content">
<p>
Si quieres conocer algo más sobre esta sentencia y ver algunos ejemplos del uso de SELECT aquí tienes el siguiente enlace:
</p>
<p class="enlace_centrado">
<a href="http://www.devjoker.com/contenidos/Tutorial-SQL-/14/Consultar-datos-SELECT.aspx" title="Blog de un consultor donde podemos encontrar un tutorial de SQL.">La cláusula SELECT.</a>
</p>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id12">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id12-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta12_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b12" class="block iDevice_content">
<p><strong class="destacado">Oracle</strong></p>
<p>Si quieres practicar algunos ejercicios puedes ayudar a <strong>Ana</strong> con algunas consultas. Para ello te facilitamos las tablas que ha creado recientemente para la base de datos con la que actualmente están trabajando. En el siguiente documento tienes los datos que te permitirán realizar algunos ejemplos de esta unidad. Recuerda que los ejemplos irán apareciendo bajo el epígrafe Ejercicio Resuelto.</p>
<div class="elemento_centrado">
<p><a class="paquete" title="Descargar documento con las tablas y registros con los que podrás trabajar algunos de los ejemplos." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/BD04_CONT_R07_02.zip">Tablas y registros para realizar algunos de los ejemplos.</a><span class="tamano"> (0.001 MB) </span></p>
</div>
<p>También tienes algunos datos incluidos para probar las distintas consultas que crees. A partir de ahora nos referiremos a estos datos como tablas de la base de datos de Conferencias.</p>
<p>Por tanto lo primero que tienes que hacer es abrir el editor de SQL, para ello debes ir en el menú de Inicio de Windows a Oracle Database 11g Express Edition y a continuación pulsar en Run SQL Command Line. Aparecerá una pantalla donde tienes que realizar los siguientes pasos:</p>
<ol>
<li>Conectarte a través de un usuario.</li>
<li>Ejecutar el archivo que has bajado, para ello debes escribir @Ruta_donde_se_encuentra_el_archivo/BD04_CONT_R07_02.sql</li>
</ol>
<p>En este ejercicio te pedimos que ejecutes el archivo y crees las tablas necesarias para poder realizar ejercicios posteriores.</p>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<p>Si quieres practicar algunos ejercicios puedes ayudar a <strong>Ana</strong> con algunas consultas. Para ello te facilitamos las tablas que ha creado recientemente para la base de datos con la que actualmente están trabajando. En el siguiente enlace tienes los datos que te permitirán realizar algunos ejemplos de esta unidad. Recuerda que los ejemplos irán apareciendo bajo el epígrafe Ejercicio Resuelto.</p>
<p> </p>
<div class="elemento_centrado">
<p><a class="paquete" title="Descargar documento con las tablas y registros con los que podrás trabajar algunos de los ejemplos. [zip - 1621 B]" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/bd_proyectosx.zip">Tablas y registros para realizar algunos de los ejemplos.</a><span class="tamano"> (1621 <acronym title="Bytes" lang="en">B</acronym>)</span></p>
</div>
<p>También tienes algunos datos incluidos para probar las distintas consultas que crees. A partir de ahora nos referiremos a estos datos como tablas de la empresa Proyectosx. Te descargarás un archivo comprimido de nombre bd_proyectosx.zip.</p>
<p>Descomprime el archivo y dentro encontrarás el script SQL bd_proyectosx.sql</p>
<ol class="lista_esquema">
<li>Por tanto lo primero que tienes que hacer es abrir el editor de SQL, para ello debes de tener iniciado el servidor MySQL y desde <em>Workbench</em>, iniciar una conexión al servidor como usuario <em>root</em>.</li>
<li>Desde el menú <em>File&gt;&gt;Open SQL Script indica la ruta del archivo</em> bd_proyectosx.sql y ejecuta el script.</li>
</ol>
<p>En este ejercicio te pedimos que ejecutes el archivo y crees las tablas necesarias para poder realizar y probar los ejercicios de esta unidad. Este <strong><span style="font-size: small;" lang="en">script</span></strong>  creará la base de datos <strong>p<em>royectosx</em></strong>, con la que podrás probar los ejemplos de esta unidad.</p>
</div>
<form name="feedback-form-quesFeedback0b12" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b12text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b12" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b12" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<p>El resultado puedes verlo en el <strong>Anexo I.- Creación de tablas y preparación de Oracle y MySQL</strong> al final de los contenidos.</p>
<div class="elemento_centrado">
<p> </p>
</div></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.2.- Cláusula FROM.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id14">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id14-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta14_73" class="block iDevice_content">
<p><img alt="Un hombre de mediana edad consulta la información que aparece en la pantalla de un ordenador de sobremesa." class="elemento_derecha" src="./recopila_files/ST000935.png" style="width: 132px; height: 200px;" title="Persona consultando información." height="200" width="132"> Al realizar la consulta o selección has visto que puedes elegir las columnas que necesites, pero ¿de dónde extraigo la información?</p>
<p>En la sentencia SELECT debemos establecer de dónde se obtienen las columnas que vamos a seleccionar, para ello disponemos en la sintaxis de la cláusula FROM.</p>
<p>Por tanto, en la cláusula FROM <strong>se definen los nombres de las tablas</strong> de las que proceden las columnas.</p>
<p>Si se utiliza más de una, éstas deben aparecer separadas por comas. A este tipo de consulta se denomina <strong>consulta combinada</strong> o <strong><span lang="en">join</span></strong>. Más adelante verás que para que la consulta combinada pueda realizarse, necesitaremos aplicar una condición de combinación a través de una cláusula WHERE.</p>
<p>En el caso de Oracle, también puedes añadir el nombre del usuario que es <strong>propietario</strong> de esas tablas, indicándolo de la siguiente manera:</p>
<p>USUARIO.TABLA</p>
<p>de este modo podemos distinguir entre las tablas de un usuario y otro (ya que esas tablas pueden tener el mismo nombre).</p>
<p>Tanto en Oracle como en MySQL, puedes asociar un alias a las tablas para abreviar, en este caso <strong>no es necesario que lo encierres entre comillas</strong>.</p>
<p>Pongamos un ejemplo:&nbsp;</p>
<p>&nbsp;</p>
<p><strong class="destacado">Oracle</strong></p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT * FROM CONFERENCIA C;</pre>
</div>
</div>
<p>&nbsp;</p>
<p><strong class="destacado">MySQL</strong></p>
<p>&nbsp;</p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT * FROM empleado e;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.3.- Cláusula WHERE.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id15">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id15-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta15_73" class="block iDevice_content">
<p><img alt="Una persona expone en una pizarra una parte de un esquema que representa el conjunto de condiciones que se van a tener en cuenta." class="elemento_derecha" src="./recopila_files/stk32373bme.png" style="width: 140px; height: 200px;" title="Condiciones." height="200" width="140">¿Podríamos desear seleccionar los datos de una tabla que cumplan una determinada condición? Hasta ahora hemos podido ver la sentencia SELECT para obtener todas o un subconjunto de columnas de una o varias tablas. Pero esta selección afectaba a todas las filas (registros) de la tabla. Si queremos restringir esta selección a un subconjunto de filas debemos especificar una condición que deben cumplir aquellos registros que queremos seleccionar. Para poder hacer esto vamos a utilizar la cláusula WHERE.</p>
<p>A continuación de la palabra WHERE será donde pongamos la condición que han de cumplir las filas para salir como resultado de dicha consulta.</p>
<p>El criterio de búsqueda o condición puede ser más o menos sencillo y para crearlo se pueden<a class="glosario" href="./recopila_files/saved_resource"> conjugar<span><em>Conjugar</em>Combinar varias cosas entre sí.</span></a> operadores de diversos tipos, funciones o expresiones más o menos complejas.</p>
<p>&nbsp;</p>
<p><strong class="destacado">Oracle</strong></p>
<p>Si en nuestra tabla ASISTENTE, necesitáramos un listado de los asistentes que sean hombres, bastaría con crear la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 19.2em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1, apellido2</pre>
<pre>FROM ASISTENTE</pre>
<pre>WHERE sexo = 'H'; </pre>
</div>
</div>
<p><strong class="destacado">MySQL</strong></p>
<p>Si en nuestra tabla empleado, necesitáramos un listado de los empleados con salario inferior a 2000€, bastaría con crear la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 19.2em;">
<div class="texto_izquierda">
<pre>SELECT nombre</pre>
<pre>FROM empleado</pre>
<pre>WHERE salario &lt; 2000; </pre>
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Más adelante te mostraremos los operadores con los que podrás crear condiciones de diverso tipo.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id17">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id17-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta17_47" class="block iDevice_content">
<p>Aquí te adelantamos los operadores para que vayas conociéndolos. Con ellos trabajarás cuando hayas adquirido algunos conocimientos más:</p>
<div class="elemento_centrado">
<p><a title="Página donde se enseñan los distintos operadores y algunos ejemplos de su uso." href="http://www.desarrolloweb.com/articulos/1870.php">Operadores SQL ORACLE</a></p>
<p>&nbsp;</p>
<p><a title="Página donde se enseñan los distintos operadores y algunos ejemplos de su uso." href="http://www.aulafacil.com/mysql/curso/Lecc-16.htm">Operadores SQL MySQL</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.4.- Cláusula HAVING.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id113">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id113-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta113_154" class="block iDevice_content">
<p>¿Podríamos desear seleccionar los datos de una tabla que cumplan una determinada condición con operadores aritméticos como SUM, <code>MAX</code>, COUNT, <code>MIN</code>&nbsp;o&nbsp;AVG? En el apartado anterior veíamos las funciones del&nbsp;WHERE, pero si existen operadores aritméticos ya no es posible usarlo y entraría en juego la clausula HAVING. Si queremos restringir esta selección a un subconjunto de filas especificando con una condición aritmética la clausula&nbsp;WHERE, no podría utilizarse y trabajaríamos con HAVING</p>
<p>.</p>
<div class="exe-figure exe-image float-right license-custom" style="width: 251px;"><img src="./recopila_files/having.png" alt="Silueta con hexágonos" title="Selección_having" width="251" height="167" hspace="10" style="margin-right: 10px; margin-left: 10px;">
<div class="figcaption"><a href="https://pixabay.com/es/" target="_blank" class="author" rel="noopener">Pixabay</a>. <a href="https://pixabay.com/es/illustrations/hex%c3%a1gono-blockchain-hombre-silueta-6574882/" target="_blank" class="title" rel="noopener"><em>Selección_having</em></a> <a href="https://pixabay.com/es/service/license/" target="_blank" rel="noopener"><span class="license"><span class="sep">(</span><span class="custom-license">Pixabay License</span><span class="sep">)</span></span></a></div>
</div>
<p>Por lo tanto, si nos preguntamos cuando debemos usar&nbsp;WHERE&nbsp;o&nbsp;HAVING, hay que tener en cuenta lo anteriormente comentado y además, saber que WHERE se utilizará para registros individuales y HAVING cuando se opere con un grupo de registros.</p>
<p>&nbsp;</p>
<p><strong class="destacado">Oracle</strong></p>
<p>Si en nuestra tabla ASISTENTE, necesitáramos un listado de los asistentes a más de dos películas, bastaría con crear la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 19.2em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1, apellido2</pre>
<pre>FROM ASISTENTE&lt;br /&gt;GROUP&nbsp;BY&nbsp;nombre</pre>
<pre>HAVING count(peliculas)&gt;2 ; </pre>
</div>
</div>
<p><strong class="destacado">MySQL</strong></p>
<p>Si en nuestra tabla empleado, necesitáramos un listado de los empleados con salario medio inferior a 200€, bastaría con crear la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 19.2em;">
<div class="texto_izquierda">
<pre>SELECT nombre</pre>
<pre>FROM empleado&lt;br /&gt;GROUP&nbsp;BY&nbsp;nombre</pre>
<pre>HAVING AVG(salario) &lt; 200; </pre>
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Normalmente, el HAVING&nbsp;suele ir acompañado del GROUP BY, por el motivo de que opera sobre los grupos que devuelve la sentencia GROUP BY.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper RecomendacionfpdIdevice em_iDevice" id="id122">
<div class="iDevice emphasis_recomendacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_recomendacionfpd.png)"><h2 class="iDeviceTitle">Recomendación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id122-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta122_131" class="block iDevice_content">
<p>Si deseas seguir profundizando, en el siguiente enlace tienes información que te puede ser muy útil.</p>
<p style="text-align: center;"><a href="http://carmoreno.github.io/sql/2017/02/09/Diferencia-entre-having-y-where/" target="_blank" rel="noopener">&nbsp;Sentencia Having y diferencias con Where</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.5.- Ordenación de registros. Cláusula ORDER BY.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id18">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id18-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta18_73" class="block iDevice_content">
<p><img alt="Personas haciendo cola de forma ordenada." class="elemento_derecha" src="./recopila_files/57437447.png" style="width: 160px; height: 160px;" title="Orden." height="160" width="160"> En la consulta del ejemplo anterior hemos obtenido una lista de nombres y apellidos de las usuarias de nuestro juego. Sería conveniente que aparecieran ordenadas por apellidos, ya que siempre quedará más profesional además de más práctico. De este modo, si necesitáramos localizar un registro concreto la búsqueda sería más rápida. ¿Cómo lo haremos? Para ello usaremos la cláusula ORDER BY.</p>
<p>ORDER BY se utiliza para <strong>especificar el criterio de ordenación</strong> de la respuesta a nuestra consulta. Tendríamos:</p>
<div class="codigo elemento_centrado" style="width: 50.55em;">
<div class="texto_izquierda">
<pre>SELECT [ALL | DISTINCT] columna1, columna2, ...
</pre>
<pre>FROM tabla1, tabla2, ...
</pre>
<pre>WHERE condición1, condición2, ...
</pre>
<pre>ORDER BY columna1 [ASC | DESC], columna2 [ASC | DESC], …, columnaN [ASC | DESC]; 
</pre>
</div>
</div>
<p>Después de cada columna de ordenación se puede incluir el tipo de ordenación (ascendente o descendente) utilizando las palabras reservadas ASC o <code>DESC</code>. Por defecto, y si no se pone nada, la ordenación es ascendente.</p>
<p>Debes saber que es <strong>posible ordenar por más de una columna</strong>. Es más, puedes ordenar no solo por columnas sino a través de una expresión creada con columnas, una constante (aunque no tendría mucho sentido) o funciones SQL.</p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>En el siguiente ejemplo, ordenamos por apellidos y en caso de empate por nombre:</p>
<div class="codigo elemento_centrado" style="width: 21.4em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1, apellido2
</pre>
<pre>FROM ASISTENTE
</pre>
<pre>ORDER BY apellido1,apellido2, nombre; 
</pre>
</div>
</div>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>En el siguiente ejemplo, ordenamos por departamento y en caso de empate por nombre:</p>
<div class="codigo elemento_centrado" style="width: 21.4em;">
<div class="texto_izquierda">
<pre>SELECT nombre, cddep
</pre>
<pre>FROM empleado
</pre>
<pre>ORDER BY cddep, nombre; 
</pre>
</div>
</div>
<p> </p>
<p> </p>
<p>Puedes colocar el número de orden del campo por el que quieres que se ordene en lugar de su nombre, es decir, referenciar a los campos por su posición en la lista de selección.</p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Por ejemplo, si queremos el resultado del ejemplo anterior ordenado por la Empresa:</p>
<div class="codigo elemento_centrado" style="width: 25.25em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1, apellido2, empresa
</pre>
<pre>FROM ASISTENTE
</pre>
<pre>ORDER BY 4; 
</pre>
</div>
</div>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Por ejemplo, si queremos el resultado del ejemplo anterior ordenado por salario:</p>
<div class="codigo elemento_centrado" style="width: 25.25em;">
<div class="texto_izquierda">
<pre>SELECT nombre, cddep, salario
</pre>
<pre>FROM empleado
</pre>
<pre>ORDER BY 3; 
</pre>
</div>
</div>
<p> </p>
<p> </p>
<p> </p>
<p>Si colocamos un número mayor a la cantidad de campos de la lista de selección, aparece un mensaje de error y la sentencia no se ejecuta.</p>
<p>¿Se puede utilizar cualquier tipo de datos para ordenar? No todos los tipos de campos te servirán para ordenar, únicamente aquellos de tipo <strong>carácter, número o fecha</strong>.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ClozefpdIdevice em_iDevice" id="id19">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id19-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta19_41" class="block instructions iDevice_content">
<p><strong>Relaciona cada cláusula de la sentencia SELECT con la información que debe seguirle:</strong></p>
</div>
<div class="activity" id="activity-19_42">
<form name="cloze-form-19_42" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form cloze-activity-form">
<div id="cloze19_42">
<input type="hidden" name="clozeFlag19_42.strictMarking" id="clozeFlag19_42.strictMarking" value="false">

<input type="hidden" name="clozeFlag19_42.checkCaps" id="clozeFlag19_42.checkCaps" value="false">

<input type="hidden" name="clozeFlag19_42.instantMarking" id="clozeFlag19_42.instantMarking" value="false">

<input type="hidden" name="clozeVar19_42.feedbackId" id="clozeVar19_42.feedbackId" value="ta19_43">

<table class="tabla" summary="Tabla en la que se deben relacionar las distintas cláusulas de la sentencia SELECT con la información que debe aparecer a continuación.">
	<caption>Ejercicio de relacionar</caption>
	<tbody>
		<tr>
			<th scope="col">Cláusula</th>
			<th scope="col">Relación</th>
			<th scope="col">Información que le sigue.</th>
		</tr>
		<tr>
			<td>WHERE</td>
			<td class="texto_centrado">   
<label for="clozeBlank19_42.0" class="sr-av">Rellenar huecos (1):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.0" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.0">JXUwMDZj
</span>
   </td>
			<td>1. Ordenación.</td>
		</tr>
		<tr>
			<td>ORDER BY</td>
			<td class="texto_centrado">   
<label for="clozeBlank19_42.1" class="sr-av">Rellenar huecos (2):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.1" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.1">JXUwMDY5
</span>
   </td>
			<td>2. Columnas.</td>
		</tr>
		<tr>
			<td>FROM</td>
			<td class="texto_centrado">   
<label for="clozeBlank19_42.2" class="sr-av">Rellenar huecos (3):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.2" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.2">JXUwMDZi
</span>
   </td>
			<td>3. Tablas.</td>
		</tr>
		<tr>
			<td>SELECT</td>
			<td class="texto_centrado">   
<label for="clozeBlank19_42.3" class="sr-av">Rellenar huecos (4):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank19_42.3" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer19_42.3">JXUwMDZh
</span>
   </td>
			<td>4. Condiciones.</td>
		</tr>
	</tbody>
</table>

<div class="block iDevice_buttons">
<p>
<input class="button" type="submit" name="submit19_42" value="Enviar" id="submit19_42">

<input type="button" name="restart19_42" value="Reiniciar" style="display:none" id="restart19_42" onclick="$exe.cloze.restart(&#39;19_42&#39;)">

 
<input type="button" name="19_42showAnswersButton" value="Mostrar las respuestas" style="display:none" id="showAnswersButton19_42" onclick="$exe.cloze.fillInputs(&#39;19_42&#39;)">

<span class="js-hidden js-warning">Habilitar JavaScript</span>
</p>
</div>
<div id="clozeScore19_42"></div>
</div>
</form>
</div><div id="ta19_43" class="feedback js-feedback iDevice_content" style="display:none" role="status">
La sintaxis de esta sentencia es muy sencilla y fácil de comprender, ¿no crees?

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id21">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id21-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta21_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b21" class="block iDevice_content">
<p><strong class="destacado">Oracle</strong></p>
<p>Utilizando las tablas y datos descargados anteriormente, vamos a realizar una consulta donde obtengamos el nombre y la capacidad de las salas ordenados de mayor a menor capacidad.</p>
</div>
<form name="feedback-form-quesFeedback0b21" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b21text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b21" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b21" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 23.6em;">
<div class="texto_izquierda">
<pre>SELECT NOMBRE, CAPACIDAD &lt;br /&gt;FROM SALA&lt;br /&gt;ORDER BY CAPACIDAD DESC;&lt;br /&gt;
</pre>
</div>
</div></div>
</form>
<div id="taquesQuestion1b21" class="block iDevice_content">
<p><strong class="destacado">MySQL</strong></p>
<p>Utilizando las tablas y datos de la empresa Proyectosx descargados anteriormente, vamos a realizar una consulta donde obtengamos de la tabla EMPLEADO, <acronym title="Documento Nacional de Identidad.">el código, nombre y salario de </acronym>los empleados ordenados por nombre ascendentemente y por salario de manera descendente.</p>
</div>
<form name="feedback-form-quesFeedback1b21" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b21text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b21" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b21" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 23.6em;">
<div class="texto_izquierda">
<pre>SELECT cdemp, nombre, salario 
</pre>
<pre>FROM empleado
</pre>
<pre>ORDER BY nombre, salario DESC; 
</pre>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">2.6.- Tipos de JOIN</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id123">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id123-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta123_154" class="block iDevice_content">
<p>La palabra JOIN significa unir, y nada más lejos de su utilización dentro del lenguaje <abbr title="Structured Query Language">SQL</abbr>. Principalmente se utiliza para combinar filas de distintas tablas con campos comunes entre ellas. Existen distintos tipos de joins en <abbr title="Structured Query Language">SQL</abbr>:</p>
<div class="exe-figure exe-image position-center license-custom" style="width: 400px;"><a href="./recopila_files/SQL_Joins.svg.png" target="_blank" rel="lightbox noopener" title="Recurso tipos de joins"><img src="./recopila_files/SQL_Joins.svg.png" alt="Tipos de Joins" title="Tipos de Joins" width="400" height="283"></a>
<div class="figcaption"><a href="https://es.m.wikipedia.org/wiki/Wikipedia:Portada" target="_blank" class="author" rel="noopener">Wikipedia/Arbeck</a>. <a href="https://es.wikipedia.org/wiki/Archivo:SQL_Joins.svg" target="_blank" class="title" rel="noopener"><em>Tipos de Joins</em></a> <a href="https://creativecommons.org/licenses/by/3.0/es/" target="_blank" rel="noopener"><span class="license"><span class="sep">(</span><span class="custom-license">CC BY 3.0</span><span class="sep">)</span></span></a></div>
</div>
<p>1. <strong>INNER JOIN: </strong>Devuelve como resultado la selección de las distintas filas que tengan columnas coincidentes en ambas tablas.</p>
<ul class="lista_verificacion">
<li><em>Ejemplo</em>: si tenemos dos tablas Empleados y Departamentos, vamos a listar el departamento al cual pertenece cada empleado:</li>
</ul>
<p></p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT de.nombre, e.nombre&lt;br /&gt;from departamento de &lt;br /&gt;INNER JOIN empleados e &lt;br /&gt;ON de.id= e.departamento ;</pre>
</div>
</div>
<p><br style="clear: both;">2. <strong>RIGHT JOIN: </strong>Devuelve como resultado todas las filas de la tabla de la derecha más las coincidentes con la de la tabla izquierda. Los campos no coincidentes aparecerá con NULL.</p>
<ul class="lista_verificacion">
<li><em>Ejemplo</em>: si tenemos dos tablas Empleados y Proyectos, vamos a listar los proyectos y aparecerán los empleados que están asignados a algún proyecto.</li>
</ul>
<p></p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT p.nombre, e.nombre&lt;br /&gt;from proyectos p  &lt;br /&gt;RIGHT JOIN empleados e &lt;br /&gt;ON P.id= e.proyecto ;</pre>
</div>
</div>
<p><br style="clear: both;">3.<strong> LEFT&nbsp;JOIN: </strong>Devuelve como resultado todas las filas de la tabla de la izquierda más las coincidentes con la de la tabla derecha. Los campos no coincidentes aparecerá con NULL.</p>
<ul class="lista_verificacion">
<li><em>Ejemplo</em>: si tenemos dos tablas Empleados y Proyectos, vamos a listar los empleados y aparecerán los proyectos que están asignados a algún empleado:</li>
</ul>
<p></p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT p.nombre, e.nombre&lt;br /&gt;from proyectos p  &lt;br /&gt;LEFT JOIN empleados e &lt;br /&gt;ON P.id= e.proyecto ;</pre>
</div>
</div>
<p><br style="clear: both;">4. <strong>OUTER JOIN O FULL OUTER JOIN: </strong>Devuelve como resultado todas las filas de la tabla de la derecha y todas las filas de la tabla izquierda. Aparecerá NULL cuando no haya una coincidencia.</p>
<ul class="lista_verificacion">
<li><em>Ejemplo</em>: si tenemos dos tablas Empleados y Proyectos, vamos a listar todos los proyectos y todos los empleados:</li>
</ul>
<p></p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT p.nombre, e.nombre&lt;br /&gt;from proyectos p  &lt;br /&gt;OUTER JOIN empleados e &lt;br /&gt;ON P.id= e.proyecto ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id125">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id125-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta125_151" class="block iDevice_content">
<p>La opción de outer join o full outer join, <strong>NO EXISTE para MySQL</strong>. Por lo tanto, cuando lo queramos usar en este entorno su equivalente será <strong>UNION.&nbsp; </strong>A continuación un ejemplo de su uso en MySQL dónde mostrará todos los proyectos y empleados.<strong></strong></p>
<p></p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT p.nombre, e.nombre&lt;br /&gt;from proyectos p  &lt;br /&gt;LEFT JOIN empleados e &lt;br /&gt;ON P.id= e.proyecto &lt;br /&gt;&lt;br /&gt;UNION&lt;br /&gt;&lt;br /&gt;SELECT p.nombre, e.nombre&lt;br /&gt;from proyectos p &lt;br /&gt;RIGHT JOIN empleados e &lt;br /&gt;ON P.id= e.proyecto;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.- Operadores.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id22">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id22-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta22_66" class="block iDevice_content">
<p><img alt="Dos ejecutivos delante de una mesa con un ordenador trabajan en un proyecto." class="elemento_derecha" src="./recopila_files/57437479.png" style="width: 160px; height: 160px;" title="Proyecto" height="160" width="160">En el proyecto en el que actualmente trabajan <strong>Ana</strong> y <strong>Juan</strong>, tendrán que realizar consultas que cumplan unos criterios concretos, por ejemplo, obtener el número total de salas cuya capacida se igual o mayor a un número determinado o incluso conocer el número de asistentes  que son de una empresa concreta y además sean hombres.</p>
<p>Para poder realizar este tipo de consultas necesitaremos utilizar operadores que sirvan para crear las expresiones necesarias. <strong>Ana</strong> y <strong>Juan</strong> conocen los 4 tipos de operadores con los que se puede trabajar: relacionales, aritméticos, de concatenación y lógicos.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id23">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id23-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta23_73" class="block iDevice_content">
<p>Veíamos que en la cláusula WHERE podíamos incluir expresiones para filtrar el conjunto de datos que queríamos obtener. Para crear esas expresiones necesitas utilizar distintos operadores de modo que puedas comparar, utilizar la lógica o elegir en función de una suma, resta, etc.</p>
<p>Los operadores son<a class="glosario" href="./recopila_files/saved_resource"> símbolos<span><em>Símbolo</em>Es la representación perceptible de una idea, con rasgos asociados por una convención socialmente aceptada.</span></a> que permiten realizar operaciones matemáticas, concatenar cadenas o hacer comparaciones.</p>
<p>Oracle reconoce 4 tipos de operadores:</p>
<ol>
<li>Relacionales o de comparación.</li>
<li>Aritméticos.</li>
<li>De concatenación.</li>
<li>Lógicos.</li>
</ol>
<p>¿Cómo se utilizan y para qué sirven? En los siguientes apartados responderemos a estas cuestiones.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id24">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id24-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta24_47" class="block iDevice_content">
<p>
Si quieres conocer un poco más sobre los operadores visita este enlace:
</p>
<div class="elemento_centrado">
<p>
<a href="http://deletesql.com/viewtopic.php?f=5&amp;t=10" title="Acceder a un enlace sobre operadores que aparece en este curso de SQL desde cero.">Operadores.</a>
</p>
</div>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.1.- Operadores de comparación.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id25">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id25-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta25_73" class="block iDevice_content">
<p><img alt="Una mujer delante de una pizarra en la que hay dibujado gráficos explica a un grupo de personas que atienden." class="elemento_derecha" src="./recopila_files/BU004844.png" style="width: 160px; height: 160px;" title="Operaciones y funciones." height="160" width="160">Los puedes conocer con otros nombres como <strong>relacionales</strong>, nos <strong>permitirán comparar expresiones</strong>, que pueden ser valores concretos de campos, variables, etc.</p>
<p>Los operadores de comparación son símbolos que se usan como su nombre indica para comparar dos valores. Si el resultado de la comparación es correcto la expresión considerada es verdadera, en caso contrario es falsa.</p>
<p>Tenemos los siguientes operadores y su operación:</p>
<div style="clear: both;"> </div>
<p> </p>
<table class="tabla" summary="En esta tabla se muestran, a dos columnas, los operadores de comparación más comunes y su significado o utilidad."><caption>Operadores y su significado.</caption>
<thead>
<tr><th scope="col">OPERADOR</th><th scope="col">SIGNIFICADO</th></tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>Igualdad.</td>
</tr>
<tr>
<td>!=, &lt; &gt;, ^= </td>
<td>Desigualdad. (En el caso de MySQL, sólo != y &lt; &gt;)</td>
</tr>
<tr>
<td>&lt;</td>
<td>Menor que.</td>
</tr>
<tr>
<td>&gt;</td>
<td>Mayor que.</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Menor o igual que.</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Mayor o igual que.</td>
</tr>
<tr>
<td>IN &lt;br /&gt;</td>
<td>Igual que cualquiera de los miembros entre paréntesis.   IN (miembro1, miembro2,...)</td>
</tr>
<tr>
<td>NOT IN &lt;code&gt;<br></td>
<td>Distinto que cualquiera de los miembros entre paréntesis. NOT IN &lt;code&gt;(miembro1, miembro2,...)</td>
</tr>
<tr>
<td>BETWEEN &lt;br /&gt;</td>
<td>Entre. Contenido dentro del rango, incluidos valorMin y valorMax.    B<code>ETWEEN valorMin AND valorMax</code></td>
</tr>
<tr>
<td>NOT BETWEEN</td>
<td>Fuera del rango.   NOT B<code>ETWEEN valorMin AND valorMax</code></td>
</tr>
<tr>
<td>LIKE '_abc%'</td>
<td>Se utiliza sobre todo con textos y permite obtener columnas cuyo valor en un campo cumpla una condición textual. Utiliza una cadena que puede contener los símbolos "%" que sustituye a un conjunto de caracteres o "_" que sustituye a un carácter.</td>
</tr>
<tr>
<td>IS NULL</td>
<td>Devuelve verdadero si el valor del campo de la fila que examina es nulo.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id26">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id26-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta26_70" class="block iDevice_content">
<p>
El valor NULL significaba valor inexistente o desconocido y por tanto es tratado de forma distinta a otros valores. Si queremos verificar que un valor es NULL no serán validos los operadores que acabamos de ver. Debemos utilizar los valores IS NULL como se indica en la tabla o IS NOT NULL que devolverá verdadero si el valor del campo de la fila no es nulo. 
</p>
<p>
Además, cuando se utiliza un ORDER BY, los valores NULL se presentarán en primer lugar si se emplea el modo ascendente y al final si se usa el descendente.
</p>

</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id28">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id28-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta28_73" class="block iDevice_content">
<p><strong class="destacado">Oracle</strong></p>
<p>Si queremos obtener el nombre completo de los ponentes cuyo código comienza por ESP ordenados alfabéticamente por el primer apellido sería:</p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 40.65em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1, apellido2 FROM PONENTE WHERE codigo LIKE&lt;br /&gt;'ESP%' ORDER BY apellido1;&lt;br /&gt; 
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id93">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id93-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta93_69" class="block iDevice_content">
<p><strong class="destacado">MySQL</strong></p>
<p>Si queremos obtener aquellos empleados cuyo salario es superior a 1000€ podemos crear la siguiente consulta:</p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 40.65em;">
<div class="texto_izquierda">
<pre>SELECT nombre, salario &lt;br /&gt;FROM empleado &lt;br /&gt;WHERE salario &gt; 1000;
</pre>
<pre>&lt;br /&gt;/*Ahora queremos aquellos empleados cuyo nombre comienza por A y &lt;br /&gt;su sueldo es mayor de 1000€ y&lt;br /&gt;ordenados por salario*/
</pre>
<pre>&lt;br /&gt;SELECT nombre, salario &lt;br /&gt;FROM empleado &lt;br /&gt;WHERE &lt;code&gt;salario &gt; 1000  AND nombre LIKE 'A%'<br>ORDER BY salario; 
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id29">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id29-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta29_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b29" class="block iDevice_content">
<p><strong class="destacado">Oracle</strong></p>
<p>Utilizando las tablas y datos  descargados anteriormente, vamos a realizar una consulta donde obtengamos el tema y la fecha de las conferencias que tengan turno de tarde y se celebren en la sala Apolo o Zeus</p>
</div>
<form name="feedback-form-quesFeedback0b29" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b29text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b29" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b29" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 61em;">
<div class="texto_izquierda">
<pre>SELECT tema, fecha FROM CONFERENCIA WHERE turno='T' AND (sala IN ('Apolo', 'Zeus')); 
</pre>
</div>
</div></div>
</form>
<div id="taquesQuestion1b29" class="block iDevice_content">
<p><strong class="destacado">MySQL</strong></p>
<p>Utilizando las tablas y datos de la empresa <strong>Proyectosx</strong> descargados anteriormente, vamos a realizar:</p>
<p>a) Una consulta donde obtengamos los departamentos de Sevilla o Cádiz.</p>
<p>b) Una consulta para buscar todos los empleados cuyo código tiene como primera letra cualquiera, luego el número 1 y después cualquier conjunto de caracteres.</p>
</div>
<form name="feedback-form-quesFeedback1b29" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b29text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b29" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b29" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div id="taquesFeedback0b29" class="block iDevice_content">
<div class="codigo elemento_centrado" style="width: 61em;">
<div class="texto_izquierda">
<pre>/* a) Una consulta donde obtengamos los departamentos de Sevilla o Cádiz.*/&lt;br /&gt;SELECT cddep, nombre, ciudad &lt;br /&gt;FROM departamento
</pre>
<pre>WHERE ciudad IN ('SEVILLA', 'CÁDIZ');</pre>
</div>
</div>
</div>
<p>&nbsp;</p>
<pre>Fíjate que buscará aquellas ciudades que coincidan textualmente con las que ponemos entre comillas, que pueden ser simples o dobles.&lt;br /&gt;Esa sentencia es equivalente a escribirla con el operador OR:&lt;br /&gt;&lt;br /&gt;</pre>
<div id="taquesFeedback0b29" class="block iDevice_content">
<div class="codigo elemento_centrado" style="width: 61em;">
<div class="texto_izquierda">
<pre>/*a) Una consulta donde obtengamos los departamentos de Sevilla o Cádiz. */&lt;br /&gt;SELECT cddep, nombre, ciudad &lt;br /&gt;FROM departamento
</pre>
<pre>WHERE ciudad = 'SEVILLA' OR ciudad = 'CÁDIZ';</pre>
</div>
</div>
</div>
<pre>&lt;br /&gt;NOTA: en Bases de Datos, para este tipo de comparaciones, en vez de utilizar el operador OR, se utiliza mejor el operador IN ().&lt;br /&gt;&lt;br /&gt;</pre>
<div class="codigo elemento_centrado" style="width: 26.35em;">
<div class="texto_izquierda">
<pre>/*b) Una consulta para buscar todos los empleados cuyo código &lt;br /&gt;tiene como primera letra cualquiera, luego el número 1 &lt;br /&gt;y después cualquier conjunto de caracteres.*/&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;SELECT nombre, cdemp
</pre>
<pre>FROM empleado&lt;br /&gt;WHERE cdemp LIKE '_1%'; 
</pre>
</div>
</div>
<pre>&nbsp;</pre></div>
</form>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id30">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id30-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta30_47" class="block iDevice_content">
<p>Puedes ver más operadores que se utilizan en MySQL en el siguiente enlace:</p>
<p style="text-align: center;"><a title="Acceder a un enlace sobre operadores de comparación en MySQL." href="http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html">Operadores de comparación en MySQL.</a></p>
<p>Los operadores para trabajar con cadenas que se utilizan en MySQL puedes verlos en el siguiente enlace.</p>
<p style="text-align: center;"><a title="Acceder a un enlace sobre operadores de cadenas en MySQL." href="http://www.aulafacil.com/mysql/curso/Lecc-18.htm">Operadores con cadenas en MySQL.</a></p>
<p>Para realizar búsqueda de patrones de caracteres se puede utilizar lo que se denominan Expresiones Regulares o REGEXP. en esta caso, se pueden plantear búsquedas más concretas y complejas. En el siguiente enlace, dispones de ejemplos de uso de expresiones REGEX en MySQL:</p>
<p style="text-align: center;"><a title="Acceder a web con expresiones regulares" href="http://mysql.conclase.net/curso/?cap=regulares">Ejemplos de expresiones regulares en MySQL</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.2.- Operadores aritméticos y de concatenación.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id31">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id31-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta31_73" class="block iDevice_content">
<p>Aprendimos que los operadores son símbolos que permiten realizar distintos tipos de operaciones. Los operadores aritméticos permiten realizar cálculos con valores numéricos. Son los siguientes:</p>
<table class="tabla" summary="En la siguiente tabla se muestran, en dos columnas, los operadores aritméticos de uso generalizado y su significado."><caption>Operadores aritméticos y su significado.</caption>
<thead>
<tr><th scope="col">OPERADOR</th><th scope="col">SIGNIFICADO</th></tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>Suma</td>
</tr>
<tr>
<td>-</td>
<td>Resta</td>
</tr>
<tr>
<td>*</td>
<td>Multiplicación</td>
</tr>
<tr>
<td>/</td>
<td>División</td>
</tr>
</tbody>
</table>
<p><img alt="Unas manos utilizando una calculadora como descripción de los operadores aritméticos del apartado." class="elemento_derecha" src="./recopila_files/BU004823.png" style="width: 160px; height: 160px;" title="Operaciones aritméticas." height="160" width="160">Utilizando expresiones con operadores <strong>es posible obtener</strong> salidas en las cuales <strong>una columna sea el resultado de un cálculo</strong> y no un campo de una tabla.</p>
<p><strong class="destacado">Oracle</strong></p>
<p>Mira este ejemplo sobre la tabla  CONFERENCIA en el que obtenemos el precio de la conferencia  aumentado en un 5 <abbr title="Tanto por ciento.">%</abbr> de aquellas conferencias cuyo precio sea menor a 15 <abbr title="Euros.">€</abbr>:</p>
<div class="codigo elemento_centrado" style="width: 18.65em;">
<div class="texto_izquierda">
<pre>SELECT precio*1,05
</pre>
<pre>FROM CONFERENCIA
</pre>
<pre>WHERE precio&lt;15;
</pre>
</div>
</div>
<p><strong class="destacado">MySQL</strong></p>
<p>Mira este ejemplo sobre una tabla TRABAJADORES en el que obtenemos el salario aumentado en un 5 <abbr title="Tanto por ciento.">%</abbr> de aquellos trabajadores que cobran menos de 2000 <abbr title="Euros.">€</abbr>:</p>
<div class="codigo elemento_centrado" style="width: 18.65em;">
<div class="texto_izquierda">
<pre>SELECT salario*1.05
</pre>
<pre>FROM empleado
</pre>
<pre>WHERE salario&lt;=2000;
</pre>
</div>
</div>
<p> </p>
<p>Cuando una expresión aritmética se calcula sobre valores NULL, el resultado es el propio valor NULL.</p>
<p> </p>
<p>En Oracle, para<a class="glosario" href="./recopila_files/saved_resource"> concatenar<span><em>Concatenar</em>Unir, enlazar, relacionar una cosa con otra.</span></a> cadenas de caracteres existe el operador de concatenación (" | | "). Oracle puede convertir automáticamente valores numéricos a cadenas para una concatenación.</p>
<p>En MySQL se utilza la función CONCAT(cadena1, cadena2, ...)</p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>En la tabla PONENTE tenemos separados en dos campos el primer y segundo apellido de los ponentes, si necesitáramos mostrarlos juntos podríamos crear la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 26.35em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1 || apellido2
</pre>
<pre>FROM PONENTE; 
</pre>
</div>
</div>
<p>Si queremos dejar un espacio entre un apellido y otro, debemos concatenar también el espacio en blanco de la siguiente manera:</p>
<div class="codigo elemento_centrado" style="width: 29.65em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1 || ' ' ||apellido2
</pre>
<pre>FROM PONENTE; 
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id94">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id94-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta94_69" class="block iDevice_content">
<p>&nbsp;</p>
<p><strong class="destacado">MySQL</strong></p>
<p>Para obtener en una sola columna el código de empleado y su nombre, separados ambos por un espacio en blanco, utilizamos la función CONCAT() de la siguiente forma:</p>
<div class="codigo elemento_centrado" style="width: 24.150000000000002em;">
<div class="texto_izquierda">
<pre>SELECT CONCAT(cdemp, " ", nombre)</pre>
<pre>FROM empleado;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id32">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id32-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta32_47" class="block iDevice_content">
<p>Los operadores que se utilizan en MySQL puedes verlos en el siguiente enlace:</p>
<div class="elemento_centrado">
<p><a title="Acceder a un enlace sobre operadores aritméticos en MySQL." href="http://dev.mysql.com/doc/refman/5.0/en/arithmetic-functions.html">Operadores aritméticos en MySQL.</a></p>
<p><a title="acceder a web de función concat() de MySQL" href="http://www.solingest.com/blog/la-funcion-concat-en-mysql">La función de concatenación CONCAT( ) de MySQL</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.3.- Operadores lógicos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id33">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id33-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta33_73" class="block iDevice_content">
<p>Habrá ocasiones en las que tengas que evaluar más de una expresión y necesites verificar que se cumple una única condición, otras veces comprobar si se cumple una u otra o ninguna de ellas. Para poder hacer esto utilizaremos los operadores lógicos.</p>
<p>Tenemos los siguientes:</p>
<table class="tabla" summary="En la siguiente tabla, a dos columnas, se muestran los operadores lógicos de uso generalizado y su significado. "><caption>Operadores lógicos y su significado.</caption>
<thead>
<tr><th scope="col">OPERADOR</th><th scope="col">SIGNIFICADO</th></tr>
</thead>
<tbody>
<tr>
<td>AND</td>
<td>Devuelve verdadero si sus expresiones a derecha e izquierda son ambas verdaderas.</td>
</tr>
<tr>
<td>OR</td>
<td>Devuelve verdadero si alguna de sus expresiones a derecha o izquierda son verdaderas.</td>
</tr>
<tr>
<td>NOT</td>
<td>Invierte la lógica de la expresión que le precede, si la expresión es verdadera devuelve falsa y si es falsa devuelve verdadera.</td>
</tr>
</tbody>
</table>
<p> </p>
<p><img alt="Señal de tráfico con una Ygriega que identifica uno de los operadores lógicos." class="elemento_derecha" src="./recopila_files/TR004214.png" style="width: 132px; height: 200px;" title="Operador lógico." height="200" width="132"> Fíjate en los siguientes ejemplos:</p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Si queremos obtener aquellas salas cuya capacidad esté entre 100 y 300 personas seria:</p>
<div class="codigo elemento_centrado" style="width: 28em;">
<div class="texto_izquierda">
<pre>SELECT nombre, capacidad
</pre>
<pre>FROM SALA 
</pre>
<pre>WHERE capacidad&gt;=100 AND capacidad&lt;=300; 
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id95">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id95-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta95_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Si queremos obtener aquellos empleados en cuyo salario sea menor o igual a 2000<abbr title="Euros.">€</abbr> o superior a 2500€:</p>
<div class="codigo elemento_centrado" style="width: 28em;">
<div class="texto_izquierda">
<pre>SELECT nombre, salario
</pre>
<pre>FROM empleado
</pre>
<pre>WHERE salario &lt;=2000 OR salario&gt;2500; 
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id34">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id34-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta34_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b34" class="block iDevice_content">
<p><strong class="destacado">Oracle</strong></p>
<p>Utilizando las tablas y datos descargados anteriormente, vamos a realizar una consulta donde obtengamos el primer apellido y el nombre de todos los asistentes que no trabajan en "BK Programación"</p>
</div>
<form name="feedback-form-quesFeedback0b34" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b34text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b34" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b34" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 27.45em;">
<div class="texto_izquierda">
<pre>SELECT apellido1, nombre FROM ASISTENTE WHERE&lt;br /&gt;empresa is NULL or empresa NOT IN &lt;br /&gt;('BK Programación');&lt;br /&gt; 
</pre>
</div>
</div></div>
</form>
<div id="taquesQuestion1b34" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Utilizando las tablas y datos de la empresa Proyectosx descargados anteriormente, vamos a realizar una consulta donde obtengamos todos los nombres de departamentos menos los de 'Sevilla' o 'Granada'.</p>
</div>
<form name="feedback-form-quesFeedback1b34" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b34text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b34" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b34" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div id="taquesFeedback0b34" class="block iDevice_content">
<div class="codigo elemento_centrado" style="width: 27.45em;">
<div class="texto_izquierda">
<pre>SELECT nombre, ciudad
</pre>
<pre>FROM departamento
</pre>
<pre>WHERE ciudad NOT IN ('Sevilla', 'Granada'); 
</pre>
</div>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">3.4.- Precedencia.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id35">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id35-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta35_73" class="block iDevice_content">
<p><img alt="Lápices formando un gráfico que desciende." class="elemento_derecha" src="./recopila_files/025.png" style="width: 128px; height: 200px;" title="De mayor a menor." height="200" width="128">Con frecuencia utilizaremos la sentencia SELECT acompañada de expresiones muy extensas y resultará difícil saber que parte de dicha expresión se evaluará primero, por ello es conveniente conocer el orden de precedencia que tiene Oracle:</p>
<ol>
<li>Se evalúa la multiplicación (*) y la división (/) al mismo nivel.</li>
<li>A continuación sumas (+) y restas (-).</li>
<li>Concatenación (| |). (<strong>en el caso de Oracle</strong>)</li>
<li>Todas las comparaciones (&lt;, &gt;, …).</li>
<li>Después evaluaremos los operadores IS NULL, IN NOT NULL, LIKE, BETWEEN.</li>
<li>NOT.</li>
<li>AND.</li>
<li>OR.</li>
</ol>
<p>Si quisiéramos variar este orden necesitaríamos utilizar paréntesis.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id36">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id36-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-36_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion36_60" class="block question iDevice_content">
<p><strong>En la siguiente consulta:</strong></p>
<div class="codigo elemento_centrado" style="width: 21.95em;">
<div class="texto_izquierda">
<pre>SELECT APELLIDO1
</pre>
<pre><code>FROM ASISTENTE</code>
</pre>
<pre>WHERE APELLIDO1 LIKE 'A%S%'; 
</pre>
</div>
</div>
<p><strong>¿Qué estaríamos seleccionando?</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_63">Opción 1</a></label><input type="radio" name="option36_60" id="i36_63" class="exe-radio-option exe-radio-option-0-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_63"><a name="answer-36_63" href="./recopila_files/saved_resource"></a>
<div id="taans36_63" class="block iDevice_content">
<p>Aquellos asistentes cuyo apellido1 contiene la letra A y la S.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_90" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_90">Opción 2</a></label><input type="radio" name="option36_60" id="i36_90" class="exe-radio-option exe-radio-option-1-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_90"><a name="answer-36_90" href="./recopila_files/saved_resource"></a>
<div id="taans36_90" class="block iDevice_content">
<p>Aquellos asistentes cuyo apellido1 comienza por la letra A y contienen la letra S.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_93" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_93">Opción 3</a></label><input type="radio" name="option36_60" id="i36_93" class="exe-radio-option exe-radio-option-2-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_93"><a name="answer-36_93" href="./recopila_files/saved_resource"></a>
<div id="taans36_93" class="block iDevice_content">
<p>Aquellos asistentes cuyo apellido1 no contiene ni la letra A ni la S.</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i36_96" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_96">Opción 4</a></label><input type="radio" name="option36_60" id="i36_96" class="exe-radio-option exe-radio-option-3-4-36_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-36_96"><a name="answer-36_96" href="./recopila_files/saved_resource"></a>
<div id="taans36_96" class="block iDevice_content">
<p>Todos los apellidos de todos los asistentes menos los que su apellido1 comienza por S.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b36_60" class="feedback js-hidden"><a name="sa0b36_60" href="./recopila_files/saved_resource"></a>
<div id="taf36_63" class=" iDevice_content">
<p>No, pues queremos que la A tenga una posición concreta.</p>
</div>
</div>
<div id="sa1b36_60" class="feedback js-hidden"><a name="sa1b36_60" href="./recopila_files/saved_resource"></a>
<div id="taf36_90" class=" iDevice_content">
<p>El operador LIKE es unos de los operadores de comparación más utilizados.</p>
</div>
</div>
<div id="sa2b36_60" class="feedback js-hidden"><a name="sa2b36_60" href="./recopila_files/saved_resource"></a>
<div id="taf36_93" class=" iDevice_content">
<p>Todo lo contrario, esas letras son las que estamos buscando.</p>
</div>
</div>
<div id="sa3b36_60" class="feedback js-hidden"><a name="sa3b36_60" href="./recopila_files/saved_resource"></a>
<div id="taf36_96" class=" iDevice_content">
<p>No, creo que no has pensado bien tu respuesta.</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa0b36_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_90">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa1b36_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_93">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa2b36_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-36_96">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa3b36_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id37">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id37-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta37_47" class="block iDevice_content">
<p>Aquí puedes comprobar el orden de precedencia en MySQL:</p>
<div class="elemento_centrado">
<p><a title="Accede a un enlace sobre precedencia en MySQL." href="http://dev.mysql.com/doc/refman/5.0/en/operator-precedence.html">Precedencia en MySQL.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">4.- Consultas calculadas.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id38">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id38-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta38_66" class="block iDevice_content">
<p>
<img alt="Carlos" class="elemento_derecha" height="132" src="./recopila_files/BD04_CONT_R08_CASO_PERSONAJES.jpg" style="width: 192px; height: 132px" title="Carlos" width="192">A la empresa ha llegado <strong>Carlos</strong> que está en fase de prácticas y como anda un poco desubicado ha comenzado su trabajo revisando la teoría y práctica que han dado en clase. No recuerda bien como se creaban campos nuevos a partir de otros ya existentes en la base de datos. Sabe que es algo sencillo pero no quiere meter la pata ya que está ayudando a <strong>Juan </strong>en un proyecto que acaba de entrar.
</p>
<p>
Lo que hará será practicar a partir de una tabla que tenga bastantes campos numéricos de manera que pueda manipular la información sin modificar nada. 
</p>
<p>
En clase trabajaban con la tabla ARTICULOS que tenía, entre otros, los campos Precio y Cantidad. A partir de ellos podría realizar consultas calculadas para obtener el precio con <acronym title="Impuesto sobre el Valor Añadido.">IVA</acronym> incluido, un descuento sobre el precio e incluso aumentar ese precio en un porcentaje concreto. Seguro que se pone al día rápidamente.
</p>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id39">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id39-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta39_73" class="block iDevice_content">
<p>En algunas ocasiones es interesante realizar operaciones con algunos campos para obtener información derivada de éstos. Si tuviéramos un campo Precio, podría interesarnos calcular el precio incluyendo el IVA o si tuviéramos los campos Sueldo y Paga Extra, podríamos necesitar obtener la suma de los dos campos. Estos son dos ejemplos simples pero podemos construir expresiones mucho más complejas. Para ello haremos uso de la creación de campos calculados.</p>
<p>Los operadores aritméticos se pueden utilizar para hacer cálculos en las consultas.</p>
<p>Estos <strong>campos calculados</strong> se obtienen a través de la sentencia SELECT poniendo a continuación la expresión que queramos. Esta consulta <strong>no modificará los valores originales</strong> de las columnas ni de la tabla de la que se está obteniendo dicha consulta, únicamente mostrará una columna nueva con los valores calculados. Por ejemplo:</p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<div class="codigo elemento_centrado" style="width: 25.8em;">
<div class="texto_izquierda">
<pre>SELECT tema, precio, precio + 10
</pre>
<pre><code>FROM CONFERENCIA; </code>
</pre>
</div>
</div>
<p>Con esta consulta hemos creado un campo que tendrá como nombre la expresión utilizada. Podemos ponerle un alias a la columna creada añadiéndolo detrás de la expresión junto con la palabra AS. En nuestro ejemplo quedaría de la siguiente forma:</p>
<div class="codigo elemento_centrado" style="width: 34.6em;">
<div class="texto_izquierda">
<pre>SELECT tema, precio, precio + 10 AS PrecioNuevo
</pre>
<pre><code>FROM CONFERENCIA; </code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id97">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id97-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta97_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 25.8em;">
<div class="texto_izquierda">
<pre>SELECT nombre, salario, salario + 25
</pre>
<pre><code>FROM empleado; </code>
</pre>
</div>
</div>
<p>Con esta consulta hemos creado un campo que tendrá como nombre la expresión utilizada. Podemos ponerle un alias a la columna creada añadiéndolo detrás de la expresión junto con la palabra AS.</p>
<p>En nuestro ejemplo quedaría de la siguiente forma:</p>
<div class="codigo elemento_centrado" style="width: 34.6em;">
<div class="texto_izquierda">
<pre>SELECT nombre, salario, salario + 25 AS SalarioNuevo
</pre>
<pre><code>FROM empleado; </code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id41">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id41-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-41_55">
<form name="multi-select-form-41_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion41_55" class="block question iDevice_content">
<strong>Los campos calculados pueden ir en:</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op41_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-41_58">Opción 1</a></label><input type="checkbox" id="op41_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-41_58"><a name="answer-41_58" href="./recopila_files/saved_resource"></a>
<div id="taans41_58" class="block iDevice_content">
La cláusula SELECT.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-41_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op41_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-41_106">Opción 2</a></label><input type="checkbox" id="op41_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-41_106"><a name="answer-41_106" href="./recopila_files/saved_resource"></a>
<div id="taans41_106" class="block iDevice_content">
La cláusula WHERE.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-41_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op41_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-41_108">Opción 3</a></label><input type="checkbox" id="op41_552" value="False">
</p>
<div class="iDevice_answer-content" id="answer-41_108"><a name="answer-41_108" href="./recopila_files/saved_resource"></a>
<div id="taans41_108" class="block iDevice_content">
La cláusula FROM.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-41_552" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-3-41_55"> 
</p>
</div>
<div id="f41_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback41_55" class="feedback iDevice_content">
Así es, y también podemos añadir un alias a ese campo poniéndolo a continuación.

</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-41_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-41_106" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-41_108" class="wrong">Incorrecto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.- Funciones.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id42">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id42-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta42_66" class="block iDevice_content">
<p><img alt="Dos personas en una sala de reuniones estrechan sus manos." class="elemento_derecha" src="./recopila_files/stk32301bme.png" style="width: 160px; height: 160px;" title="Negociando." height="160" width="160"><strong>Juan</strong> le ha pedido a <strong>Ana</strong> que calcule la edad actual de los asistentes que tienen registrados en la base de datos pues sería interesante realizar estadísticas mensuales sobre los grupos de edad que acceden al sistema y en función de ello obtener algunos resultados interesantes para la empresa. Para realizar el cálculo de la edad tendríamos que echar mano a funciones que nos ayuden con los cálculos. Existen funciones que nos facilitarán la tarea y nos ayudarán a obtener información que de otro modo resultaría complicado.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id43">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id43-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta43_73" class="block iDevice_content">
<p>
¿Has pensado en todas las operaciones que puedes realizar con los datos que guardas en una base de datos? Seguro que son muchísimas. Pues bien, en casi todos los Sistemas Gestores de Base de Datos existen funciones ya creadas que facilitan la creación de consultas más complejas. Dichas funciones varían según el <acronym title="Sistema Gestor de Base de Datos.">SGBD</acronym>, veremos aquí las que utiliza Oracle.
</p>
<p>
Las funciones son realmente operaciones que se realizan sobre los datos y que realizan un determinado cálculo. Para ello necesitan unos datos de entrada llamados parámetros o argumentos y en función de éstos, se realizará el cálculo de la función que se esté utilizando. Normalmente los parámetros se especifican entre paréntesis. 
</p>
<p>
Las funciones se pueden incluir en las cláusulas SELECT, WHERE y ORDER BY.
</p>
<p>
Las funciones se especifican de la siguiente manera:
</p>
<p>
 
</p>
<div class="codigo elemento_centrado" style="width: 30.75em">
<div class="texto_izquierda">
<pre> NombreFunción [(parámetro1, [parámetro2, …)]
</pre>
</div>
</div>
<p>
 
</p>
<p>
Puedes anidar funciones dentro de funciones.
</p>
<p>
Existe una gran variedad para cada tipo de datos:
</p>
<ul class="lista_verificacion">
	<li>numéricas,</li>
	<li>de cadena de caracteres,</li>
	<li>de manejo de fechas,</li>
	<li>de conversión,</li>
	<li>otras</li>
</ul>

</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id44">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id44-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta44_70" class="block iDevice_content">
<p>Oracle proporciona una tabla con la que podemos hacer pruebas, esta tabla se llama Dual y contiene un único campo llamado DUMMY y una sola fila.</p>
<p>MySQL proporciona para pruebas las base de datos de nombre Test. Esta base de datos no contiene ninguna tabla.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id45">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id45-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta45_73" class="block iDevice_content">
<p>En Oracle, podremos utilizar la tabla Dual en algunos de los ejemplos que vamos a ver en los siguientes apartados.</p>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.1.- Funciones numéricas.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id46">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id46-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta46_73" class="block iDevice_content">
<p><img alt="Una mano sobre una calculadora científica realizando operaciones con funciones numéricas." class="elemento_derecha" src="./recopila_files/BSY_064.png" style="width: 200px; height: 132px;" title="Números" height="132" width="200">¿Cómo obtenemos el cuadrado de un número o su valor absoluto? Nos referimos a valores numéricos y por tanto necesitaremos utilizar funciones numéricas.</p>
<p>Para trabajar con campos de tipo número tenemos las siguientes funciones:</p>
<ul class="lista_verificacion">
<li><strong>ABS(n)</strong>
<p>Calcula el<a class="glosario" href="./recopila_files/saved_resource"> valor absoluto <span><em>Valor absoluto</em>O módulo de un número real es su valor numérico sin tener en cuenta su signo, sea este positivo (+) o negativo (-).</span></a>de un número n.</p>
<p><strong class="destacado">Oracle</strong></p>
</li>
</ul>
<p> </p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 29.65em;">
<div class="texto_izquierda">
<pre>SELECT ABS(-17) FROM DUAL; -- Resultado: 17
</pre>
</div>
</div>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 24.150000000000002em;">
<div class="texto_izquierda">
<pre>SELECT ABS(-17); -- Resultado: 17</pre>
</div>
</div>
<p> </p>
<p class="destacado">Observa que con MySQL no es necesario utilizar ninguna tabla. Basta con hacer la SELECT a la función. El resto de ejemplos expuestos funcionan igual. En MySQL los puedes probar sin poner la tabla DUAL.</p>
<p> </p>
<p> </p>
<ul class="lista_verificacion">
<li><strong>EXP(n)</strong>
<p>Calcula en<a class="glosario" href="./recopila_files/saved_resource">,<span><em>en</em>También conocida como función exponencial, formalmente como la función real ex, donde e es el número de Euler, aproximadamente 2.71828.... Esta función tiene por dominio de definición el conjunto de los números reales, y tiene la particularidad de que su derivada es la misma función. Se denota equivalentemente como f(x)=ex o exp(x), donde e es la base de los logaritmos naturales y corresponde a la función inversa del logaritmo natural.</span></a> es decir, el exponente en base e del número n.</p>
<p>Ejemplo: </p>
<div class="codigo elemento_centrado" style="width: 29.65em;">
<div class="texto_izquierda">
<pre>SELECT EXP(2) FROM DUAL; -- Resultado: 7,38</pre>
</div>
</div>
</li>
<li>CEIL(n)
<p>Calcula el valor entero inmediatamente superior o igual al argumento n.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 30.75em;">
<div class="texto_izquierda">
<pre>SELECT CEIL(17.4) FROM DUAL; -- Resultado: 18</pre>
</div>
</div>
</li>
<li>FLOOR(n)
<p>Calcula el valor entero inmediatamente inferior o igual al parámetro n.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 31.3em;">
<div class="texto_izquierda">
<pre>SELECT FLOOR(17.4) FROM DUAL; -- Resultado: 17</pre>
</div>
</div>
</li>
<li>MOD(m,n)
<p>Calcula el<a class="glosario" href="./recopila_files/saved_resource"> resto<span><em>Resto</em>Es el número resultante de la diferencia del dividendo con el producto del divisor por el cociente.</span></a> resultante de dividir m entre n.</p>
<p>Ejemplo: </p>
<div class="codigo elemento_centrado" style="width: 29.65em;">
<div class="texto_izquierda">
<pre>SELECT MOD(15, 2) FROM DUAL; --Resultado: 1</pre>
</div>
</div>
</li>
<li>POWER(valor, exponente)
<p>Eleva el valor al exponente indicado.</p>
<p>Ejemplo: </p>
<div class="codigo elemento_centrado" style="width: 32.4em;">
<div class="texto_izquierda">
<pre>SELECT POWER(4, 5) FROM DUAL; -- Resultado: 1024</pre>
</div>
</div>
</li>
<li>ROUND(n, decimales)
<p>Redondea el número n al siguiente número con el número de decimales que se indican.</p>
<p>Ejemplo: </p>
<div class="codigo elemento_centrado" style="width: 36.25em;">
<div class="texto_izquierda">
<pre>SELECT ROUND(12.5874, 2) FROM DUAL; -- Resultado: 12.59</pre>
</div>
</div>
</li>
<li>SQRT(n)
<p>Calcula la raíz cuadrada de n.</p>
<p>Ejemplo: </p>
<div class="codigo elemento_centrado" style="width: 28.55em;">
<div class="texto_izquierda">
<pre>SELECT SQRT(25) FROM DUAL; --Resultado: 5</pre>
</div>
</div>
</li>
<li>TRUNC(m,n)
<p><a class="glosario" href="./recopila_files/saved_resource">Trunca<span><em>Truncar</em>Es el término usado para reducir el número de dígitos a la derecha del separador decimal, descartando los menos significativos.</span></a> un número a la cantidad de decimales especificada por el segundo argumento. Si se omite el segundo argumento, se truncan todos los decimales. Si "n" es negativo, el número es truncado desde la parte entera.</p>
<p>Ejemplos:</p>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT TRUNC(127.4567, 2) FROM DUAL; -- Resultado: 127.45</pre>
</div>
</div>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT TRUNC(4572.5678, -2) FROM DUAL; -- Resultado: 4500</pre>
</div>
</div>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT TRUNC(4572.5678, -1) FROM DUAL; -- Resultado: 4570</pre>
</div>
</div>
<div class="codigo elemento_centrado" style="width: 35.15em;">
<div class="texto_izquierda">
<pre>SELECT TRUNC(4572.5678) FROM DUAL; -- Resultado: 4572</pre>
</div>
</div>
</li>
<li>SIGN(n)
<p>Si el argumento "n"es un valor positivo, retorna 1, si es negativo, devuelve -1 y 0 si es 0.</p>
<div class="codigo elemento_centrado" style="width: 29.65em;">
<div class="texto_izquierda">
<pre>SELECT SIGN(-23) FROM DUAL; – Resultado: -1</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id47">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id47-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta47_47" class="block iDevice_content">
<p>Aquí encontrarás las funciones que has visto y algunas más.</p>
<div class="elemento_centrado">
<p><a title="Web en la que se muestran funciones numéricas y su uso." href="http://sites.google.com/site/josepando/home/funciones-sql/funciones-que-devuelven-una-valor-nico-para-cada-fila-de-una-consulta-o-vista/funciones-numricas">Más funciones numéricas en Oracle.</a>&nbsp;</p>
<p><a title="Acceder a Web en la que se muestran funciones numéricas y su uso." href="http://mysql.conclase.net/curso/?cap=011">Más funciones numéricas y de otros tipos en MySQL.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.2.- Funciones de cadena de caracteres.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id48">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id48-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta48_73" class="block iDevice_content">
<p><img alt="Cadena que representa las cadenas de caracteres." class="elemento_derecha" src="./recopila_files/BSY_072.png" style="width: 156px; height: 200px;" title="Cadenas." height="200" width="156">Ya verás como es muy común manipular campos de tipo carácter o cadena de caracteres. Como resultado podremos obtener caracteres o números. Estas son las funciones más habituales:</p>
<p><strong class="destacado">Oracle</strong></p>
<ul class="lista_verificacion">
<li>CHR(n)
<p>Devuelve el carácter cuyo valor codificado es n.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 28em;">
<div class="texto_izquierda">
<pre>SELECT CHR(81) FROM DUAL; --Resultado: Q
</pre>
</div>
</div>
<p> </p>
</li>
<li>ASCII(n)
<p>Devuelve el valor <acronym title="American Standard Code for Information Interchange ">ASCII</acronym> de n.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 30.2em;">
<div class="texto_izquierda">
<pre>SELECT ASCII('O') FROM DUAL; --Resultado: 79
</pre>
</div>
</div>
<p> </p>
</li>
<li>CONCAT(cad1, cad2)
<p>Devuelve las dos cadenas unidas. Es equivalente al operador ||</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 41.2em;">
<div class="texto_izquierda">
<pre>SELECT CONCAT('Hola', 'Mundo') FROM DUAL; --Resultado: HolaMundo
</pre>
</div>
</div>
<p> </p>
</li>
<li>LOWER(cad)
<p>Devuelve la cadena cad con todos sus caracteres en minúsculas.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 42.85em;">
<div class="texto_izquierda">
<pre>SELECT LOWER('En MInúsculAS') FROM DUAL; --Resultado: en minúsculas
</pre>
</div>
</div>
<p> </p>
</li>
<li>UPPER(cad)
<p>Devuelve la cadena cad con todos sus caracteres en mayúsculas.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 42.85em;">
<div class="texto_izquierda">
<pre>SELECT UPPER('En MAyúsculAS') FROM DUAL; --Resultado: EN MAYÚSCULAS
</pre>
</div>
</div>
<p> </p>
</li>
<li>INITCAP(cad)
<p>Devuelve la cadena cad con su primer carácter en mayúscula.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 34.05em;">
<div class="texto_izquierda">
<pre>SELECT INITCAP('hola') FROM DUAL; --Resultado: Hola
</pre>
</div>
</div>
<p> </p>
</li>
<li>LPAD(cad1, n, cad2)
<p>Devuelve cad1 con longitud n, ajustada a la derecha, rellenando por la izquierda con cad2.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre>SELECT LPAD('M', 5, '*') FROM DUAL; --Resultado: ****M
</pre>
</div>
</div>
<p> </p>
</li>
<li>RPAD(cad1, n, cad2)
<p>Devuelve cad1 con longitud n, ajustada a la izquierda, rellenando por la derecha con cad2.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre>SELECT RPAD('M', 5, '*') FROM DUAL; --Resultado: M****
</pre>
</div>
</div>
<p> </p>
</li>
<li>REPLACE(cad, ant, nue)
<p>Devuelve cad en la que cada ocurrencia de la cadena ant ha sido sustituida por la cadena nue.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 53.85em;">
<div class="texto_izquierda">
<pre>SELECT REPLACE('correo@gmail.es', 'es', 'com') FROM DUAL; --Resultado: correo@gmail.com
</pre>
</div>
</div>
<p> </p>
</li>
<li>SUBSTR(cad, m, n)
<p>Devuelve la cadena cad compuesta por n caracteres a partir de la posición m.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT SUBSTR('1234567', 3, 2) FROM DUAL; --Resultado: 34
</pre>
</div>
</div>
<p> </p>
</li>
<li>LENGTH(cad)
<p>Devuelve la longitud de cad.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 31.85em;">
<div class="texto_izquierda">
<pre>SELECT LENGTH('hola') FROM DUAL; --Resultado: 4
</pre>
</div>
</div>
<p> </p>
</li>
<li>TRIM(cad)
<p>Elimina los espacios en blanco a la izquierda y la derecha de cad y los espacios dobles del interior.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 43.4em;">
<div class="texto_izquierda">
<pre>SELECT TRIM(' Hola de nuevo ') FROM DUAL; --Resultado: Hola de nuevo
</pre>
</div>
</div>
<p> </p>
</li>
<li>LTRIM(cad)
<p>Elimina los espacios a la izquierda que posea cad.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 33.5em;">
<div class="texto_izquierda">
<pre>SELECT LTRIM(' Hola') FROM DUAL; --Resultado: Hola
</pre>
</div>
</div>
<p> </p>
</li>
<li>RTRIM(cad)
<p>Elimina los espacios a la derecha que posea cad.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 33.5em;">
<div class="texto_izquierda">
<pre>SELECT RTRIM('Hola ') FROM DUAL; --Resultado: Hola
</pre>
</div>
</div>
<p> </p>
</li>
<li>INSTR(cad, cadBuscada [, posInicial [, nAparición]])
<p>Obtiene la posición en la que se encuentra la cadena buscada en la cadena inicial cad. Se puede comenzar a buscar desde una posición inicial concreta e incluso indicar el número de aparición de la cadena buscada. Si no encuentra nada devuelve cero.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 39.55em;">
<div class="texto_izquierda">
<pre>SELECT INSTR('usuarios', 'u') FROM DUAL; --Resultado: 1
</pre>
<pre>SELECT INSTR('usuarios', 'u', 2) FROM DUAL; --Resultado: 3
</pre>
<pre>SELECT INSTR('usuarios', 'u', 2, 2) FROM DUAL; --Resultado: 0
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id49">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id49-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-49_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion49_60" class="block question iDevice_content">
<p><strong>En el caso de Oracle. En la siguiente consulta: SELECT LENGTH("Adiós") FROM DUAL; ¿qué obtendríamos?</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_63">Opción 1</a></label><input type="radio" name="option49_60" id="i49_63" class="exe-radio-option exe-radio-option-0-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_63"><a name="answer-49_63" href="./recopila_files/saved_resource"></a>
<div id="taans49_63" class="block iDevice_content">
<p>5</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_113" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_113">Opción 2</a></label><input type="radio" name="option49_60" id="i49_113" class="exe-radio-option exe-radio-option-1-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_113"><a name="answer-49_113" href="./recopila_files/saved_resource"></a>
<div id="taans49_113" class="block iDevice_content">
<p>4</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_116" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_116">Opción 3</a></label><input type="radio" name="option49_60" id="i49_116" class="exe-radio-option exe-radio-option-2-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_116"><a name="answer-49_116" href="./recopila_files/saved_resource"></a>
<div id="taans49_116" class="block iDevice_content">
<p>6</p>
</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i49_119" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_119">Opción 4</a></label><input type="radio" name="option49_60" id="i49_119" class="exe-radio-option exe-radio-option-3-4-49_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-49_119"><a name="answer-49_119" href="./recopila_files/saved_resource"></a>
<div id="taans49_119" class="block iDevice_content">
<p>Nos devolvería un error.</p>
</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b49_60" class="feedback js-hidden"><a name="sa0b49_60" href="./recopila_files/saved_resource"></a>
<div id="taf49_63" class=" iDevice_content">
<p>Deberías fijarte bien en el contenido de la función.</p>
</div>
</div>
<div id="sa1b49_60" class="feedback js-hidden"><a name="sa1b49_60" href="./recopila_files/saved_resource"></a>
<div id="taf49_113" class=" iDevice_content">
<p>No, fíjate bien en el formato de la función.</p>
</div>
</div>
<div id="sa2b49_60" class="feedback js-hidden"><a name="sa2b49_60" href="./recopila_files/saved_resource"></a>
<div id="taf49_116" class=" iDevice_content">
<p>No, inténtalo de nuevo.</p>
</div>
</div>
<div id="sa3b49_60" class="feedback js-hidden"><a name="sa3b49_60" href="./recopila_files/saved_resource"></a>
<div id="taf49_119" class=" iDevice_content">
<p>Cierto, las cadenas van con comillas simples.</p>
</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa0b49_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_113">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa1b49_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_116">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa2b49_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-49_119">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa3b49_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id98">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id98-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta98_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<p>Las funciones más habituales:</p>
<ul class="lista_verificacion">
<li>ASCII(n)
<p>Devuelve el valor <acronym title="American Standard Code for Information Interchange ">ASCII</acronym> de n.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 30.2em;">
<div class="texto_izquierda">
<pre>SELECT ASCII('O'); --Resultado: 79</pre>
</div>
</div>
</li>
<li>CONCAT(cad1, cad2)
<p>Devuelve las dos cadenas unidas.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 41.2em;">
<div class="texto_izquierda">
<pre>SELECT CONCAT('Hola', 'Mundo'); --Resultado: HolaMundo</pre>
</div>
</div>
</li>
<li>LOWER(cad)
<p>Devuelve la cadena cad con todos sus caracteres en minúsculas.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 42.85em;">
<div class="texto_izquierda">
<pre>SELECT LOWER('En MInúsculAS'); --Resultado: en minúsculas</pre>
</div>
</div>
</li>
<li>UPPER(cad)
<p>Devuelve la cadena cad con todos sus caracteres en mayúsculas.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 42.85em;">
<div class="texto_izquierda">
<pre>SELECT UPPER('En MAyúsculAS'); --Resultado: EN MAYÚSCULAS</pre>
</div>
</div>
</li>
<li><strong>INSTR(cadena,subcadena)</strong><br>
<p>Devuelve la posición de la primera ocurrencia de la subcadena  dentro de la cadena.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 34.05em;">
<div class="texto_izquierda">
<pre>SELECT INSTR('Hola', 'ol') -- Devuelve 2<code></code></pre>
</div>
</div>
</li>
<li>RPAD(cad1, n, cad2)
<p>Devuelve cad1 con longitud n, ajustada a la izquierda, rellenando por la derecha con cad2.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre>SELECT RPAD('M', 5, '*'); --Resultado: M****</pre>
</div>
</div>
</li>
<li>REPLACE(cad, ant, nue)
<p>Devuelve cad en la que cada ocurrencia de la cadena ant ha sido sustituida por la cadena nue.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 53.85em;">
<div class="texto_izquierda">
<pre>SELECT REPLACE('correo@gmail.es', 'es', 'com'); --Resultado: correo@gmail.com</pre>
</div>
</div>
</li>
<li>SUBSTR(cad, m, n)
<p>Devuelve la cadena cad compuesta por n caracteres a partir de la posición m.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT SUBSTR('1234567', 3, 2); --Resultado: 34</pre>
</div>
</div>
</li>
<li>LENGTH(cad)
<p>Devuelve la longitud de cad.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 31.85em;">
<div class="texto_izquierda">
<pre>SELECT LENGTH('hola'); --Resultado: 4</pre>
</div>
</div>
</li>
<li>TRIM(cad)
<p>Elimina los espacios en blanco a la izquierda y la derecha de cad y los espacios dobles del interior.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 43.4em;">
<div class="texto_izquierda">
<pre>SELECT TRIM(' Hola de nuevo '); --Resultado: Hola de nuevo</pre>
</div>
</div>
</li>
<li>LTRIM(cad)
<p>Elimina los espacios a la izquierda que posea cad.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 33.5em;">
<div class="texto_izquierda">
<pre>SELECT LTRIM(' Hola'); --Resultado: Hola</pre>
</div>
</div>
</li>
<li>RTRIM(cad)
<p>Elimina los espacios a la derecha que posea cad.</p>
<p>Ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 33.5em;">
<div class="texto_izquierda">
<pre>SELECT RTRIM('Hola '); --Resultado: Hola</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.3.- Funciones de manejo de fechas.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id50">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id50-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta50_73" class="block iDevice_content">
<p><img alt="Calendario que representa el manejo de fechas." class="elemento_derecha" src="./recopila_files/BSY_057.png" style="width: 200px; height: 132px;" title="Calendario." height="132" width="200">La fecha de emisión de una factura, de llegada de un avión, de ingreso en una web, podríamos seguir poniendo infinidad de ejemplos, lo que significa que es una información que se requiere en muchas situaciones y es importante guardar.</p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>En los SGBD se utilizan mucho las fechas. Oracle tiene dos tipos de datos para manejar fechas, son DATE y <code>TIMESTAMP.</code></p>
<ul class="lista_verificacion">
<li>DATE almacena <strong>fechas concretas incluyendo a veces la hora.</strong></li>
<li>TIMESTAMP almacena <strong>un instante de tiempo más concreto</strong> que puede incluir hasta fracciones de segundo.</li>
</ul>
<p>Podemos realizar operaciones numéricas con las fechas:</p>
<ul class="lista_verificacion">
<li>Le podemos <strong>sumar números</strong> y esto se entiende como sumarles días, si ese número tiene decimales se suman días, horas, minutos y segundos.</li>
<li>La <strong>diferencia</strong> entre dos fechas también nos dará un número de días.</li>
</ul>
<p>En Oracle tenemos las siguientes funciones más comunes:</p>
<ul class="lista_verificacion">
<li>SYSDATE Devuelve la fecha y hora actuales. Ejemplo: SELECT SYSDATE FROM DUAL; --Resultado: 26/07/11<img alt="Aplicación de la función fecha que da como resultado el día en el que se ejecuta, en el ejemplo, el 26 de julio de 2011." class="elemento_centrado" src="./recopila_files/BD04_CONT_R09_SYSDATE.JPG" style="width: 88px; height: 50px; margin-top: 15px; margin-bottom: 15px;" title="Fecha" height="50" width="88"></li>
<li>SYSTIMESTAMP Devuelve la fecha y hora actuales en formato TIMESTAMP. Ejemplo: SELECT SYSTIMESTAMP FROM DUAL; --Resultado: 26-JUL-11 08.32.59,609000 PM +02:00
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/BD04_CONT_R10_SYSTIMESTAMP.JPG"><img alt="Aplicación en Oracle de la función fecha con hora que da como resultado la fecha y hora en la que se ejecuta." class="imagen_ampliable" src="./recopila_files/BD04_CONT_R10_SYSTIMESTAMP_miniatura.JPG" style="width: 200px; height: 34px;" title="Fecha con hora" height="34" width="200"></a></div>
</div>
</li>
<li>ADD_MONTHS(fecha, n) Añade a la fecha el número de meses indicado con n. Ejemplo: SELECT ADD_MONTHS('27/07/11', 5) FROM DUAL; --Resultado: 27/12/11<img alt="Aplicación de la función que añade a la fecha el número de meses que en este ejemplo es 5." class="elemento_centrado" src="./recopila_files/BD04_CONT_R11_ADDMONTHS.jpg" style="width: 205px; height: 51px;" title="Añadir mes" height="51" width="205"></li>
<li>MONTHS_BETWEEN(fecha1, fecha2) Devuelve el número de meses que hay entre fecha1 y fecha2. Ejemplo: SELECT MONTHS_BETWEEN('12/07/11','12/03/11') FROM DUAL; --Resultado: 4
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen." href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/BD04_CONT_R12_MONTHSBETWEEN.jpg"><img alt="Aplicación de la función que calcula el número de meses entre dos fechas. En el ejemplo entre las fechas 12 de julio de 2011 y 12 de marzo de 2011." class="imagen_ampliable" src="./recopila_files/BD04_CONT_R12_MONTHSBETWEEN_miniatura.jpg" style="width: 200px; height: 34px;" title="Meses entre fechas." height="34" width="200"></a></div>
</div>
</li>
<li>LAST_DAY(fecha) Devuelve el último día del mes al que pertenece la fecha. El valor devuelto es tipo DATE. Ejemplo: SELECT LAST_DAY('27/07/11') FROM DUAL; --Resultado: 31/07/11<img alt="Aplicación de la función que devuelve el último día del mes al que pertenece la fecha 27 de julio de 2011. Da como resultado otra fecha, 31 de julio de 2011." class="elemento_centrado" src="./recopila_files/BD04_CONT_R13_LASTDAY.jpg" style="width: 164px; height: 49px;" title="Último día." height="49" width="164"></li>
<li>NEXT_DAY(fecha, d) Indica el día que corresponde si añadimos a la fecha el día d. El día devuelto puede ser texto ('Lunes', Martes', ..) o el número del día de la semana (1=lunes, 2=martes, ..) dependiendo de la configuración. Ejemplo: SELECT NEXT_DAY('31/12/11','LUNES') FROM DUAL; --Resultado: 02/01/12<img alt="Aplicación de la función que indica el día que corresponde al siguiente día de la semana indicado después de la fecha que añadimos. En el ejemplo queremos saber que día será el lunes después del 31 de diciembre de 2011. Da como resultado el 2 de enero de 2012." class="elemento_centrado" src="./recopila_files/BD04_CONT_R14_NEXTDAY.jpg" style="width: 215px; height: 53px;" title="Día siguiente." height="53" width="215"></li>
<li>EXTRACT(valor FROM fecha) Extrae un valor de una fecha concreta. El valor puede ser <span lang="en">day, month, year, hours,</span> etc. Ejemplo: SELECT EXTRACT(MONTH FROM SYSDATE) FROM DUAL; --Resultado: 7
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Ampliar imagen" href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/BD04_CONT_R15_EXTRACT.jpg"><img alt="Aplicación de la función que extrae un valor de la fecha que digamos, en este ejemplo queremos extraer el número de mes de la fecha actual. El resultado que se obtiene es el 7 correspondiente a julio." class="imagen_ampliable" src="./recopila_files/BD04_CONT_R15_EXTRACT_miniatura.jpg" style="width: 200px; height: 32px;" title="Extraer valor." height="32" width="200"></a></div>
</div>
</li>
</ul>
<p>En Oracle: Los operadores aritméticos "+" (más) y "-" (menos) pueden emplearse para las fechas. Por ejemplo:</p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 16.45em;">
<div class="texto_izquierda">
<pre>SELECT SYSDATE – 5;
</pre>
</div>
</div>
<p> </p>
<p>Devolvería la fecha correspondiente a 5 días antes de la fecha actual.</p>
<p>Se pueden emplear estas funciones enviando como argumento el nombre de un campo de tipo fecha.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id51">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id51-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-51_55">
<form name="multi-select-form-51_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion51_55" class="block question iDevice_content">
<p>
<strong>¿Cuáles de estas afirmaciones sobre funciones de manejo de fechas son ciertas?</strong>
</p>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_58">Opción 1</a></label><input type="checkbox" id="op51_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-51_58"><a name="answer-51_58" href="./recopila_files/saved_resource"></a>
<div id="taans51_58" class="block iDevice_content">
Existen dos tipos de fechas de datos con las que podemos trabajar, DATE y <code>TIMESTAMP</code>. 

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-51_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_133">Opción 2</a></label><input type="checkbox" id="op51_551" value="False">
</p>
<div class="iDevice_answer-content" id="answer-51_133"><a name="answer-51_133" href="./recopila_files/saved_resource"></a>
<div id="taans51_133" class="block iDevice_content">
Se puede poner como argumento el nombre de un campo de cualquier tipo.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-51_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_135">Opción 3</a></label><input type="checkbox" id="op51_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-51_135"><a name="answer-51_135" href="./recopila_files/saved_resource"></a>
<div id="taans51_135" class="block iDevice_content">
Le podemos sumar o restar números, lo cual se entiende como sumarle o restarle días. 

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-51_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op51_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_137">Opción 4</a></label><input type="checkbox" id="op51_553" value="True">
</p>
<div class="iDevice_answer-content" id="answer-51_137"><a name="answer-51_137" href="./recopila_files/saved_resource"></a>
<div id="taans51_137" class="block iDevice_content">
La diferencia entre dos fechas nos dará un número de días. 

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-51_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-51_55"> 
</p>
</div>
<div id="f51_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback51_55" class="feedback iDevice_content">
Como puedes observar, es muy fácil trabajar con fechas.

</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_133" class="wrong">Incorrecto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_135" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-51_137" class="right">Correcto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id99">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id99-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta99_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<p>En los SGBD se utilizan mucho las fechas. MySQL tiene dos tipos de datos para manejar fechas, son DATE y <code>TIMESTAMP.</code></p>
<ul class="lista_verificacion">
<li>DATE almacena <strong>fechas concretas incluyendo a veces la hora. </strong>En formato yyyy-mm-dd.<strong><br></strong></li>
<li>TIMESTAMP almacena <strong>un instante de tiempo más concreto</strong> que incluye la hora, minutos y segundos, en formato yyyy-mm-dd hh:mm:ss. Utiliza el mismo formato que el tipo DATETIME.</li>
</ul>
<p>Podemos realizar operaciones numéricas con las fechas:</p>
<ul class="lista_verificacion">
<li>Le podemos <strong>sumar números</strong> y esto se entiende como sumarles días.</li>
<li>La <strong>diferencia</strong> entre dos fechas también nos dará un número de días.</li>
</ul>
<p>En MySQL tenemos las siguientes funciones más comunes:</p>
<ul class="lista_verificacion">
<li>CURDATE() O NOW() Devuelve la fecha actual, y la fecha y  hora actual, respectivamente.</li>
</ul>
<p>                         Ejemplo: SELECT CURDATE(); --Resultado: 2014-12-26</p>
<p>                         Ejemplo: SELECT NOW(); -- Resultado: 2014-12-26 10:24:32</p>
<ul class="lista_verificacion">
<li>CURTIME() Devuelve la hora actual.</li>
</ul>
<p>                         Ejemplo: SELECT CURTIME(); --Resultado: 10:24:32</p>
<ul class="lista_verificacion">
<li>CURRENT_TIMESTAMP() Devuelve la fecha y hora actuales en formato DATETIME.</li>
</ul>
<p>                         Ejemplo: SELECT CURRENT_TIMESTAMP(); --Resultado: 2014-12-26 10:24:32</p>
<ul class="lista_verificacion">
<li>ADDDATE(fecha, n) Añade a la fecha el número de días indicado con n.</li>
</ul>
<p>                  Ejemplo: SELECT ADDDATE('2014-11-01', 5); --Resultado: 2014-11-06</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;DATEDIFF(fecha1,fecha2)&lt;/strong&gt; Devuelve el número de días que hay entre fecha1 y fecha2.</li>
</ul>
<p>                Ejemplo SELECT <code><strong>DATEDIFF('2014-04-19','2014-04-2'); -- </strong></code> Devuelve 17.</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;DATE_FORMAT(fecha,formato)&lt;/strong&gt;  Devuelve la fecha formateada según el formato especificado.</li>
</ul>
<p>               Ejemplo: &lt;strong&gt;SELECT DATE_FORMAT&lt;/strong&gt;&lt;strong&gt;('2014-04-19','%d/%m/%Y');&lt;/strong&gt; -- Devuelve 19/04/2014</p>
<p>               Ejemplo: &lt;strong&gt;SELECT DATE_FORMAT&lt;/strong&gt;&lt;strong&gt;('2014-04-19','%d/%m/%y');&lt;/strong&gt; -- Devuelve 19/04/14</p>
<p>(Consultar la documentación de MySQL para ver los formatos posibles).</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;DAY(fecha) &lt;/strong&gt; Devuelve el día del mes de una fecha.  </li>
</ul>
<p>                      Ejemplo: SELECT DAY('2014-12-19'); --Resultado: 19</p>
<ul class="lista_verificacion">
<li>MONTH(fecha)  Devuelve el mes de una fecha.</li>
</ul>
<p>                    Ejemplo: SELECT MONTH('2014-07-20'); --Resultado: 7</p>
<ul class="lista_verificacion">
<li>YEAR(fecha)  Devuelve el año de una fecha.</li>
</ul>
<p>                    Ejemplo: SELECT YEAR('2014-07-20'); --Resultado: 2014</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;DAYNAME(fecha) &lt;/strong&gt; Devuelve el nombre del día de una fecha.  </li>
</ul>
<p>                      Ejemplo: SELECT DAYNAME('2014-12-19'); --Resultado: <span lang="en">Friday</span> &lt;br /&gt;</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;MONTHNAME(fecha) &lt;/strong&gt; Devuelve el nombre del mes de una fecha.  </li>
</ul>
<p>                      Ejemplo: SELECT MONTHNAME('2014-12-19'); --Resultado: <span lang="en">December</span></p>
<p>Se pueden emplear estas funciones enviando como argumento el nombre de un campo o columna de tipo fecha.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper RecomendacionfpdIdevice em_iDevice" id="id100">
<div class="iDevice emphasis_recomendacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_recomendacionfpd.png)"><h2 class="iDeviceTitle">Recomendación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id100-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta100_46" class="block iDevice_content">
<p>En el siguiente enlace tienes más ejemplos de manejo de fechas con MYSQL:</p>
<p style="text-align: center;"><a title="Acceder a Web con ejemplos de funciones de fechas MySQL" href="http://www.yukei.net/2014/10/trabajar-con-fechas-en-mysql/">Trabajar con fechas en MySQL</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id102">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id102-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-102_51">
<form name="multi-select-form-102_51" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion102_51" class="block question iDevice_content">
<p><strong>¿Cuáles de estas afirmaciones sobre funciones de manejo de fechas son ciertas?</strong></p>
</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op102_510" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-102_54">Opción 1</a></label><input type="checkbox" id="op102_510" value="True">
</p>
<div class="iDevice_answer-content" id="answer-102_54"><a name="answer-102_54" href="./recopila_files/saved_resource"></a>
<div id="taans102_54" class="block iDevice_content">
<p> Se pueden restar fechas para obtener el número de días entre ambas.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-102_510" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op102_511" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-102_272">Opción 2</a></label><input type="checkbox" id="op102_511" value="True">
</p>
<div class="iDevice_answer-content" id="answer-102_272"><a name="answer-102_272" href="./recopila_files/saved_resource"></a>
<div id="taans102_272" class="block iDevice_content">
<p>Le podemos sumar o restar números, lo cual se entiende como sumarle o restarle días.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-102_511" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op102_512" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-102_274">Opción 3</a></label><input type="checkbox" id="op102_512" value="True">
</p>
<div class="iDevice_answer-content" id="answer-102_274"><a name="answer-102_274" href="./recopila_files/saved_resource"></a>
<div id="taans102_274" class="block iDevice_content">
<p>Se pueden dar diferentes formatos a las fechas.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-102_512" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-3-102_51"> 
</p>
</div>
<div id="f102_51" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback102_51" class="feedback iDevice_content">
<p>Se puede poner como único argumento el nombre de un campo o columna de cualquier tipo en una función de fecha.</p>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-102_54" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-102_272" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-102_274" class="right">Correcto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id103">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id103-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta103_43" class="block iDevice_content">
<p>En la documentación oficial de MySQL puedes consultar todas las funciones existentes para trabajar con fechas.</p>
<p style="text-align: center;"><a href="https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html" title="Manejo fechas MySQL 8.0">&nbsp;Funciones de fecha y hora en MySQL</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.4.- Funciones de conversión.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id52">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id52-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta52_73" class="block iDevice_content">
<p><img alt="Lapicero con lápices de colores sobre una mesa junto a una taza de café." class="elemento_derecha" src="./recopila_files/BSY_049.png" style="width: 200px; height: 132px;" title="Lapicero." height="132" width="200"> Los <acronym title="Sistema Gestor de Base de Datos">SGBD</acronym> tienen funciones que pueden pasar de un tipo de dato a otro.</p>
<p>Tanto Oracle como MySQL convierten automáticamente datos de manera que el resultado de una expresión tenga sentido. Por tanto, de manera automática se pasa de texto a número y al revés. Ocurre lo mismo para pasar de tipo texto a fecha y viceversa. Pero existen ocasiones en que queramos realizar esas conversiones de modo explícito, para ello contamos con funciones de conversión.</p>
<p><strong class="destacado">Oracle</strong></p>
<ul class="lista_verificacion">
<li>TO_NUMBER(cad, formato) Convierte textos en números. Se suele utilizar para dar un formato concreto a los números. Los formatos que podemos utilizar son los siguientes:</li>
</ul>
<table class="tabla" summary="Tabla en al que se muestran los formatos que podemos utilizar con los números y su significado. "><caption>Formatos para números y su significado.</caption>
<thead>
<tr><th scope="col">Símbolo</th><th scope="col">Significado</th></tr>
</thead>
<tbody>
<tr>
<td>9</td>
<td>Posiciones numéricas. Si el número que se quiere visualizar contiene menos dígitos de los que se especifican en el formato, se rellena con blancos.</td>
</tr>
<tr>
<td>0</td>
<td>Visualiza ceros por la izquierda hasta completar la longitud del formato especificado.</td>
</tr>
<tr>
<td>$</td>
<td>Antepone el signo de dólar al número.</td>
</tr>
<tr>
<td>L</td>
<td>Coloca en la posición donde se incluya, el símbolo de la moneda local (se puede configurar en la base de datos mediante el parámetro NSL_CURRENCY)</td>
</tr>
<tr>
<td>S</td>
<td>Aparecerá el símbolo del signo.</td>
</tr>
<tr>
<td>D</td>
<td>Posición del símbolo decimal, que en español es la coma.</td>
</tr>
<tr>
<td>G</td>
<td>Posición del separador de grupo, que en español es el punto.</td>
</tr>
</tbody>
</table>
<ul class="lista_verificacion">
<li><img alt="Señal de tráfico con una Ygriega que identifica uno de los operadores lógicos." class="elemento_derecha" src="./recopila_files/TR004214.png" style="width: 132px; height: 200px;" title="Operador lógico." height="200" width="132">TO_CHAR(d, formato) Convierte un número o fecha d a cadena de caracteres, se utiliza normalmente para fechas ya que de número a texto se hace de forma implícita como hemos visto antes.</li>
<li>TO_DATE( cad, formato) Convierte textos a fechas. Podemos indicar el formato con el que queremos que aparezca.</li>
</ul>
<p>Para las funciones TO_CHAR y <code>TO_DATE</code>, en el caso de fechas, indicamos el formato incluyendo los siguientes símbolos:</p>
<table class="tabla" summary="Tabla en la que se muestran los formatos que podemos utilizar con las fechas y su significado."><caption>Formatos para fechas y su significado.</caption>
<thead>
<tr><th scope="col">Símbolo</th><th scope="col">Significado</th></tr>
</thead>
<tbody>
<tr>
<td>YY</td>
<td>Año en formato de dos cifras</td>
</tr>
<tr>
<td>YYYY</td>
<td>Año en formato de cuatro cifras</td>
</tr>
<tr>
<td>MM</td>
<td>Mes en formato de dos cifras</td>
</tr>
<tr>
<td>MON</td>
<td>Las tres primeras letras del mes</td>
</tr>
<tr>
<td>MONTH</td>
<td>Nombre completo del mes</td>
</tr>
<tr>
<td>DY</td>
<td>Día de la semana en tres letras</td>
</tr>
<tr>
<td>DAY</td>
<td>Día completo de la semana</td>
</tr>
<tr>
<td>DD</td>
<td>Día en formato de dos cifras</td>
</tr>
<tr>
<td>D</td>
<td>Día de la semana del 1 al 7</td>
</tr>
<tr>
<td>Q</td>
<td>Semestre</td>
</tr>
<tr>
<td>WW</td>
<td>Semana del año</td>
</tr>
<tr>
<td>AM<br> PM</td>
<td>
<p>Indicador <acronym title="Ante merídiem">a.m.</acronym></p>
<p>Indicador <acronym title="Post merídiem">p.m.</acronym></p>
</td>
</tr>
<tr>
<td> HH12 <br>  HH24 </td>
<td>
<p>Hora de 1 a 12</p>
<p>Hora de 0 a 23</p>
</td>
</tr>
<tr>
<td>MI</td>
<td>Minutos de 0 a 59</td>
</tr>
<tr>
<td> SS <br>  SSSS </td>
<td>
<p>Segundos dentro del minuto</p>
<p>Segundos dentro desde las 0 horas</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id104">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id104-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta104_69" class="block iDevice_content">

</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id105">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id105-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta105_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<p>Solo vamos a destacar las siguientes funciones:</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;CONVERT(expresion,tipo_dato&lt;/strong&gt;) Devuelve la expresión convertida al tipo de dato suministrado.</li>
</ul>
<p>                        Ejemplo: &lt;strong&gt;SELECT CONVERT(21,DECIMAL(6,2)&lt;/strong&gt;);  --  Devuelve 21.00.</p>
<ul class="lista_verificacion">
<li><strong>&lt;strong&gt;CAST(expresion AS tipo_dato&lt;/strong&gt;)  </strong>Análoga a la anterior.</li>
</ul>
<p>                       Ejemplo: SELECT CAST(21 AS DECIMAL(6,2));  --  Devuelve 21.00.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper RecomendacionfpdIdevice em_iDevice" id="id106">
<div class="iDevice emphasis_recomendacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_recomendacionfpd.png)"><h2 class="iDeviceTitle">Recomendación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id106-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta106_46" class="block iDevice_content">
<p>En el siguiente enlace puedes ver más ejemplos de funciones de conversión en MySQL.</p>
<p style="text-align: center;"><a title="Acceder a Web con ejemplos de funciones de conversión" href="http://mysql.conclase.net/curso/?sqlfun=CAST">Ejemplos de funciones de conversión</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">5.5.- Otras funciones: NVL y DECODE -  IFNULL</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id53">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id53-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta53_73" class="block iDevice_content">
<p><img alt="Parte de un teclado." class="elemento_derecha" src="./recopila_files/ST001437.png" style="width: 200px; height: 132px;" title="Teclado." height="132" width="200"> ¿Recuerdas que era el valor NULL? Cualquier columna de una tabla podía contener un valor nulo independientemente al tipo de datos que tuviera definido. Eso sí, esto no era así en los casos en que definíamos esa columna como no nula (NOT NULL), o que fuera clave primaria (PRIMARY KEY).</p>
<p>Cualquier operación que se haga con un valor NULL devuelve un NULL. Por ejemplo, si se intenta dividir por NULL, no nos aparecerá ningún error sino que como resultado obtendremos un NULL (no se producirá ningún error tal y como puede suceder si intentáramos dividir por cero).</p>
<p>También es posible que el resultado de una función nos de un valor nulo.</p>
<p><strong class="destacado">Oracle</strong></p>
<p>Por tanto, es habitual encontrarnos con estos valores y es entonces cuando aparece la necesidad de poder hacer algo con ellos. Las <strong>funciones con nulos</strong> nos permitirán hacer algo en caso de que aparezca un valor nulo.</p>
<ul class="lista_verificacion">
<li>NVL(valor, expr1)
<p>Si valor es NULL, entonces devuelve expr1. Ten en cuenta que expr1 debe ser del mismo tipo que valor.</p>
</li>
</ul>
<p>¿Y no habrá alguna función que nos permita evaluar expresiones? La respuesta es afirmativa y esa función se llama DECODE.</p>
<ul class="lista_verificacion">
<li>DECODE(expr1, cond1, valor1 [, cond2, valor2, ...], default )
<p>Esta función evalúa una expresión expr1, si se cumple la primera condición (cond1) devuelve el valor1, en caso contrario evalúa la siguiente condición y así hasta que una de las condiciones se cumpla. Si no se cumple ninguna condición se devuelve el valor por defecto que hemos llamado default.</p>
</li>
</ul>
<p>Si en la tabla PONENTE  queremos un listado de las especialidades, podemos pedir que cuando una especialidad  no exista, aparezca el texto No tiene especialidad conocida, para ello podemos utilizar la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 42.3em;">
<div class="texto_izquierda">
<pre>SELECT NVL(especialidad, 'No tiene especialidad conocida') FROM PONENTE;
</pre>
</div>
</div>
<p>Obtendremos:</p>
<table class="tabla" summary="Tabla en la que se muestra el resultado de ejecutar la sentencia."><caption>Resultado de la sentencia SELECT</caption>
<thead>
<tr><th scope="col">ESPECIALIDAD</th></tr>
</thead>
<tbody>
<tr>
<td>No tiene dirección conocida</td>
</tr>
<tr>
<td>'Bases de Datos'</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id54">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id54-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-54_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion54_60" class="block question iDevice_content">
<strong>¿Qué función convierte un número o fecha a cadena de caracteres?</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_63">Opción 1</a></label><input type="radio" name="option54_60" id="i54_63" class="exe-radio-option exe-radio-option-0-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_63"><a name="answer-54_63" href="./recopila_files/saved_resource"></a>
<div id="taans54_63" class="block iDevice_content">
TO_DATE.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_142" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_142">Opción 2</a></label><input type="radio" name="option54_60" id="i54_142" class="exe-radio-option exe-radio-option-1-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_142"><a name="answer-54_142" href="./recopila_files/saved_resource"></a>
<div id="taans54_142" class="block iDevice_content">
TO_CHAR.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_145" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_145">Opción 3</a></label><input type="radio" name="option54_60" id="i54_145" class="exe-radio-option exe-radio-option-2-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_145"><a name="answer-54_145" href="./recopila_files/saved_resource"></a>
<div id="taans54_145" class="block iDevice_content">
DECODE.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i54_148" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_148">Opción 4</a></label><input type="radio" name="option54_60" id="i54_148" class="exe-radio-option exe-radio-option-3-4-54_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-54_148"><a name="answer-54_148" href="./recopila_files/saved_resource"></a>
<div id="taans54_148" class="block iDevice_content">
TO_NUMBER.

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b54_60" class="feedback js-hidden"><a name="sa0b54_60" href="./recopila_files/saved_resource"></a>
<div id="taf54_63" class=" iDevice_content">
No es correcto. Esta función convierte fechas a texto.

</div>
</div>
<div id="sa1b54_60" class="feedback js-hidden"><a name="sa1b54_60" href="./recopila_files/saved_resource"></a>
<div id="taf54_142" class=" iDevice_content">
Así es, se utiliza normalmente para fechas ya que de número a texto se hace de forma implícita

</div>
</div>
<div id="sa2b54_60" class="feedback js-hidden"><a name="sa2b54_60" href="./recopila_files/saved_resource"></a>
<div id="taf54_145" class=" iDevice_content">
No es correcto. Esta función evalúa expresiones y devuelve un valor según el resultado.

</div>
</div>
<div id="sa3b54_60" class="feedback js-hidden"><a name="sa3b54_60" href="./recopila_files/saved_resource"></a>
<div id="taf54_148" class=" iDevice_content">
No es correcto. Convierte textos en números, y suele utilizarse para dar un formato concreto a los números.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa0b54_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_142">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa1b54_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_145">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa2b54_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-54_148">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa3b54_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id107">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id107-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta107_69" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Por tanto, es habitual encontrarnos con estos valores y es entonces cuando aparece la necesidad de poder hacer algo con ellos. Las <strong>funciones con nulos</strong> y <strong>de control de flujo</strong> nos permitirán hacer algo en caso de que aparezca un valor nulo.</p>
<ul class="lista_verificacion">
<li>&lt;strong&gt;IFNULL(expresión1,expresión2)&lt;/strong&gt;
<p>Devuelve <expresión1> si <expresión1> es distinto de NULL, en otro caso devuelve <expresión2>.</expresión2></expresión1></expresión1></p>
</li>
</ul>
<p>                       Ejemplo: &lt;strong&gt;SELECT IFNULL(NULL,'No hay dato');&lt;/strong&gt; --- Devuelve 'No hay dato'</p>
<p>Si en la tabla EMPLEADO queremos un listado de sus departamentos, podemos pedir que cuando un departamento no exista, aparezca el texto No tiene departamento, para ello podemos utilizar la siguiente consulta:</p>
<div class="codigo elemento_centrado" style="width: 42.3em;">
<div class="texto_izquierda">
<pre>SELECT cdemp, IFNULL(cddep, 'No tiene departamento asignado') FROM empleado;
</pre>
</div>
</div>
<p> </p>
<p>Otra función interesante es la de control de flujo:</p>
<ul class="lista_verificacion">
<li><strong>IF(expresión1,expresión2,expresión3</strong><strong>)</strong>        Devuelve <expresión2> o <expresión3> en función de si <expresión1> es VERDAD o FALSO respectivamente.</expresión1></expresión3></expresión2></li>
</ul>
<p>                    Ejemplo: <strong>SELECT IF(3&gt;5, 'verdad','falso');</strong>  -- Devuelve ‘falso’.</p>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">6.- Consultas de resumen.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id55">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id55-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta55_66" class="block iDevice_content">
<img alt="Dos personas trabajan en una mesa sobre un documento, en la mesa aparece un vaso de agua y otro documento donde se aprecia un gráfico." class="elemento_derecha" height="160" src="./recopila_files/stk32329bme.png" style="width: 160px; height: 160px" title="Consulta." width="160"><strong>Ada</strong> le ha pedido a <strong>Juan</strong> que le eche una mano en otro
de los proyectos en los que está inmersa la empresa. Necesita que
cree varias consultas de resumen sobre unas tablas de empleados de
banca. Está interesada en obtener el salario medio de los empleados
clasificado por tipo de empleado, y quiere también que obtenga el
total de empleados por sucursal. 
<p>
Realmente no es un trabajo difícil ya que las consultas de
resumen son muy fáciles de crear, pero <strong>Ada</strong> está tan ocupada
que no tiene tiempo para esos detalles.
</p>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id56">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id56-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta56_73" class="block iDevice_content">
<p>
Seguro que
alguna vez has necesitado realizar cálculos sobre un campo para
obtener algún resultado global, por ejemplo, si tenemos una columna
donde estamos guardando las notas que obtienen unos alumnos o alumnas
en Matemáticas, podríamos estar interesados en saber cual es la
nota máxima que han obtenido o la nota media.
</p>
<p>
La
sentencia SELECT nos va a permitir
<strong>obtener resúmenes de los datos de modo vertical</strong>. Para ello
consta de una serie de cláusulas específicas (GROUP BY, <code>HAVING</code>) y tenemos también
unas <strong>funciones</strong> llamadas <strong>de agrupamiento o de agregado</strong>
que son las que nos dirán qué cálculos queremos realizar sobre los
datos (sobre la columna).
</p>
<p>
Hasta ahora
las consultas que hemos visto daban como resultado un subconjunto de
filas de la tabla de la que extraíamos la información. Sin embargo,
este tipo de consultas que vamos a ver no corresponde con ningún
valor de la tabla sino un <strong>total calculado</strong> sobre los datos de
la tabla. Esto hará que las consultas de resumen tengan limitaciones
que iremos viendo.
</p>
<p>
Las
funciones que podemos utilizar se llaman de agrupamiento (de
agregado). Éstas <strong>toman un grupo de datos</strong> (una columna) y
<strong>producen un único dato que resume el grupo</strong>. Por ejemplo, la
función SUM() acepta una columna de
datos numéricos y devuelve la suma de estos. 
</p>

</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id57">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id57-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta57_70" class="block iDevice_content">
El simple hecho de utilizar una función de agregado en una consulta la convierte en consulta de resumen.

</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id58">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id58-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta58_73" class="block iDevice_content">
<p>
Todas las funciones de agregado tienen
una estructura muy parecida: FUNCIÓN ([ALL| DISTINCT] Expresión) y debemos tener en cuenta que:
</p>
<ul class="lista_verificacion">
	<li>La palabra ALL
	indica que se tienen que tomar todos los valores de la columna. Es
	el valor por defecto.</li>
	<li>La palabra DISTINCT
	indica que se considerarán todas las repeticiones del mismo valor
	como uno solo (considera valores distintos).</li>
	<li>El grupo de valores sobre el que
	actúa la función lo determina el resultado de la expresión que
	será el nombre de una columna o una expresión basada en una o
	varias columnas. Por tanto, en la expresión nunca puede aparecer ni
	una función de agregado ni una subconsulta.</li>
	<li>Todas las funciones se aplican a
	las filas del origen de datos una vez ejecutada la cláusula WHERE
	(si la tuviéramos).</li>
	<li>Todas las funciones (excepto COUNT) ignoran los valores NULL.</li>
	<li>Podemos encontrar una función de
	agrupamiento dentro de una lista de selección en cualquier sitio
	donde pudiera aparecer el nombre de una columna. Es por eso que
	puede formar parte de una expresión pero no se pueden anidar
	funciones de este tipo.</li>
	<li>No se pueden mezclar funciones de
	columna con nombres de columna ordinarios, aunque hay excepciones
	que veremos más adelante.</li>
</ul>
<p align="left">
Ya estamos
preparados para conocer cuáles son estas funciones de agregado (o
agrupamiento). Las veremos a continuación.
</p>

</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id59">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id59-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta59_47" class="block iDevice_content">
<p>
Puedes acceder a este enlace si quieres conocer más sobre este tipo de consultas.
</p>
<p class="enlace_centrado">
<a href="http://www.aulaclic.es/sql/t_4_1.htm" title="Acceder al curso gratuito de aulaclic donde se describen las consultas de resumen en SQL." target="_self">Consultas de resumen.</a>
</p>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">6.1.- Funciones de agregado: SUM y COUNT.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id60">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id60-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta60_73" class="block iDevice_content">
<p><img alt="Se muestran distintas herramientas que se utilizan en matemáticas como son una calculadora, un cartabón, una regla y un lápiz." class="elemento_derecha" src="./recopila_files/SKD284226SDC.png" style="width: 160px; height: 160px;" title="Herramientas para cálculo" height="160" width="160"></p>
<p align="left">Sumar y contar filas o datos contenidos en los campos es algo bastante común. Imagina que para nuestra tabla Usuarios necesitamos sumar el número de créditos total que tienen nuestros jugadores. Con una función que sumara los valores de la columna crédito sería suficiente, siempre y cuando lo agrupáramos por cliente, ya que de lo contrario lo que obtendríamos sería el total de todos los clientes jugadores.</p>
<ul class="lista_verificacion">
<li>La función SUM:
<ul>
<li>SUM([ALL|DISTINCT] expresión)</li>
<li>Devuelve la suma de los valores de la expresión.</li>
<li>Sólo puede utilizarse con columnas cuyo tipo de dato sea número. El resultado será del mismo tipo aunque puede tener una precisión mayor.</li>
<li>Por ejemplo,
<ul>
<li>SELECT SUM(precio) FROM CONFERENCIA; en Oracle&lt;br /&gt;</li>
<li>SELECT SUM( salario) FROM empleado; en MySQL&lt;br /&gt;</li>
</ul>
</li>
</ul>
</li>
<li>La función COUNT:
<ul>
<li>COUNT([ALL|DISTINCT] expresión)</li>
<li>Cuenta los elementos de un campo. Expresión contiene el nombre del campo que deseamos contar. Los operandos de expresión pueden incluir el nombre del campo, una constante o una función.</li>
<li>Puede contar cualquier tipo de datos incluido texto.</li>
<li>COUNT simplemente cuenta el número de registros sin tener en cuenta qué valores se almacenan.</li>
<li>La función COUNT no cuenta los registros que tienen campos NULL a menos que <strong>expresión</strong> sea el carácter comodín <strong>asterisco</strong> (*).</li>
<li>Si utilizamos COUNT(*), calcularemos el total de filas, incluyendo aquellas que contienen valores NULL.</li>
<li>Por ejemplo,
<ul>
<li>SELECT COUNT(nombre) FROM PONENTE; en Oracle&lt;br /&gt;</li>
<li>SELECT COUNT(*) FROM PONENTE; en Oracle&lt;br /&gt;</li>
<li>SELECT COUNT(cddep) FROM empleado; en MySQL //Nos permite saber cuantos empleados tienen departamento asignado.&lt;br /&gt;</li>
<li>SELECT COUNT(*) FROM empleado; en MySQL //Nos permite saber cuantos empleados hay en total</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id61">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id61-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta61_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b61" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Utilizando las tablas y datos  descargados anteriormente, vamos a realizar una consulta donde obtengamos el número total de salas cuya capacidad sea igual o superior a 200.</p>
</div>
<form name="feedback-form-quesFeedback0b61" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b61text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b61" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b61" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<p>SELECT COUNT(*) AS NUM_SALAS FROM SALA WHERE capacidad&gt;=200;</p></div>
</form>
<div id="taquesQuestion1b61" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Utilizando las tablas y datos de la empresa <strong>Proyectosx</strong> descargados anteriormente, vamos a realizar una consulta donde contemos el número de empleados con  departamento asignado. Pero esta vez lo realizamos de otra forma  a la que se ha visto anteriormente.</p>
</div>
<form name="feedback-form-quesFeedback1b61" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b61text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b61" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b61" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 38.45em;">
<div class="texto_izquierda">
<pre>SELECT COUNT(cdemp) FROM empleado WHERE cddep IS NOT NULL;</pre>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">6.2.- Funciones de agregado: MIN y MAX.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id62">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id62-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta62_73" class="block iDevice_content">
<p><img alt="Una joven señala una lista y apunta con su dedo ínidce buscando información." class="elemento_derecha" src="./recopila_files/SKD246518SDC.png" style="width: 160px; height: 160px;" title="Consultando la lista." height="160" width="160"></p>
<p align="left">¿Y si pudiéramos encontrar el valor máximo y mínimo de una lista enormemente grande? Esto es lo que nos permiten hacer las siguientes funciones.</p>
<ul class="lista_verificacion">
<li><strong>Función </strong>MIN<strong>:</strong>
<ul>
<li>MIN ([ALL| DISTINCT] expresión)</li>
<li>Devuelve el valor mínimo de la expresión sin considerar los nulos (NULL).</li>
<li>En expresión podemos incluir el nombre de un campo de una tabla, una constante o una función (pero no otras funciones agregadas de SQL).</li>
<li>Un ejemplo sería:
<ul>
<li>SELECT MIN(precio) FROM CONFERENCIA; // en Oracle&lt;br /&gt;</li>
<li>SELECT MIN(salario) FROM empleado; //en MySQL: -- Obtiene el menor salario&lt;br /&gt;</li>
<li>SELECT MIN(fecha_ingreso) FROM empleado; // MySQL: -- Obtiene la fecha más antigua de ingreso </li>
</ul>
</li>
</ul>
</li>
<li><strong>Función </strong>MAX<strong>:</strong>
<ul>
<li>MAX ([ALL| DISTINCT] expresión)</li>
<li>Devuelve el valor máximo de la expresión sin considerar los nulos (NULL).</li>
<li>En expresión podemos incluir el nombre de un campo de una tabla, una constante o una función (pero no otras funciones agregadas de SQL).</li>
<li>Un ejemplo,
<ul>
<li>SELECT MAX(precio) FROM CONFERENCIA; //Oracle&lt;br /&gt;</li>
<li>SELECT MAX (salario) FROM empleado; // MySQL -- obtiene el mayor salario&lt;br /&gt;</li>
<li>SELECT MAX(fecha_ingreso) FROM empleado; // MySQL -- Obtiene la fecha más actual o reciente de ingreso </li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">6.3.- Funciones de agregado: AVG, VAR, STDEV y STDEVP.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id63">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id63-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta63_73" class="block iDevice_content">
<p><img alt="Gráfico donde el fondo contiene una imagen de productos, el gráfico representa el precio frente al volumen." class="elemento_derecha" src="./recopila_files/027.png" style="width: 200px; height: 132px;" title="Estadísticas." height="132" width="200"></p>
<p align="left">Quizás queramos obtener datos estadísticos de los datos guardados en nuestra base de datos. Para ello podemos hacer uso de las funciones que calculan el<a class="glosario" href="./recopila_files/saved_resource"> promedio,<span><em>Promedio</em>También llamada media aritmética o simplemente media de un conjunto finito de números es igual a la suma de todos sus valores dividida entre el número de sumandos.</span></a> la<a class="glosario" href="./recopila_files/saved_resource"> varianza<span><em>Varianza</em>Es una medida de su dispersión definida como la esperanza del cuadrado de la desviación de dicha variable respecto a su media.</span></a> y la<a class="glosario" href="./recopila_files/saved_resource"> desviación típica<span><em>Desviación típica</em>Es una medida de centralización o dispersión para variables de razón (ratio o cociente) y de intervalo, de gran utilidad en la estadística descriptiva. Se define como la raíz cuadrada de la varianza. Junto con este valor, la desviación típica es una medida (cuadrática) que informa de la media de distancias que tienen los datos respecto de su media aritmética, expresada en las mismas unidades que la variable.</span></a>.</p>
<ul class="lista_verificacion">
<li><strong>Función </strong>AVG
<ul>
<li>AVG ([ALL| DISTINCT] expresión)</li>
<li>Devuelve el promedio de los valores de un grupo, para ello se omiten los valores nulos (NULL).</li>
<li>El grupo de valores será el que se obtenga como resultado de la expresión y ésta puede ser un nombre de columna o una expresión basada en una columna o varias de la tabla.</li>
<li>Se aplica a campos tipo número y el tipo de dato del resultado puede variar según las necesidades del sistema para representar el valor.</li>
</ul>
</li>
</ul>
<p><strong class="destacado">Ejemplos en MySQL:</strong></p>
<p>   a)-- SELECT AVG(salario) as 'Salario medio' FROM empleado;</p>
<p>   b)-- SELECT round(AVG(salario),2) as 'Salario medio' FROM empleado; -- para sacar sólo dos decimales</p>
<p> </p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<ul class="lista_verificacion">
<li><strong>Función </strong>VAR
<ul>
<li>VAR ([ALL| DISTINCT] expresión)</li>
<li>Devuelve la varianza estadística de todos los valores de la expresión.</li>
<li>Como tipo de dato admite únicamente columnas numéricas. Los valores nulos (NULL) se omiten.</li>
</ul>
</li>
<li><strong>Función </strong>STDEV
<ul>
<li>STDEV ([ALL| DISTINCT] expresión)</li>
<li>Devuelve la desviación típica estadística de todos los valores de la expresión.</li>
<li>Como tipo de dato admite únicamente columnas numéricas. Los valores nulos (NULL) se omiten.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id64">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id64-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta64_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b64" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Utilizando las tablas y datos descargados anteriormente, vamos a realizar una consulta donde obtengamos la media de las gratificaciones de los ponentes</p>
</div>
<form name="feedback-form-quesFeedback0b64" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b64text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b64" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b64" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<p>SELECT AVG(gratificacion) AS MEDIA_GRATIFICACIONES FROM PARTICIPAR;</p></div>
</form>
<div id="taquesQuestion1b64" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Utilizando las tablas y datos de la empresa <strong>Proyectosx</strong> descargados anteriormente, vamos a realizar una consulta donde obtengamos la media de horas trabajadas en proyectos de la tabla trabaja.</p>
</div>
<form name="feedback-form-quesFeedback1b64" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b64text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b64" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b64" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 23.6em;">
<div class="texto_izquierda">
<pre>SELECT AVG(nhoras) FROM trabaja;</pre>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id65">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id65-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-65_55">
<form name="multi-select-form-65_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion65_55" class="block question iDevice_content">
<strong>¿Cuáles de las siguientes afirmaciones sobre las consultas de resumen son ciertas?</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_58">Opción 1</a></label><input type="checkbox" id="op65_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-65_58"><a name="answer-65_58" href="./recopila_files/saved_resource"></a>
<div id="taans65_58" class="block iDevice_content">
Toman un grupo de datos de una columna.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-65_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_157">Opción 2</a></label><input type="checkbox" id="op65_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-65_157"><a name="answer-65_157" href="./recopila_files/saved_resource"></a>
<div id="taans65_157" class="block iDevice_content">
Producen un único dato que resume el grupo.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-65_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_159">Opción 3</a></label><input type="checkbox" id="op65_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-65_159"><a name="answer-65_159" href="./recopila_files/saved_resource"></a>
<div id="taans65_159" class="block iDevice_content">
Utilizar una función de agregado en una consulta la convierte en consulta de resumen.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-65_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op65_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_161">Opción 4</a></label><input type="checkbox" id="op65_553" value="False">
</p>
<div class="iDevice_answer-content" id="answer-65_161"><a name="answer-65_161" href="./recopila_files/saved_resource"></a>
<div id="taans65_161" class="block iDevice_content">
Dan como resultado un subconjunto de filas de la tabla.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-65_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-65_55"> 
</p>
</div>
<div id="f65_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback65_55" class="feedback iDevice_content">
Además ya conoces las funciones con las que se utilizan.

</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_157" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_159" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-65_161" class="wrong">Incorrecto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">7.- Agrupamiento de registros.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id66">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id66-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta66_66" class="block iDevice_content">
<p><img alt="Un conjunto de personas aparecen juntas y ordenadas formando un grupo." class="elemento_derecha" src="./recopila_files/57437500.png" style="width: 200px; height: 144px;" title="Agrupados." height="144" width="200"></p>
<p><strong>Juan</strong> ha estado realizando algunas consultas de resumen y ahora quiere continuar sacando todo el jugo posible a las tablas realizando operaciones como las anteriores pero agrupándolas por algún campo. Hay veces que se obtiene mucha información si estudiamos los datos por grupos, como puede ser el total de asistentes por empresa, o la gratificación media según el sexo del ponente para así poder obtener conclusiones sobre la información guardada.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id67">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id67-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta67_73" class="block iDevice_content">
<div class="elemento_derecha">
<div class="elemento_centrado">
<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/BD04_CONT_R18_sumaprovincia.jpg" title="Ampliar imagen."><img alt="Aplicación de la función que suma el crédito agrupando por provincia." class="imagen_ampliable" height="200" src="./recopila_files/BD04_CONT_R18_sumaprovincia_miniatura.jpg" style="width: 98px; height: 200px" title="Función suma agrupada." width="98"></a>
</div>
</div>
<p>
Hasta aquí las consultas de resumen que hemos visto obtienen totales de todas las filas de un campo o una expresión calculada sobre uno o varios campos. Lo que hemos obtenido ha sido una única fila con un único dato.
</p>
<p>
Ya verás como en muchas ocasiones en las que utilizamos consultas de resumen nos va a interesar calcular <strong>totales parciales</strong>, es decir, <strong>agrupados según un determinado campo</strong>. 
</p>
<p>
De este modo podríamos obtener de una tabla EMPLEADOS, en la que se guarda su sueldo y su actividad dentro de la empresa, el valor medio del sueldo en función de la actividad realizada en la empresa. También podríamos tener una tabla clientes y obtener el número de veces que ha realizado un pedido, etc.
</p>
<p>
En todos estos casos en lugar de una única fila de resultados necesitaremos una fila por cada actividad, cada cliente, etc.
</p>
<p>
Podemos obtener estos <strong>subtotales</strong> utilizando la cláusula GROUP BY.
</p>
<div class="codigo elemento_centrado" style="width: 23.05em">
<div class="texto_izquierda">
<pre>La sintaxis es la siguiente:
</pre>
<pre>SELECT columna1, columna2, ...
</pre>
<pre>FROM tabla1, tabla2, ...
</pre>
<pre>WHERE condición1, condición2, …
</pre>
<pre>GROUP BY columna1, columna2, …
</pre>
<pre>HAVING condición 
</pre>
<pre>ORDER BY ordenación;
</pre>
</div>
</div>

</div>
</div>
</div>
<div class="iDevice_wrapper DestacadofpdIdevice" id="id68">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id68-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div class="iDevice_destacadofpd">
<div id="ta68_70" class="block iDevice_content">
<p>
En la cláusula GROUP BY  se colocan las columnas por las que vamos a agrupar. En la cláusula HAVING se especifica la condición que han de cumplir los grupos para que se realice la consulta.
</p>
Es muy importante que te fijes bien en el orden en el que se ejecutan las cláusulas:
<ol>
	<li>WHERE que filtra las filas según las condiciones que pongamos.</li>
	<li>GROUP BY que crea una tabla de grupos nueva.</li>
	<li>HAVING filtra los grupos.</li>
	<li>ORDER BY que ordena o clasifica la salida.</li>
</ol>
<p>
Las columnas que aparecen en el SELECT y que no aparezcan en la cláusula  GROUP BY deben tener una función de agrupamiento. Si esto no se hace así producirá un error. Otra opción es poner en la claúsula GROUP BY las mismas columnas que aparecen en SELECT.
</p>

</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id69">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id69-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta69_73" class="block iDevice_content">
<p> </p>
<p class="destacado"><strong>MySQL</strong></p>
<p>Veamos un par de ejemplos:</p>
<p>Obtenemos el total de empleados por departamento. Incluso aparecerá el total de empleados que no están asignados a un departamento, esto es, su departamento es NULL. </p>
<div class="codigo elemento_centrado" style="width: 41.2em;">
<div class="texto_izquierda">
<pre>SELECT cddep, count(cddep) &lt;br /&gt;FROM empleado &lt;br /&gt;GROUP BY cddep;
</pre>
</div>
</div>
<p> </p>
<p>Si estuviéramos interesados en el total de empleados de cada departamento que ganan un salario superior a 1500€, pero que sólo se mostraran los departamentos con más de 2 empleados con salario superior a 1500€:</p>
<div class="codigo elemento_centrado" style="width: 69.25em;">
<div class="texto_izquierda">
<pre>SELECT cddep, COUNT(cddep) &lt;br /&gt;FROM empleado &lt;br /&gt;WHERE salario &gt; 1500 &lt;br /&gt;GROUP BY cddep &lt;br /&gt;HAVING COUNT(cddep) &gt;2;
</pre>
</div>
</div>
<p> </p>
<p> </p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Veamos un par de ejemplos:</p>
<p>Primero vamos a obtener el número total de asistentes por empresa (sin contar con aquellos de los que no se conoce su empresa)</p>
<p> </p>
<div class="codigo elemento_centrado" style="width: 41.2em;">
<div class="texto_izquierda">
<pre>SELECT empresa, COUNT(codigo) AS NUM_ASISTENTES FROM ASISTENTE WHERE&lt;br /&gt;empresa IS NOT NULL GROUP BY empresa;&lt;br /&gt;
</pre>
</div>
</div>
<p> </p>
<p>Y s sólo i estuviéramos interesados en el número total de asistentes pero sólo de las empresas BigSoft y ProgConsulting sería:</p>
<div class="codigo elemento_centrado" style="width: 69.25em;">
<div class="texto_izquierda">
<pre>SELECT &lt;code&gt;empresa, COUNT(codigo) AS NUM_ASISTENTES FROM ASISTENTE WHERE&lt;br /&gt;empresa IS NOT NULL GROUP BY empresa HAVING empresa = 'BigSoft' OR empresa= 'ProgConsulting';
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ClozefpdIdevice em_iDevice" id="id70">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id70-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta70_41" class="block instructions iDevice_content">
<strong>Relaciona cada cláusula con su orden de ejecución:</strong>

</div>
<div class="activity" id="activity-70_42">
<form name="cloze-form-70_42" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form cloze-activity-form">
<div id="cloze70_42">
<input type="hidden" name="clozeFlag70_42.strictMarking" id="clozeFlag70_42.strictMarking" value="false">

<input type="hidden" name="clozeFlag70_42.checkCaps" id="clozeFlag70_42.checkCaps" value="false">

<input type="hidden" name="clozeFlag70_42.instantMarking" id="clozeFlag70_42.instantMarking" value="false">

<input type="hidden" name="clozeVar70_42.feedbackId" id="clozeVar70_42.feedbackId" value="ta70_43">

<table class="tabla" summary="Tabla en la que se debe relacionar cada cláusula de una consulta de agrupamiento con su orden de ejecución.">
	<caption>Ejercicio de relacionar</caption>
	<tbody>
		<tr>
			        	
			<th scope="col">Cláusula.</th>
			<th scope="col">Relación.</th>
			<th scope="col">Función.</th>
		</tr>
		<tr>
			        
			<td>WHERE</td>
			<td class="texto_centrado"> 
<label for="clozeBlank70_42.0" class="sr-av">Rellenar huecos (1):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.0" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.0">JXUwMDY5
</span>
 </td>
			<td>1. PRIMERO</td>
		</tr>
		<tr>
			        
			<td>ORDER BY</td>
			<td class="texto_centrado"> 
<label for="clozeBlank70_42.1" class="sr-av">Rellenar huecos (2):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.1" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.1">JXUwMDZj
</span>
 </td>
			<td>2. SEGUNDO</td>
		</tr>
		<tr>
			        
			<td>HAVING</td>
			<td class="texto_centrado"> 
<label for="clozeBlank70_42.2" class="sr-av">Rellenar huecos (3):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.2" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.2">JXUwMDZi
</span>
 </td>
			<td>3. TERCERO</td>
		</tr>
		<tr>
			        
			<td>GROUP BY</td>
			<td class="texto_centrado"> 
<label for="clozeBlank70_42.3" class="sr-av">Rellenar huecos (4):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank70_42.3" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer70_42.3">JXUwMDZh
</span>
 </td>
			<td>4. CUARTO</td>
		</tr>
	</tbody>
</table>

<div class="block iDevice_buttons">
<p>
<input class="button" type="submit" name="submit70_42" value="Enviar" id="submit70_42">

<input type="button" name="restart70_42" value="Reiniciar" style="display:none" id="restart70_42" onclick="$exe.cloze.restart(&#39;70_42&#39;)">

 
<input type="button" name="70_42showAnswersButton" value="Mostrar las respuestas" style="display:none" id="showAnswersButton70_42" onclick="$exe.cloze.fillInputs(&#39;70_42&#39;)">

<span class="js-hidden js-warning">Habilitar JavaScript</span>
</p>
</div>
<div id="clozeScore70_42"></div>
</div>
</form>
</div><div id="ta70_43" class="feedback js-feedback iDevice_content" style="display:none" role="status">
Efectivamente, es muy importante saber este orden para saber filtrar efectivamente los datos.

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">8.- Consultas multitablas.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id71">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id71-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta71_66" class="block iDevice_content">
<p><img alt="Juan." class="elemento_derecha" src="./recopila_files/BD04_CONT_R20_CASO_PERSONAJES_04.jpg" style="width: 200px; height: 132px;" title="Juan." height="132" width="200"></p>
<p>Hasta ahora <strong>Juan</strong> ha estado haciendo uso de consultas a una única tabla, pero eso limita la obtención de resultados. Si esas tablas están relacionadas <strong>Juan</strong> podrá coger información de cada una de ellas según lo que le interese. En las tablas de la base de datos Conferencias tiene por un lado la tabla PONENTE que recoge los datos de los ponentes y por otra la tabla PARTICIPAR que muestra las conferencias en las que ha participado cada ponente. En esta última tabla, lo único que recogemos de los ponentes es su código. Como a <strong>Juan</strong> le interesa obtener la gratificación incluyendo nombres y apellidos de sus ponentes, debe utilizar la información que viene en ambas tablas.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id72">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id72-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta72_73" class="block iDevice_content">
<p><img alt="Mujer agachada en un pasillo de estanterías de libros busca información y consulta un documento." class="elemento_derecha" src="./recopila_files/SKD246687SDC.png" style="width: 160px; height: 160px;" title="Consultando la biblioteca." height="160" width="160"></p>
<p>Recuerda que una de las propiedades de las bases de datos relacionales era que distribuíamos la información en varias tablas que a su vez estaban relacionadas por algún campo común. Así evitábamos repetir datos. Por tanto, también será frecuente que tengamos que consultar datos que se encuentren distribuidos por distintas tablas.</p>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<p>Si disponemos de una tabla EMPLEADO cuya clave principal es <span lang="en">cdemp</span> y esta tabla a su vez está relacionada con la tabla DEPARTAMENTO a través del campo <strong>cddep</strong>. Si quisiéramos obtener el nombre de los empleados y el nombre y ciudad de sus departamentos, necesitaríamos coger datos de ambas tablas pues el nombre y ciudad de cada departamento se  guarda en la tabla DEPARTAMENTO. Esto significa que cogeremos filas de una y de otra.</p>
<p>Imagina también que en lugar de tener una tabla EMPLEDO, dispusiéramos de dos por tenerlas en servidores distintos. Lo lógico es que en algún momento tendríamos que unirlas.</p>
<p>Hasta ahora las consultas que hemos usado se referían a una sola tabla, pero también es posible hacer consultas usando varias tablas en la misma sentencia SELECT. Esto permitirá realizar distintas operaciones como son:</p>
<ul class="lista_verificacion">
<li>La composición interna.</li>
<li>La composición externa.</li>
</ul>
<p>En la versión SQL de 1999 se especifica una nueva sintaxis para consultar varias tablas que MySQL incorpora, así que también la veremos. La razón de esta nueva sintaxis era separar las condiciones de asociación respecto a las condiciones de selección de registros.</p>
<p>La sintaxis es la siguiente:</p>
<div class="codigo elemento_centrado" style="width: 49.45em;">
<div class="texto_izquierda">
<pre>SELECT tabla1.columna1, tabla1.columna2, …, tabla2.columna1, tabla2.columna2, …
</pre>
<pre>FROM tabla1
</pre>
<pre>     [JOIN tabla2 USING (columna) |
</pre>
<pre>     [JOIN tabla2 ON (tabla1.columna=tabla2.columna)] |
</pre>
<pre>     [LEFT | RIGTH  OUTER JOIN tabla2 ON (tabla1.columna=tabla2.columna)]
</pre>
</div>
</div>
<p> </p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Si disponemos de la tabla CONFERENCIA cuya clave principal es <span lang="en">referencia</span> y esta tabla a su vez está relacionada con la tabla SALA a través del campo <strong>sala</strong>. Si quisiéramos obtener la capacidad de las salas  en la que se realiza cada conferencia necesitaríamos coger datos de ambas tablas pues la capacidad de las salas se guarda en la tabla SALA. Esto significa que cogeremos filas de una y de otra.</p>
<p>Imagina también que en lugar de tener una tabla PONENTE, dispusiéramos de dos por tenerlas en servidores distintos. Lo lógico es que en algún momento tendríamos que unirlas.</p>
<p>Hasta ahora las consultas que hemos usado se referían a una sola tabla, pero también es posible hacer consultas usando varias tablas en la misma sentencia SELECT. Esto permitirá realizar distintas operaciones como son:</p>
<ul class="lista_verificacion">
<li>La composición interna.</li>
<li>La composición externa.</li>
</ul>
<p>En la versión SQL de 1999 se especifica una nueva sintaxis para consultar varias tablas que Oracle incorpora, así que también la veremos. La razón de esta nueva sintaxis era separar las condiciones de asociación respecto a las condiciones de selección de registros.</p>
<p>La sintaxis es la siguiente:</p>
<div class="codigo elemento_centrado" style="width: 49.45em;">
<div class="texto_izquierda">
<pre>SELECT tabla1.columna1, tabla1.columna2, …, tabla2.columna1, tabla2.columna2, …
</pre>
<pre>FROM tabla1
</pre>
<pre>     [CROSS JOIN tabla2] |
</pre>
<pre>     [NATURAL JOIN tabla2] |
</pre>
<pre>     [JOIN tabla2 USING (columna) |
</pre>
<pre>     [JOIN tabla2 ON (tabla1.columna=tabla2.columna)] |
</pre>
<pre>     [LEFT | RIGTH | FULL OUTER JOIN tabla2 ON (tabla1.columna=tabla2.columna)]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper RecomendacionfpdIdevice em_iDevice" id="id108">
<div class="iDevice emphasis_recomendacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_recomendacionfpd.png)"><h2 class="iDeviceTitle">Recomendación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id108-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta108_46" class="block iDevice_content">
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta95_46" class="block iDevice_content">
<p>En el siguiente enlace puedes ver ejemplos de los diferentes tipos de JOIN.</p>
<p style="text-align: center;"><a title="Acceder a web con ejemplos de tipos de JOIN" href="https://diego.com.es/principales-tipos-de-joins-en-sql" target="_blank">Tipos de JOIN</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">8.1.- Composiciones internas.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id73">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id73-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta73_73" class="block iDevice_content">
<p><img alt="Mano sobre un ratón simulando su uso." class="elemento_derecha" src="./recopila_files/BSY_096.png" style="width: 132px; height: 200px;" title="Ratón." height="200" width="132"></p>
<p>¿Qué ocurre si combinamos dos o más tablas sin ninguna restricción? El resultado será un producto cartesiano.</p>
<p>El<a class="glosario" href="./recopila_files/saved_resource"> producto cartesiano<span><em>Producto cartesiano</em>En teoría de conjuntos, el producto cartesiano es un producto directo de conjuntos. En particular, el producto cartesiano de dos conjuntos X e Y, denotado por X × Y, es el conjunto de todos los pares ordenados en los que el primer componente pertenece a X y el segundo a Y.</span></a> entre dos tablas da como resultado todas las combinaciones de todas las filas de esas dos tablas.</p>
<p>Se indica poniendo en la cláusula FROM las tablas que queremos componer separadas por comas. Y puedes obtener el producto cartesiano de las tablas que quieras.</p>
<p>Como lo que se obtiene son todas las posibles combinaciones de filas, debes tener especial cuidado con las tablas que combinas. Si tienes dos tablas de 10 filas cada una, el resultado tendrá <span title="Diez por diez.">10x10</span> filas, a medida que aumentemos el número de filas que contienen las tablas, mayor será el resultado final, con lo cual se puede considerar que nos encontraremos con una operación costosa.</p>
<p>Esta operación no es de las más utilizadas ya que coge una fila de una tabla y la asocia con todos y cada uno de las filas de la otra tabla, independientemente de que tengan relación o no. Lo más normal es que queramos seleccionar los registros según algún criterio.</p>
<p>Necesitaremos <strong>discriminar</strong> de alguna forma para que únicamente aparezcan filas de una tabla que estén relacionadas con la otra tabla. A esto se le llama <strong>asociar tablas</strong> (JOIN).</p>
<p>Para hacer una composición interna se parte de un producto cartesiano y se eliminan aquellas filas que no cumplen la condición de composición.</p>
<p>Lo importante en las composiciones internas es emparejar los campos que han de tener valores iguales.</p>
<p>Las reglas para las composiciones son:</p>
<ul class="lista_verificacion">
<li>Pueden combinarse tantas tablas como se desee.</li>
<li>El criterio de combinación puede estar formado por más de una pareja de columnas.</li>
<li>En la cláusula SELECT pueden citarse columnas de ambas tablas, condicionen o no, la combinación.</li>
<li>Si hay columnas con el mismo nombre en las distintas tablas, deben identificarse especificando la tabla de procedencia o utilizando un alias de tabla.</li>
</ul>
<p class="iDevice_destacadofpd">Las columnas que aparecen en la cláusula WHERE se denominan <strong>columnas de emparejamiento</strong> ya que son las que permiten emparejar las filas de las dos tablas. Éstas no tienen por qué estar incluidas en la lista de selección. Emparejaremos tablas que estén relacionadas entres sí y además, una de las columnas de emparejamiento será clave principal en su tabla. Cuando emparejamos campos debemos especificar de la siguiente forma: NombreTabla1. Camporelacionado1 = NombreTabla2.Camporelacionado2.</p>
<p>Puedes combinar una tabla consigo misma pero debes poner de manera obligatoria un alias a uno de los nombres de la tabla que vas a repetir.</p>
<p><strong class="destacado">MySQL</strong></p>
<p> </p>
<p>Veamos un ejemplo, si queremos obtener el nombre y ciudad de los departamentos de los empleados, así como el código, nombre y fecha de ingreso, tendremos que utilizar alias o anteponer el nombre de la tabla a las columnas que se denominen igual en ambas tablas que se combian:</p>
<div class="codigo elemento_centrado" style="width: 39em;">
<div class="texto_izquierda">
<pre>SELECT e.cdemp, e.nombre, e.fecha_ingreso, d.nombre, d.ciudad
</pre>
<pre>FROM empleado e, departamento d
</pre>
<pre>WHERE e.cddep= d.cddep;
</pre>
</div>
</div>
<p> </p>
<p>Observa que ambas tablas, <span style="font-size: small;">empleado y departamento</span> están relacionadas por la columna <span style="font-size: small;">cddep</span> (código de departamento) y que en ambas tablas la columna se denomina igual, y lo mismo ocurre con el nombre del empleado y departamento, en ambas tablas se guarda en una columna denominada <span style="font-size: small;">nombre</span>. Por ello, es obligatorio anteponer al nombre de cada columna que se denomine igual, el nombre de la tabla de procedencia (<span style="font-size: small;"><strong>tabla.columna</strong></span>) o bien, poner un alias a la tabla y utilizar el alias (<span style="font-size: small;"><strong>alias.columna</strong></span>).</p>
<p>En el ejemplo, se ha optado por poner a empleado el alias <strong>e</strong>, y a departamento el alias <strong>d</strong>, de manera que todas las columnas quedan totalmente claras si le anteponemos ese alias.</p>
<p>Puedes <strong>combinar una tabla consigo misma</strong> pero debes poner de manera obligatoria un alias a uno de los nombres de la tabla que vas a repetir.</p>
<p>Por ejempo, la tabla empleado tiene una (inter)relación reflexiva, pues un empleado tiene como jefe a otro empleado. De hecho, ésto hace que aparezca dentro de la misma tabla la clave foránea <strong><span style="font-size: small;">cdjefe</span></strong> que hace referencia a la clave primaria <strong><span style="font-size: small;">cdemp. </span></strong></p>
<p><span style="font-size: medium;">Supongamos que nuestra consulta es para obtener el código y nombre de cada empleado con el nombre de su jefe ¿cómo la redactaríamos?. Observa que habrá que componer o combinar la tabla empleado con ella misma, desde el punto de vista de los empleados y el de los jefes. La consulta quedaría así: </span></p>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT e.cdemp, e.nombre, je.nombre
</pre>
<pre>FROM empleado e, empleado je
</pre>
<pre>WHERE e.cdjefe = je.cdemp;
</pre>
</div>
</div>
<p> </p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Veamos un ejemplo, si queremos obtener la referencia, el tema, el nombre de la sala en la que se celebra y la capacidad tendremos:</p>
<div class="codigo elemento_centrado" style="width: 39em;">
<div class="texto_izquierda">
<pre>SELECT referencia, tema, nombre, capacidad FROM CONFERENCIA, SALA&lt;br /&gt;WHERE CONFERENCIA.sala= SALA.Nombre;&lt;br /&gt;
</pre>
</div>
</div>
<p> </p>
<p>Ahora vamos a obtner el  codigo y el nombre de los asistentes (sin repetirse) que asisten a alguna conferencia que tenga la palabra "datos" en su tema.</p>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT DISTINCT A.codigo, A.nombre FROM ASISTENTE A, &lt;br /&gt;CONFERENCIA C, ASISTIR AT, WHERE A.codigo= AT.codasistente AND&lt;br /&gt;C.referencia=AT.refconferencia AND C.Tema LIKE '%DATOS%';&lt;br /&gt;&lt;br /&gt;
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id74">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id74-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta74_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b74" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Utilizando las tablas y datos  descargados anteriormente, vamos a realizar una consulta donde obtengamos el nombre de los ponentes junto  a la referencia y el tema de las conferencias en las que han participado</p>
</div>
<form name="feedback-form-quesFeedback0b74" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b74text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b74" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b74" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre>SELECT P.nombre, P.apellido1, P.apellido2, C.referencia, C.tema
</pre>
<pre>FROM PONENTE P , PARTICIPAR PR, CONFERENCIA C
</pre>
<pre>WHERE P.codigo=PR.codponente AND PR.refconferencia=C.referencia;
</pre>
</div>
</div></div>
</form>
<div id="taquesQuestion1b74" class="block iDevice_content">
<p> <br> Obtener un listado con el nombre y apellidos  de los asistentes que hayan asistido a la conferencia con referencia 'PWB1314'</p>
</div>
<form name="feedback-form-quesFeedback1b74" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b74text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b74" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b74" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 85.2em;">
<div class="texto_izquierda">
<pre>SELECT A.nombre, A.apellido1, A.apellido2 FROM ASISTENTE A, ASISTIR AT, CONFERENCIA C WHERE C.referencia=AT.refconferencia AND&lt;br /&gt;A.codigo=AT.codasistente AND C.referencia='PWB1314';&lt;br /&gt;
</pre>
</div>
</div></div>
</form>
<div id="taquesQuestion2b74" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Utilizando las tablas y datos de la empresa Proyectosx descargados anteriormente, vamos a realizar una consulta donde obtengamos el código y nombre de los empleados junto a su salario y código de los proyectos en los que trabajan.</p>
</div>
<form name="feedback-form-quesFeedback2b74" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback2b74text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback2b74" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback2b74" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div id="taquesFeedback0b74" class="block iDevice_content">
<div class="codigo elemento_centrado" style="width: 35.7em;">
<div class="texto_izquierda">
<pre>SELECT empleado.cdemp, nombre, salario, cdpro
</pre>
<pre>FROM empleado, trabaja
</pre>
<pre>WHERE empleado.cdemp= trabaja.cdemp;&lt;br /&gt;<br>(o poniendo alias)<br><br></pre>
<pre>SELECT e.cdemp, e.nombre, e.salario, t.cdpro
</pre>
<pre>FROM empleado e, trabaja t
</pre>
<pre>WHERE e.cdemp= t.cdemp;</pre>
</div>
</div>
</div></div>
</form>
<div id="taquesQuestion3b74" class="block iDevice_content">
<p>Obtener un listado como el anterior, pero sólo para los empleados del departado de código '03'.</p>
</div>
<form name="feedback-form-quesFeedback3b74" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback3b74text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback3b74" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback3b74" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div id="taquesFeedback1b74" class="block iDevice_content">
<div class="codigo elemento_centrado" style="width: 85.2em;">
<div class="texto_izquierda">
<pre>SELECT e.cdemp, e.nombre, e.salario, t.cdpro 
</pre>
<pre>FROM empleado e, trabaja t
</pre>
<pre>WHERE e.cdemp=t.cdemp AND
</pre>
<pre>e.cddep='03';
</pre>
</div>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">8.2.- Composiciones externas.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id75">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id75-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta75_73" class="block iDevice_content">
<p><img alt="Pieza de puzzle naranja." class="elemento_derecha" src="./recopila_files/062.png" style="width: 144px; height: 200px;" title="Composición externa." height="200" width="144"></p>
<p>¿Has pensado que puede que te interese seleccionar algunas filas de una tabla aunque éstas no tengan correspondencia con las filas de la otra tabla? Esto puede ser necesario.</p>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Imagina que tenemos, tal como ocurre en nuestra base  de datos <strong>proyectosx</strong>  guardadas en dos tablas la información de los empleados de la empresa (<strong>cdemp, nombre, salario y cddep</strong>) por otro lado los departamentos (<strong>cddep, nombre</strong>) de esa empresa. Recientemente se ha remodelado la empresa y se han creado un par de departamentos más pero no se les ha asignado los empleados. Si tuviéramos que obtener un informe con los datos de los empleados por departamento, seguro que deben aparecer esos departamentos aunque no tengan empleados. Para poder hacer esta combinación usaremos las composiciones externas.</p>
<p>¿Cómo es el formato? En este caso lo mejor es utilizar directamente la sintaxis derivada del estándar SQL 99, mediante una composición externa <span style="font-size: small;"><strong>LEFT OUTER JOIN</strong></span>.</p>
<div class="codigo elemento_centrado" style="width: 49.45em;">
<div class="texto_izquierda">
<pre>SELECT tabla1.columna1, tabla1.columna2, …, tabla2.columna1, tabla2.columna2, … </pre>
<pre>FROM tabla1 </pre>
<pre>[LEFT | RIGTH  OUTER JOIN tabla2 ON (tabla1.columna=tabla2.columna)] </pre>
</div>
</div>
<p> </p>
<p>En nuestro ejemplo, como queremos que aparezcan todos los departamentos, estén o no relacionados con empleados, pondremos esa tabla, la tabla DEPARTAMENTO,  a la izquierda de <strong><span style="font-size: small;">LEFT OUTER JOIN.  <br></span></strong></p>
<p>Obtendríamos el mismo resultado, si pusiéramos la tabla DEPARTAMENTO a la derecha de <strong><span style="font-size: small;">RIGHT OUTER JOIN.</span></strong></p>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Imagina que tenemos en una base de datos guardadas en dos tablas la información de los empleados de la empresa (<strong>Cod_empleado, Nombre, Apellidos, salario y Cod_dpto</strong>) por otro lado los departamentos (<strong>Codigo_dep, Nombre</strong>) de esa empresa. Recientemente se ha remodelado la empresa y se han creado un par de departamentos más pero no se les ha asignado los empleados. Si tuviéramos que obtener un informe con los datos de los empleados por departamento, seguro que deben aparecer esos departamentos aunque no tengan empleados. Para poder hacer esta combinación usaremos las composiciones externas.</p>
<p>¿Cómo es el formato? Muy sencillo, añadiremos un signo más entre paréntesis (+) en la igualdad entre campos que ponemos en la cláusula WHERE. El carácter (+) irá detrás del nombre de la tabla en la que deseamos aceptar valores nulos.</p>
<p>En nuestro ejemplo, la igualdad que tenemos en la cláusula WHERE es Cod_dpto (+)= Codigo_dep ya que es en la tabla empleados donde aparecerán valores nulos.</p>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id76">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id76-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta76_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b76" class="block iDevice_content">
<p class="MsoNormal"> </p>
<p class="MsoNormal"><strong><span class="destacado" style="font-size: 10pt;">Oracle</span></strong></p>
<p class="MsoNormal"><span style="font-size: 10pt;">Obtener un listado con los nombres de los distintos departamentos y sus jefes con sus datos personales. Ten en cuenta que deben aparecer todos los departamentos aunque no tengan asignado ningún jefe.</span></p>
</div>
<form name="feedback-form-quesFeedback0b76" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b76text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b76" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b76" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="codigo elemento_centrado" style="width: 41.2em;">
<div class="texto_izquierda">
<pre>SELECT D.NOMBRE_DPTO, D.JEFE, E.NOMBRE, E.APELLIDO1, E.APELLIDO2
</pre>
<pre>FROM DEPARTAMENTOS D, EMPLEADOS E
</pre>
<pre>WHERE D.JEFE = E.DNI(+);
</pre>
</div>
</div></div>
</form>
<div id="taquesQuestion1b76" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p><span style="font-size: 10pt;">Obtener un listado con los códigos y nombres de los distintos departamentos y el código, nombre y salario de sus empleados. Ten en cuenta que deben aparecer todos los departamentos aunque no tengan asignados empleados.</span></p>
</div>
<form name="feedback-form-quesFeedback1b76" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback1b76text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback1b76" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback1b76" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div id="taquesFeedback0b76" class="block iDevice_content">
<div class="codigo elemento_centrado" style="width: 41.2em;">
<div class="texto_izquierda">
<pre>SELECT d.cddep, d.nombre, e.cdemp, e.nombre, e.salario, e.cddep
</pre>
<pre>FROM departamento d&lt;br /&gt;LEFT OUTER JOIN  empleado e ON e.cddep=d.cddep;
</pre>
</div>
</div>
</div></div>
</form>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id77">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id77-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-77_60" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion77_60" class="block question iDevice_content">
<strong>Si queremos incluir aquellas filas que no tienen aún correspondencia con la tabla relacionada, tendremos que poner un signo más entre paréntesis:</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_63" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_63">Opción 1</a></label><input type="radio" name="option77_60" id="i77_63" class="exe-radio-option exe-radio-option-0-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_63"><a name="answer-77_63" href="./recopila_files/saved_resource"></a>
<div id="taans77_63" class="block iDevice_content">
Delante del nombre de la tabla en la cláusula FROM.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_173" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_173">Opción 2</a></label><input type="radio" name="option77_60" id="i77_173" class="exe-radio-option exe-radio-option-1-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_173"><a name="answer-77_173" href="./recopila_files/saved_resource"></a>
<div id="taans77_173" class="block iDevice_content">
Delante del nombre del campo que relaciona donde sabemos que hay valores nulos.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_176" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_176">Opción 3</a></label><input type="radio" name="option77_60" id="i77_176" class="exe-radio-option exe-radio-option-2-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_176"><a name="answer-77_176" href="./recopila_files/saved_resource"></a>
<div id="taans77_176" class="block iDevice_content">
Detrás del nombre del campo que relaciona donde sabemos que hay valores nulos.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i77_179" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_179">Opción 4</a></label><input type="radio" name="option77_60" id="i77_179" class="exe-radio-option exe-radio-option-3-4-77_60-multi">
</p>
<div class="iDevice_answer-content" id="answer-77_179"><a name="answer-77_179" href="./recopila_files/saved_resource"></a>
<div id="taans77_179" class="block iDevice_content">
Delante del nombre del campo que relaciona donde sabemos que no hay valores nulos.

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b77_60" class="feedback js-hidden"><a name="sa0b77_60" href="./recopila_files/saved_resource"></a>
<div id="taf77_63" class=" iDevice_content">
Incorrecto, inténtalo de nuevo, en la cláusula FROM se listan las tablas y sus alias.

</div>
</div>
<div id="sa1b77_60" class="feedback js-hidden"><a name="sa1b77_60" href="./recopila_files/saved_resource"></a>
<div id="taf77_173" class=" iDevice_content">
No es correcto, piénsalo bien, delante del nombre del campo indicamos la tabla acompañada de un punto y seguida del nombre del campo.

</div>
</div>
<div id="sa2b77_60" class="feedback js-hidden"><a name="sa2b77_60" href="./recopila_files/saved_resource"></a>
<div id="taf77_176" class=" iDevice_content">
Estupendo, ya has aprendido a realizar composiciones externas.

</div>
</div>
<div id="sa3b77_60" class="feedback js-hidden"><a name="sa3b77_60" href="./recopila_files/saved_resource"></a>
<div id="taf77_179" class=" iDevice_content">
No es cierto, lo siento, debes intentarlo de nuevo.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_63">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa0b77_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_173">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa1b77_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_176">Opción correcta</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa2b77_60">Retroalimentación</a>)</span></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-77_179">Incorrecto</a><span> (<a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#sa3b77_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">8.3.- Composiciones en la versión SQL99.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id78">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id78-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta78_73" class="block iDevice_content">
<p><img alt="Pieza de puzzle verde." class="elemento_derecha" src="./recopila_files/064.png" style="width: 200px; height: 144px;" title="Otras composiciones." height="144" width="200"></p>
<p>Como has visto, SQL incluye en esta versión mejoras de la sintaxis a la hora de crear composiciones en consultas. Recuerda que la sintaxis es la siguiente:</p>
<div class="codigo elemento_centrado" style="width: 50em;">
<div class="texto_izquierda">
<pre>SELECT tabla1.columna1, tabla1.columna2, …, tabla2.columna1, tabla2.columna2, …
</pre>
<pre>FROM tabla1
</pre>
<pre>     [CROSS JOIN tabla2] |
</pre>
<pre>     [NATURAL JOIN tabla2] |
</pre>
<pre>     [JOIN tabla2 USING (columna)] |
</pre>
<pre>     [JOIN tabla2 ON (tabla1.columna=tabla2.columna)] |
</pre>
<pre>     [LEFT | RIGTH | FULL OUTER JOIN tabla2 ON (tabla1.columna=tabla2.columna)];
</pre>
</div>
</div>
<p>CROSS JOIN: creará un producto cartesiano de las filas de ambas tablas por lo que podemos olvidarnos de la cláusula WHERE.</p>
<p>NATURAL JOIN: detecta automáticamente las claves de unión, basándose en el nombre de la columna que coincide en ambas tablas. Por supuesto, se requerirá que las columnas de unión tengan el mismo nombre en cada tabla. Además, esta característica funcionará incluso si no están definidas las claves primarias o ajenas.</p>
<p>JOIN USING: las tablas pueden tener más de un campo para relacionar y no siempre queremos que se relacionen por todos los campos. Esta cláusula permite establecer relaciones indicando qué campo o campos comunes se quieren utilizar para ello.</p>
<p>JOIN ON: se utiliza para unir tablas en la que los nombres de columna no coinciden en ambas tablas o se necesita establecer asociaciones más complicadas.</p>
<p>OUTER JOIN: se puede eliminar el uso del signo (+) para composiciones externas utilizando un OUTER JOIN, de este modo resultará más fácil de entender. (<strong>Oracle)</strong></p>
<p>LEFT OUTER JOIN: es una composición externa izquierda, todas las filas de la tabla de la izquierda se devuelven, aunque no haya ninguna columna correspondiente en las tablas combinadas.</p>
<p>RIGTH OUTER JOIN: es una composición externa derecha, todas las filas de la tabla de la derecha se devuelven, aunque no haya ninguna columna correspondiente en las tablas combinadas.</p>
<p>FULL OUTER JOIN: es una composición externa en la que se devolverán todas las filas de los campos no relacionados de ambas tablas. (<strong>Oracle</strong>)</p>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Podríamos transformar algunas de las consultas con las que hemos estado trabajando:</p>
<p>Veamos un ejemplo, si queremos obtener el nombre y ciudad de los departamentos de los empleados, así como el código, nombre y fecha de ingreso, tendremos que utilizar alias o anteponer el nombre de la tabla a las columnas que se denominen igual en ambas tablas que se combian:</p>
<div class="codigo elemento_centrado" style="width: 39em;">
<div class="texto_izquierda">
<pre>SELECT e.cdemp, e.nombre, e.fecha_ingreso, d.nombre, d.ciudad
</pre>
<pre>FROM empleado e&lt;br /&gt;INNER JOIN departamento d ON e.cddep= d.cddep;
</pre>
</div>
</div>
<p> </p>
<p>Queríamos también, una<span style="font-size: medium;"> consulta para obtener el código y nombre de cada empleado con el nombre de su jefe ¿cómo la redactaríamos ahora?. Observa que habrá que componer o combinar la tabla empleado con ella misma, desde el punto de vista de los empleados y el de los jefes. La consulta quedaría así: </span></p>
<div class="codigo elemento_centrado" style="width: 37.35em;">
<div class="texto_izquierda">
<pre>SELECT e.cdemp, e.nombre, je.nombre
</pre>
<pre>FROM empleado e&lt;br /&gt;INNER JOIN empleado je ON  e.cdjefe = je.cdemp;
</pre>
</div>
</div>
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p>Podríamos transformar algunas de las consultas con las que hemos estado trabajando:</p>
<p>Queríamos obtener  de cada conferencia la referencia, el tema, el nombre de la sala en la que se celebra y la capacidad  Es una consulta de composición interna, luego utilizaremos JOIN ON:</p>
<div class="codigo elemento_centrado" style="width: 44.5em;">
<div class="texto_izquierda">
<pre>SELECT  &lt;code&gt; referencia, tema, nombre, capacidad FROM CONFERENCIA JOIN SALA ON &lt;br /&gt;CONFERENCIA.sala= SALA.nombre;
</pre>
</div>
</div>
<p>Queríamos también, obtener un listado con los nombres de los distintos departamentos y sus jefes con sus datos personales. Ten en cuenta que deben aparecer todos los departamentos aunque no tengan asignado ningún jefe. Aquí estamos ante una composición externa, luego podemos utilizar OUTER JOIN:</p>
<div class="codigo elemento_centrado" style="width: 44.5em;">
<div class="texto_izquierda">
<pre>SELECT  D.NOMBRE_DPTO, D.JEFE, E.NOMBRE, E.APELLIDO1, E.APELLIDO2
</pre>
<pre>FROM DEPARTAMENTOS D LEFT OUTER JOIN EMPLEADOS E ON ( D.JEFE = E.DNI);
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id109">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id109-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta109_69" class="block iDevice_content">
<p class="destacado">Como recomendación, utilizaremos siempre la sintaxis de SQL99, <strong>utilizando JOIN tanto para composiciones internas como para composiciones externas.</strong></p>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id79">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id79-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta79_47" class="block iDevice_content">
<p>
En MySQL también se utilizan las composiciones, aquí puedes verlo:
</p>
<p class="enlace_centrado">
<a href="http://mysql.conclase.net/curso/?cap=012a#MUL_JOIN" title="Acceder a la web de MySQL con Clase." target="_self">Composiciones.</a>
</p>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">9.- Otras consultas multitablas: Unión, Intersección y diferencia de consultas.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id80">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id80-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta80_66" class="block iDevice_content">
<img alt="Ana" class="elemento_derecha" height="132" src="./recopila_files/BD04_CONT_R01_CASO_PERSONAJES.jpg" style="width: 200px; height: 132px" title="Ana" width="200">
<p>
Ana le cuenta a Carlos que ya tienen terminado casi todo el trabajo, pero que no le importa enseñarle otros tipos de consultas que no han necesitado utilizar en esta ocasión pero que es conveniente conocer, se refiere al uso de uniones, intersecciones y diferencia de consultas. Le explicará que es muy parecido a la teoría de conjuntos que recordará de haber terminado hace poco sus estudios.
</p>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id81">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id81-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta81_73" class="block iDevice_content">
<img alt="Cubo creado con unión de distintas piezas." class="elemento_derecha" height="160" src="./recopila_files/SKD284234SDC.png" style="width: 160px; height: 160px" title="Cubo." width="160">
<p>
Seguro que cuando empieces a trabajar con bases de datos llegará un momento en que dispongas de varias tablas con los mismos datos  guardados para distintos registros y quieras unirla en una única tabla. ¿Esto se puede hacer? Es una operación muy común junto a otras. Al fin y al cabo, una consulta da como resultado un conjunto de filas y con conjuntos podemos hacer entre otras, tres tipos de operaciones comunes como son: unión, intersección y diferencia.
</p>
<p>
UNION:  combina las filas de un primer SELECT con las filas de otro SELECT, desapareciendo las filas duplicadas.
</p>
<p>
INTERSECT: examina las filas de dos SELECT y devolverá aquellas que aparezcan en ambos conjuntos. Las filas duplicadas se eliminarán.
</p>
<p>
MINUS: devuelve aquellas filas que están en el primer SELECT pero no en el segundo. Las filas duplicadas del primer SELECT se reducirán a una antes de comenzar la comparación.
</p>
<p>
Para estas tres operaciones es muy <strong>importante</strong> que utilices en los dos SELECT el <strong>mismo número</strong> y tipo de <strong>columnas</strong> y en el <strong>mismo orden</strong>.
</p>
<p>
Estas operaciones se pueden combinar anidadas, pero es conveniente utilizar paréntesis para indicar que operación quieres que se haga primero.
</p>
<p>
Veamos un ejemplo de cada una de ellas.
</p>
<p>
<strong>UNIÓN: Obtener los nombres y ciudades de todos los proveedores y clientes de Alemania.</strong>
</p>
<div class="codigo elemento_centrado" style="width: 42.85em">
<div class="texto_izquierda">
<pre>SELECT NombreCia, Ciudad FROM  PROVEEDORES WHERE Pais = 'Alemania' 
</pre>
<pre>UNION 
</pre>
<pre>SELECT NombreCia, Ciudad  FROM CLIENTES WHERE Pais = 'Alemania';
</pre>
</div>
</div>
<p>
<strong>INTERSECCIÓN: Una academia de idiomas da clases de inglés, frances y portugues; almacena los datos de los alumnos en tres tablas distintas una llamada "ingles", en una tabla denominada "frances" y los que aprenden portugues en la tabla "portugues". La academia necesita el nombre y domicilio de todos los alumnos que cursan los tres idiomas para enviarles iformación sobre los exámenes.</strong>
</p>
<div class="codigo elemento_centrado" style="width: 31.85em">
<div class="texto_izquierda">
<pre>SELECT nombre, domicilio FROM ingles INTERSECT
</pre>
<pre>SELECT nombre, domicilio FROM frances INTERSECT
</pre>
<pre>SELECT nombre, domicilio FROM portugues;
</pre>
</div>
</div>
<p>
<strong>DIFERENCIA: Ahora la academia necesita el nombre y domicilio solo de todos los alumnos que cursan  inglés (no quiere a los que ya cursan portugués  pues va a enviar publicidad referente al curso de portugués).</strong>
</p>
<div class="codigo elemento_centrado" style="width: 27.45em">
<div class="texto_izquierda">
<pre>SELECT nombre, domicilio FROM INGLES
</pre>
<pre>MINUS 
</pre>
<pre>SELECT nombre,domicilio FROM PORTUGUES;
</pre>
</div>
</div>

</div>
</div>
</div>
<div class="iDevice_wrapper SeleccionmultiplefpdIdevice em_iDevice" id="id82">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id82-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<div id="actitity-82_55">
<form name="multi-select-form-82_55" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form multi-select-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion82_55" class="block question iDevice_content">
<strong>¿Cuáles de las siguientes afirmaciones son correctas?</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_550" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_58">Opción 1</a></label><input type="checkbox" id="op82_550" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_58"><a name="answer-82_58" href="./recopila_files/saved_resource"></a>
<div id="taans82_58" class="block iDevice_content">
La unión combina las filas de un primer SELECT con las filas de otro SELECT, desapareciendo las filas duplicadas. 

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-82_550" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_551" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_185">Opción 2</a></label><input type="checkbox" id="op82_551" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_185"><a name="answer-82_185" href="./recopila_files/saved_resource"></a>
<div id="taans82_185" class="block iDevice_content">
La diferencia devuelve aquellas filas que están en el primer SELECT pero no en el segundo. Correcta.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-82_551" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_552" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_187">Opción 3</a></label><input type="checkbox" id="op82_552" value="True">
</p>
<div class="iDevice_answer-content" id="answer-82_187"><a name="answer-82_187" href="./recopila_files/saved_resource"></a>
<div id="taans82_187" class="block iDevice_content">
La intersección examina las filas de un SELECT y de otro y devolverá aquellas que aparezcan en ambos conjuntos.

</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-82_552" style="display:none"></div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="op82_553" class="sr-av"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_189">Opción 4</a></label><input type="checkbox" id="op82_553" value="False">
</p>
<div class="iDevice_answer-content" id="answer-82_189"><a name="answer-82_189" href="./recopila_files/saved_resource"></a>
<div id="taans82_189" class="block iDevice_content">
<p>En uniones, intersecciones y diferencias, los dos SELECT deben tener el mismo número pero no tienen por qué tener el mismo tipo de columnas.</p>
</div>
</div>
<div class="iDevice_answer-feedback feedback" id="feedback-82_553" style="display:none"></div>
</div>
</div>
<div class="block iDevice_buttons feedback-button js-required">
<p>
<input type="button" name="submitSelect" class="feedbackbutton multi-select-feedback-toggler" value="Mostrar retroalimentación" id="multi-select-feedback-toggler-4-82_55"> 
</p>
</div>
<div id="f82_55" class="js-hidden js-feedback" role="status">
<h4 class="js-sr-av">Retroalimentación</h4>

<div id="tafeedback82_55" class="feedback iDevice_content">
<p><span>En uniones, intersecciones y diferencias,&nbsp;es muy importante que utilices en los dos SELECT el mismo número y tipo de columnas y en el mismo orden.</span></p>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_58" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_185" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_187" class="right">Correcto</a></li>
<li><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/#answer-82_189" class="wrong">Incorrecto</a></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">10.- Subconsultas.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id83">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id83-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta83_66" class="block iDevice_content">
<img alt="Dos ejecutivas analizando un informe que una de ellas sostiene." class="elemento_derecha" height="144" src="./recopila_files/57432025.png" style="width: 200px; height: 144px" title="Reunidas." width="200">
<p>
— ¿Es posible consultar dentro de otra consulta? — pregunta <strong>Carlos</strong>.
</p>
<p>
Ha estado pensando que a veces va a necesitar filtrar los datos en función de un resultado que a priori desconoce. <strong>Ana</strong> se pone manos a la obra porque ve que ha llegado el momento de explicarle a <strong>Carlos</strong> las subconsultas.
</p>

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id84">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id84-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta84_73" class="block iDevice_content">
<p>A veces tendrás que utilizar en una consulta los resultados de otra que llamaremos <strong>subconsulta</strong>. La sintaxis es:</p>
<div class="codigo elemento_centrado" style="width: 19.75em;">
<div class="texto_izquierda">
<pre>SELECT listaExpr</pre>
<pre>FROM tabla</pre>
<pre>WHERE expresión OPERADOR </pre>
<pre>     ( SELECT listaExpr</pre>
<pre>     FROM tabla);</pre>
</div>
</div>
<p>La subconsulta puede ir dentro de las cláusulas WHERE, <code>HAVING</code> o FROM.</p>
<p>El <strong>OPERADOR</strong> puede ser &gt;, &lt;, &gt;=, &lt;=, !=, <code>=</code> o IN. Las subconsultas que se utilizan con estos operadores devuelven un único valor, si la subconsulta devolviera más de un valor devolvería un error.</p>
<p>Como puedes ver en la sintaxis, las subconsultas deben ir entre paréntesis y a la derecha del operador.</p>
<p>&nbsp;</p>
<p><strong class="destacado">MySQL</strong></p>
<p>Pongamos un ejemplo:</p>
<div class="codigo elemento_centrado" style="width: 27.45em;">
<div class="texto_izquierda">
<pre>SELECT nombre, salario</pre>
<pre>FROM empleado</pre>
<pre>WHERE salario &lt; </pre>
<pre>     (SELECT salario FROM empleado     </pre>
<pre>     WHERE nombre = 'Esperanza Amarillo');</pre>
</div>
</div>
<p>Obtendríamos el nombre de los empleados y el sueldo de aquellos que cobran menos que Esperanza Amarillo.</p>
<p>&nbsp;</p>
<p><strong class="destacado">Oracle</strong></p>
<div class="codigo elemento_centrado" style="width: 27.45em;">
<div class="texto_izquierda">
<pre>SELECT nombre, apellido1, apellido2 FROM &lt;br /&gt;asistente WHERE fechanac &gt;= (SELECT fechanac &lt;br /&gt;FROM asistente WHERE nombre='Felipe' AND &lt;br /&gt;apellido1='Martín' AND apellido2='Comillas');&lt;br /&gt;&lt;br /&gt;</pre>
</div>
</div>
<p>Obtendríamos el nombre de los asistentes mayores que 'Felipe Martín Comillas'</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Los tipos de datos que devuelve la subconsulta y la columna con la que se compara ha de ser el mismo.</p>
<p>¿Qué hacemos si queremos comparar un valor con varios, es decir, si queremos que la subconsulta devuelva más de un valor y comparar el campo que tenemos con dichos valores? Imagina que queremos ver si el sueldo de un empleado que es administrativo es mayor o igual que el sueldo medio de otros puestos en la empresa. Para saberlo deberíamos calcular el sueldo medio de las demás ocupaciones que tiene la empresa y éstos compararlos con la de nuestro empleado. Como ves, el resultado de la subconsulta es más de una fila. ¿Qué hacemos?</p>
<p>Cuando el resultado de la subconsulta es más de una fila, SQL utiliza <strong>instrucciones especiales</strong> entre el operador y la consulta. Estas instrucciones son:</p>
<ul class="lista_verificacion">
<li>ANY. Compara con cualquier fila de la consulta. La instrucción es válida si hay un registro en la subconsulta que permite que la comparación sea cierta.</li>
<li>ALL. Compara con todas las filas de la consulta. La instrucción resultará cierta si es cierta toda la comparación con los registros de la subconsulta.</li>
<li>IN. No utiliza comparador, lo que hace es comprobar si el valor se encuentra en el resultado de la subconsulta.</li>
<li>NOT IN. Comprueba si un valor no se encuentra en una subconsulta.</li>
</ul>
<p><strong class="destacado">MySQL</strong></p>
<p>&nbsp;</p>
<p>En la siguiente consulta obtenemos el empleado que menos cobra:</p>
<div class="codigo elemento_centrado" style="width: 36.25em;">
<div class="texto_izquierda">
<pre>SELECT nombre, salario</pre>
<pre>FROM empleado</pre>
<pre>WHERE salario &lt;= ALL (SELECT salario FROM empleado); </pre>
</div>
</div>
<p>&nbsp;</p>
<p><strong class="destacado">Oracle</strong></p>
<p>En la siguiente consulta obtenemos el nombre del asistente más joven:</p>
<div class="codigo elemento_centrado" style="width: 36.25em;">
<div class="texto_izquierda">
<pre>SELECT nombre</pre>
<pre>FROM asistente</pre>
<pre>WHERE fechanac &lt;= ALL (SELECT fechanac FROM asistente); </pre>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ClozefpdIdevice em_iDevice" id="id85">
<div class="iDevice emphasis_autoevaluacionfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_autoevaluacionfpd.gif)"><h2 class="iDeviceTitle">Autoevaluación</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id85-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta85_41" class="block instructions iDevice_content">
<strong>Relaciona cada instrucción con su función:</strong>

</div>
<div class="activity" id="activity-85_42">
<form name="cloze-form-85_42" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" class="activity-form cloze-activity-form">
<div id="cloze85_42">
<input type="hidden" name="clozeFlag85_42.strictMarking" id="clozeFlag85_42.strictMarking" value="false">

<input type="hidden" name="clozeFlag85_42.checkCaps" id="clozeFlag85_42.checkCaps" value="false">

<input type="hidden" name="clozeFlag85_42.instantMarking" id="clozeFlag85_42.instantMarking" value="false">

<input type="hidden" name="clozeVar85_42.feedbackId" id="clozeVar85_42.feedbackId" value="ta85_43">

<table class="tabla" summary="Tabla en la que se debe relacionar cada instrucción son su función en las subconsultas.">
	<caption>Ejercicio de relacionar</caption>
	<tbody>
		<tr>
			        	
			<th scope="col">Instrucción.</th>
			<th scope="col">Relación.</th>
			<th scope="col">Función.</th>
		</tr>
		<tr>
			        
			<td>ANY</td>
			<td class="texto_centrado"> 
<label for="clozeBlank85_42.0" class="sr-av">Rellenar huecos (1):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.0" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.0">JXUwMDY5
</span>
 </td>
			<td>1. Compara con cualquier fila de la consulta.</td>
		</tr>
		<tr>
			        
			<td>ALL</td>
			<td class="texto_centrado"> 
<label for="clozeBlank85_42.1" class="sr-av">Rellenar huecos (2):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.1" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.1">JXUwMDZi
</span>
 </td>
			<td>2. Comprueba si el valor se encuentra en el resultado de la subconsulta.</td>
		</tr>
		<tr>
			        
			<td>IN</td>
			<td class="texto_centrado"> 
<label for="clozeBlank85_42.2" class="sr-av">Rellenar huecos (3):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.2" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.2">JXUwMDZh
</span>
 </td>
			<td>3. Compara con todas las filas de la consulta.</td>
		</tr>
		<tr>
			        
			<td>OT IN</td>
			<td class="texto_centrado"> 
<label for="clozeBlank85_42.3" class="sr-av">Rellenar huecos (4):</label>
<input class="autocomplete-off" type="text" value="" id="clozeBlank85_42.3" style="width:1em" autocomplete="off">
<span style="display:none" id="clozeAnswer85_42.3">JXUwMDZj
</span>
 </td>
			<td>4. Comprueba si un valor no se encuentra en una subconsulta.</td>
		</tr>
	</tbody>
</table>

<div class="block iDevice_buttons">
<p>
<input class="button" type="submit" name="submit85_42" value="Enviar" id="submit85_42">

<input type="button" name="restart85_42" value="Reiniciar" style="display:none" id="restart85_42" onclick="$exe.cloze.restart(&#39;85_42&#39;)">

 
<input type="button" name="85_42showAnswersButton" value="Mostrar las respuestas" style="display:none" id="showAnswersButton85_42" onclick="$exe.cloze.fillInputs(&#39;85_42&#39;)">

<span class="js-hidden js-warning">Habilitar JavaScript</span>
</p>
</div>
<div id="clozeScore85_42"></div>
</div>
</form>
</div><div id="ta85_43" class="feedback js-feedback iDevice_content" style="display:none" role="status">
Recuerda que estas instrucciones se utilizan en subconsultas que devuelven más de una fila.

</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id124">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id124-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta124_128" class="block iDevice_content">
<p><span>¿Quieres más ejemplos con los que practicar?</span></p>
<p></p>
<p><span>1.&nbsp;<strong>Obtener el nombre, descripción y precio de aquellas rutas que superen o igualen el precio medio de todas las rutas.&nbsp;</strong></span></p>
<p class="western"><span><strong>&nbsp; &nbsp; &nbsp;Solución :</strong></span></p>
<div class="codigo elemento_centrado" style="width: 22.75em;">
<div class="texto_izquierda">
<pre>SELECT nombre,&nbsp;descripción,&nbsp;precio</pre>
<pre>FROM ruta</pre>
<pre>WHERE &lt;span&gt;precio&gt;= (SELECT AVG(precio) FROM ruta)&lt;/span&gt;;</pre>
</div>
</div>
<p class="western"><span></span></p>
<p class="western"><span>2.&nbsp;<strong>Obtener un listado con los campos nombre y DNI de los empleados que no han ido a un restaurante.</strong></span></p>
<p class="western"><span><strong>&nbsp; &nbsp; &nbsp;Solución :</strong></span></p>
<div class="codigo elemento_centrado" style="width: 25.75em;">
<div class="texto_izquierda">
<pre>SELECT DNI, nombre</pre>
<pre>FROM empleado</pre>
<pre>WHERE &lt;span&gt;DNI NOT IN (SELECT empleado &lt;br /&gt;FROM restaurante);&lt;/span&gt;</pre>
</div>
</div>
<p class="western"><span><span lang="en-US">3.&nbsp;</span><strong>Obtener los campos ISBN&nbsp;, título y número&nbsp;de páginas de los libros que superan el valor medio del precio de&nbsp;todos los libros publicado</strong></span></p>
<p class="western"><span><strong>&nbsp; &nbsp; &nbsp;Solución :</strong></span></p>
<div class="codigo elemento_centrado" style="width: 30.75em;">
<div class="texto_izquierda">
<pre>SELECT l.isbn, l.título,l.npaginas</pre>
<pre>FROM libro l, publica p</pre>
<pre>WHERE &lt;span&gt;l.isbn= p.isbn&nbsp;and precio &gt; (SELECT avg(precio) FROM publica);&lt;/span&gt;</pre>
</div>
</div>
<p class="enlace_centrado"><a href="http://superalumnos.net/ejercicios_resueltos_de_sql" onclick="browseURL(this); return false" title="Acceder a un documento con ejercicios resueltos." target="_self">Ejercicios SQL.</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">11.- Realizando un repaso mediante un ejemplo práctico.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id111">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id111-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta111_147" class="block iDevice_content">
<p><strong>Ana</strong> y <strong>Juan</strong> ya han visto todo lo que se puede hacer con el lenguaje SQL pero <strong>Ada</strong> les ha pasado un ejemplo más con otra Base de Datos en la que se les explica mediante algunos videotutoriales algunos conceptos que ya conocen y les sirve para repasar.</p>
<p>La BD <strong>TRUEKASA</strong> trata sobre intercambios o trueques que realizan los diferentes usuarios de la aplicación con respecto a incidencias que se producen en las&nbsp; viviendas (fontanería, albañilería, pintura, etc.). Dichas incidencias las abren y reparan los propios usuarios y hay unos técnicos que las aprueban. Se adjunta a continuación el script que puedes descargar para practicar:</p>
<p style="text-align: center;"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/scriptBDTRUEKASA.zip" target="_blank" class="paquete" title="[zip - 1.84 KB]" rel="noopener">Script de la BD Truekasa</a><span class="exe-link-data file-size"> (zip - 1.84 <abbr title="KiloBytes" lang="en">KB</abbr>)</span>.</p>
<p>El diagrama Entidad-Relación es el siguiente:</p>
<p><a href="./recopila_files/ER_tarea4BD_1920.jpeg" target="_blank" rel="noopener"><img src="./recopila_files/ER_tarea4BD_1920.jpeg" alt="DiagramaER Truekasa" title="Ampliar la imagen del Diagrama ER Truekasa" class="imagen_ampliable" style="display: block; margin-left: auto; margin-right: auto;" width="600" height="383"></a></p>
<p></p>
<p>Y el modelo relacional resultante sería:</p>
<p><a href="./recopila_files/ModeloRelacionalTruekasa.JPG"><img src="./recopila_files/ModeloRelacionalTruekasa.JPG" alt="Modelo Relacional Truekasa" title="Ampliar la imagen Modelo Relacional Truekasa" class="imagen_ampliable" style="display: block; margin-left: auto; margin-right: auto;" width="800" height="217"></a></p>
<p></p>
<p></p>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id112">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id112-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta112_154" class="block iDevice_content">
<p>Para comenzar el repaso se puede visualizar en el siguiente videotutorial en qué consiste la BD TRUEKASA y repasar los conceptos básicos aprendidos en esta unidad utilizando SQL para realizar alguna consulta utilizando diferentes cláusulas.</p>
<div class="exe-figure exe-media position-center license-pd" style="width: 560px;">
<div class="figcaption header"><strong>Introducción a la BD ejemplo y conceptos básicos SQL</strong></div>
<span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/fS2cuJjXIeQ">http://www.youtube.com/embed/fS2cuJjXIeQ</a></span><iframe width="560" height="315" src="./recopila_files/fS2cuJjXIeQ.html" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Víctor Gil</span> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></div>
</div>
<p>A continuación se puede ver cómo realizar varias consultas sencillas utilizando diferentes partes de la sentencia SELECT.</p>
<div class="exe-figure exe-media position-center license-pd" style="width: 560px;">
<div class="figcaption header"><strong>Realizando consultas básicas</strong></div>
<span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/JlcdCuKQG8M">http://www.youtube.com/embed/JlcdCuKQG8M</a></span><iframe width="560" height="315" src="./recopila_files/JlcdCuKQG8M.html" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Víctor Gil</span> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></div>
</div>
<p>En el siguiente videotutorial se explica la diferencia de sintaxis entre el uso del WHERE y el JOIN para unir tablas y se realizan algunas consultas utilizando varias tablas. También se realiza algún ejemplo de consulta que utiliza subconsultas. Es muy necesario e imprescindible saber utilizar bien las consultas multitablas uniéndolas correctamente y siempre utilizando las tablas estrictamente necesarias así como también utilizar en alguna ocasión alguna subconsulta dentro de la consulta principal.</p>
<div class="exe-figure exe-media position-center license-pd" style="width: 560px;">
<div class="figcaption header"><strong>Consultas multitablas y uso de subconsultas</strong></div>
<span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/JJkeETZkRRI">http://www.youtube.com/embed/JJkeETZkRRI</a></span><iframe width="560" height="315" src="./recopila_files/JJkeETZkRRI.html" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Víctor Gil</span> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></div>
</div>
<p>Seguimos repasando viendo en el siguiente videotutorial una consulta más compleja utilizando las cláusulas de agrupamiento GROUP BY y la cláusula HAVING para filtrar o poner condiciones a esos grupos.</p>
<div class="exe-figure exe-media position-center license-pd" style="width: 560px;">
<div class="figcaption header"><strong>Uso del HAVING en consultas con agrupaciones.</strong></div>
<span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/s_3VxgcDQpI">http://www.youtube.com/embed/s_3VxgcDQpI</a></span><iframe width="560" height="315" src="./recopila_files/s_3VxgcDQpI.html" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Víctor Gil</span> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></div>
</div>
<p>Para continuar veremos en este videotutorial cómo utlizar funciones en una sentencia de consultas. Éstas son muy útiles pues nos devuelven y facilitan muchas operaciones que se deben realizar con los datos de una BD. Dependiendo del SGBD utilizado siempre es aconsejable consultar las referencias oficiales para su correcta utilización. En este caso al estar utilizando MySQL se consultan la referencia apropiada para utilización de los distintos tipos de funciones (numéricas, fechas, etc.)</p>
<div class="exe-figure exe-media position-center license-pd" style="width: 560px;">
<div class="figcaption header"><strong>Utilizando funciones en las sentencias</strong></div>
<span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/0PPiCoeMZ5o">http://www.youtube.com/embed/0PPiCoeMZ5o</a></span><iframe width="560" height="315" src="./recopila_files/0PPiCoeMZ5o.html" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Víctor Gil</span> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></div>
</div>
<p>Y por último en este videotutorial se ve un ejemplo claro de la utilización de las dos relaciones que hay entre las mismas dos tablas. Si nos fijamos, los usuarios pueden tener dos roles diferentes: como clientes cuando abren incidencias y como reparadores cuando arreglan una incidencia. Por tanto, para poder utilizar y realizar consultas multitablas enlazándolas por las claves adecuadas es importante conocer qué información debemos tratar en cada caso, tanto en la cláusula SELECT como en las posibles condiciones en el WHERE y por supuesto enlazar tantas veces como sean necesarias las tablas que utilizamos.</p>
<div class="exe-figure exe-media position-center license-pd" style="width: 560px;">
<div class="figcaption header"><strong>Utilizando la doble relación entre dos tablas</strong></div>
<span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/SFVu-0AqpG8">http://www.youtube.com/embed/SFVu-0AqpG8</a></span><iframe width="560" height="315" src="./recopila_files/SFVu-0AqpG8.html" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Víctor Gil</span> <span class="license"><span class="sep">(</span><span>Dominio público</span><span class="sep">)</span></span></div>
</div>
<p></p>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">11.1.- Caso práctico 1.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id114">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id114-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta114_147" class="block iDevice_content">
<p>María y&nbsp;Luis ya han visto todo lo que se puede hacer con el lenguaje SQL, pero Víctor les ha pasado un ejemplo más con otra Base de Datos en la que se les explica mediante algunos videotutoriales, conceptos que ya conocen y les sirve para repasar.</p>
<p>La BD CAMPEONATO UNIVERSITARIO trata el campeonato de atletismo en las distintas universidades. Para el manejo de la información, se necesitan realizar una serie de consultas al respecto indicadas a continuación.</p>
<p>Para poder realizarlas, se adjunta a continuación el script que puedes descargar para practicar:</p>
<p style="text-align: center;"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/Script_CampeonatoAtletismo.zip" target="_blank" title="Recurso Script campeonato Atletismo" rel="noopener">Script Campeonato de Atletismo.zip</a></p>
<p>Diagrama Entidad-Relación :</p>
<div class="exe-figure exe-image position-center license-CC-BY-NC-SA" style="width: 768px;"><a href="./recopila_files/E-R_ATLETISMO.PNG" target="_blank" rel="lightbox noopener" title="Recurso Entidad-Relación"><img src="./recopila_files/E-R_ATLETISMO.PNG" alt="Diagrama E-R atletismo" title="Diagrama E-R atletismo" width="768" height="458"></a>
<div class="figcaption"><span class="author">Elaboración propia</span>. <span class="title"><em>Diagrama E-R Atletismo</em></span> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p>Modelo relacional:</p>
<div class="exe-figure exe-image position-center license-CC-BY-NC-SA" style="width: 848px;"><a href="./recopila_files/MODELORELACIONAL_ATLETISMO.PNG" target="_blank" rel="lightbox noopener" title="Recurso modelo relacional"><img src="./recopila_files/MODELORELACIONAL_ATLETISMO.PNG" alt="Modelo Relacional Atletismo" title="Modelo Relacional Atletismo" width="848" height="442"></a>
<div class="figcaption"><span class="author">Elaboración propia</span>. <span class="title"><em>Modelo Relacional Atletismo</em></span> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id126">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id126-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta126_148" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b126" class="block iDevice_content">
<p><strong>Realiza las siguientes consultas:</strong></p>
<p></p>
<p>1.- Obtener todos los entrenadores junto a las universidades a la que pertenecen ordenado alfabéticamente por el código de la universidad.</p>
<p>2.- Obtener un listado de todas las pruebas que incluya el código, la distancia, si tiene o no obstáculos, la categoría y la fecha en la que se celebra con el formato siguiente (Ej:1 February 2017). Ordena el listado por la fecha obteniendo en primer lugar las que se celebran antes.</p>
<p>3.- Obtener por cada universidad, sus siglas y el número de atletas que pertenecen a cada una de ellas ordenando el listado de mayor cantidadde atletas a menor.</p>
<p>4.- Obtener el nombre y apellidos de los atletas junto al nombre de la universidad a la que pertenece de todos aquellos atletas de la comunidad andaluza.</p>
<p>5.- Obtener un listado de los atletas que han hecho podio (posiciones 1, 2 y 3) en todas las pruebas celebradas. El listado debe incluir el código de la prueba, el nombre y apellidos del atleta y la posición que en la que ha terminado. Hay que ordenarlo primero por cada prueba y después por la posición en la que han quedado en cada una de las pruebas del primero al tercero.</p>
<p>6.- Obtener la distancia de cada prueba junto a la cantidad de atletas que compiten en cada una de esas distancias (independientemente de la categoría) ordenado por la distancia de mayor a menor.</p>
<p>7.- Obtener por cada prueba celebrada su código, el dorsal y marca personal del atleta que ha terminado en primera posición, el record universitario de cada prueba y la diferencia entre la marca personal del ganador o ganadora con respecto al record universitario.</p>
<p>8.- Obtener para cada universidad sus siglas y la suma total de los puntos <br>acumulados por sus atletas mostrando en primer lugar las universidades <br>que más puntos acumulados tengan.</p>
<p>9.- Obtener el nombre y apellidos de aquellos atletas que no han finalizado la prueba cuya distancia es 3000 metros y la categoría es M o F. Ordena el listado alfabéticamente por apellidos. (NOTA: Si no han finalizado la prueba no tienen registro en marca personal)</p>
<p>10.- Obtener los nombres y apellidos junto a las edades que tienen a fecha de hoy cada uno de los atletas que pertenecen a una universidad cuya provincia comienza por "A". En el listado que se muestre debes añadir a cada valor de la edad la palabra "años".</p>
<p>11.- Obtener el nombre de la universidad y la cantidad de victorias que llevan los atletas que pertenecen a cada una de ellas ordenando el listado por la universidad que más victorias lleva hasta la que menos.</p>
<p>12.- Obtener el dorsal y el nombre y apellidos en el mismo campo de aquellos atletas que han subido al podio en al menos dos ocasiones o más en las distintas pruebas en las que han competido. Ordenar el listado de mayor a menor veces que han subido al podio.</p>
<p>13.- Obtener un listado con dos registros donde aparezca en el primero de ellos el nombre y apellidos junto al nombre de la universidad a la que pertenece el atleta más joven del campeonato y en el segundo registro del listado los mismos campos del atleta más veterano del campeonato.</p>
<p>14.- Obtener un listado con el nombre de las universidades que no tienen ningún atleta compitiendo en la prueba de distancia 400 metros con vallas (obstáculos) y categoría femenino.</p>
<p>15.- Obtener el nombre y apellidos de los atletas masculinos que compiten en todas las pruebas de su categoría.</p>
<p>16.- Obtener un listado con los nombres y apellidos de cada atleta junto a los puntos conseguidos en todas las pruebas que haya competido siempre y cuando los puntos conseguidos sea mayor que la media de todos los puntos repartidos. Ordena el listado de mayor a menor puntos conseguidos.</p>
<p></p>
</div>
<form name="feedback-form-quesFeedback0b126" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b126text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b126" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b126" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<p><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/Ejercicio_Resuelto_Consultas._Campeonato_Atletismo.pdf" target="_blank" title="Recurso Solución Atletismo" rel="noopener">Descarga Solución</a></p></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">11.2.- Caso práctico 2.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id117">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id117-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta117_147" class="block iDevice_content">
<p>Patricio&nbsp;es el gerente de la empresa&nbsp;ALMERIADVENTURE. Esta empresa es de nueva creación y su principal línea de negocio es gestionar diferentes excursiones a través de distintas rutas que tienen creadas en la provincia de Almería. Para ello ha recurrido a la empresa de&nbsp;Ada&nbsp;para que le puedan diseñar la base de datos que pueda almacenar toda la información necesaria para su gestión.</p>
<p>Ada&nbsp;se lo ha comentado al resto del equipo y todos están de acuerdo en realizar la base datos.&nbsp;Por lo tanto Ana va a realizar la base de datos.&nbsp;Como miembro del equipo de trabajo de&nbsp;Ana, estás trabajando directamente con la base de datos. Para el manejo de la información, se necesitan crear una serie de consultas al respecto indicadas a continuación.<br style="clear: both;"><br style="clear: both;">Para poder realizarlas, se adjunta a continuación el script que puedes descargar para practicar:</p>
<p style="text-align: center;"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/Script_excursiones.zip" target="_blank" title="Recurso Script Excursiones." rel="noopener">Script Campeonato de Excursiones.zip</a></p>
<p>Diagrama Entidad-Relación :</p>
<div class="exe-figure exe-image position-center license-CC-BY-NC-SA" style="width: 650px;"><a href="./recopila_files/Entidad-Relacion.PNG" target="_blank" rel="lightbox noopener" title="Recurso Entidad-Relación"><img src="./recopila_files/Entidad-Relacion.PNG" alt="Diagrama E-R" title="Diagrama E-R" width="650" height="363"></a>
<div class="figcaption"><span class="author">Elaboración propia</span>. <span class="title"><em>Diagrama E-R</em></span> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p><br><br></p>
<p>Modelo Relacional:</p>
<div class="exe-figure exe-image position-center license-CC-BY-NC-SA" style="width: 600px;"><a href="./recopila_files/modelo_relacional.PNG" target="_blank" rel="lightbox noopener" title="Recurso Modelo Relacional"><img src="./recopila_files/modelo_relacional.PNG" alt="Modelo Relacional" title="Modelo Relacional" width="600" height="535"></a>
<div class="figcaption"><span class="author">Elaboración propia</span>. <span class="title"><em>Modelo Relacional</em></span> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id127">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id127-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta127_148" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b127" class="block iDevice_content">
<p><strong>Realiza las siguientes consultas:</strong></p>
<p>1.- Obtener un listado de todas las rutas.</p>
<p>2.- Obtener el código de excursión, nombre, dni del empleado y número de plazas de las excursiones que se realizaron en el mes de Febrero de 2020.</p>
<p>3.- Obtener todos los datos de los empleados mayores de 40 años y con un salario superior a 1100 euros.</p>
<p>4.- Obtener el nombre y descripción de las rutas de tipo ‘Medias’ y con un precio mayor a 30 euros.<strong></strong></p>
<p>5.- Obtener un listado con el nombre y apellidos de todos los usuarios que hayan participado en la excursión con código ‘EX005’.&nbsp;</p>
<p>6.-&nbsp;Obtener por cada uno de los recursos almacenados, su nombre y el número total de rutas en las que se utiliza cada uno. En el listado debe aparecer todos los recursos incluso si alguno/s no se utilizan en ninguna ruta almacenada en ese momento.</p>
<p>7.- Obtener por cada ruta, el nombre, descripción y el número de excursiones que se ha realizado para esa ruta ordenadas de mayor a menor por número de excursiones.</p>
<p>8.- Obtener por cada mes (con el formato de nombre y no de número ej. Noviembre), la cantidad de excursiones realizadas ordenadas por número de excursiones de mayor a menor.</p>
<p>9.- Obtener un listado con el código de ruta y nombre de las rutas en el mismo campo y anteponiendo el código al nombre de la siguiente forma (ej; 01 . Cabo de Gata ) de las rutas que sean ‘difíciles’ ó ‘extremas’ y cuyo precio sea superior a 25 euros, ordenados por código de ruta.</p>
<p>10.- Obtener el nombre, descripción y precio de aquellas rutas que superen o igualen el precio medio de todas las rutas. Ordenar de mayor a menor precio.</p>
<p>11.- Obtener un listado con el nombre y DNI de los empleados que no han realizado nunca ninguna excursión.</p>
<p>12.- Obtener un listado con el nombre de todas las excursiones en las que se haya utilizado como recurso ‘caballos’.</p>
<p>13.- Obtener por cada empleado el tiempo medio de duración de las excursiones que ha realizado.</p>
<p>14.- Obtener por cada excursión, el código, nombre, número de participantes y el importe total de las reservas.</p>
<p>15.- Obtener el código, nombre y precio de la ruta más barata y la más cara.</p>
<p>16.- Obtener un listado de excursiones (código, nombre y número de usuarios) en las que hayan participado más de 5 usuarios y el precio de la ruta asociada a la excursión sea superior a 20 euros. Ordenar por el número de usuarios de mayor a menor.</p>
<p>17.- Mostrar un listado de los empleados que han realizado dos o más excursiones en las que hayan participado más de 8 usuarios.</p>
<p>18.- Mostrar un listado de los usuarios (código, nombre y apellidos) que hayan participado en dos o más excursiones en las que se haya utilizado como recurso ‘quads’.</p>
</div>
<form name="feedback-form-quesFeedback0b127" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b127text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b127" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b127" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="exe-figure exe-media position-center license-CC-BY-NC-SA" style="width: 560px;"><span class="external-iframe-src" style="display:none"><a href="http://www.youtube.com/embed/HzE-ZJSn3Vo">http://www.youtube.com/embed/HzE-ZJSn3Vo</a></span><iframe width="560" height="314" src="./recopila_files/HzE-ZJSn3Vo.html" allowfullscreen="" class="external-iframe"></iframe>
<div class="figcaption"><span class="author">Elaboración propia</span>. <a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/index_video11_2_descripcion.html" target="_blank" rel="noopener">Pasos para realizar el caso práctico</a>&nbsp;<span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p><br><br></p>
<p><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/Solucion_Excursiones.pdf" target="_blank" rel="noopener">Descargar Solución</a></p></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">11.3.- Caso práctico 3.</h1></div></div>
<div class="iDevice_wrapper CasopracticofpdIdevice em_iDevice" id="id119">
<div class="iDevice emphasis_casopracticofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_casopracticofpd.png)"><h2 class="iDeviceTitle">Caso práctico</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id119-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta119_147" class="block iDevice_content">
<p><span>Un amigo de&nbsp;</span><strong>Ana</strong><span>&nbsp;es dueño de la hamburguesería "BURGUER PREMIUMS". Lleva con ella varios años y le funciona muy bien, de tal manera que año tras año aumenta el número de pedidos tanto para consumirlos en el alojamiento como de entrega a domicilio, por lo que le interesaría tener una aplicación informática que le permita gestionar los pedidos y reparto a domicilio de sus productos, así como para obtener estadísticas de los mismos. Por lo tanto Ana va a realizar la base de datos para poder mejorar la gestión del local.&nbsp;</span>Como miembro del equipo de trabajo de<span>&nbsp;</span><strong>Ana</strong>, estás trabajando directamente con la base de datos. El análisis y diseño está ya realizado, así como la implementación en MySQL, ahora se han cargado una serie de datos de prueba para probar las sentencias de consultas que el representante de las distintas asociaciones nos ha pedido entre los requisitos que desean.</p>
<p>Tu tarea es realizar dichas sentencias SQL para MySQL probándolas con los datos que se han cargado de prueba para comprobar el resultado de cada consulta y verificar si es correcto o no.</p>
<p><br style="clear: both;"><br style="clear: both;">Para poder realizarlas, se adjunta a continuación el script que puedes descargar para practicar:</p>
<p style="text-align: center;"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/SCRIPT_BURGUERSPREMIUMS.zip" target="_blank" title="Recurso Script  Burger Premiums" rel="noopener">Script Burger Premiums.zip</a></p>
<p><strong>Diagrama Entidad-Relación :</strong></p>
<div class="exe-figure exe-image position-center license-CC-BY-NC-SA" style="width: 650px;"><a href="./recopila_files/Diagrama_E-R.png" target="_blank" rel="lightbox noopener" title="Recurso Diagrama Entidad-Relación"><img src="./recopila_files/Diagrama_E-R.png" alt="Diagrama Entidad-Relación" title="Diagrama Entidad-Relación" width="650" height="436"></a>
<div class="figcaption"><span class="author">Elaboración propia</span>. <span class="title"><em>Diagrama Entidad-Relación</em></span> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p><strong>Modelo Relacional:</strong></p>
<div class="exe-figure exe-image position-center license-CC-BY-NC-SA" style="width: 550px;"><a href="./recopila_files/Modelo_Relacional.jpg" target="_blank" rel="lightbox noopener" title="Recurso Modelo relacional"><img src="./recopila_files/Modelo_Relacional.jpg" alt="Modelo Relacional" title="Modelo Relacional" width="550" height="347"></a>
<div class="figcaption"><span class="author">Elaboración propia</span>. <span class="title"><em>Modelo Relacional</em></span> <span class="license"><span class="sep">(</span><a href="http://creativecommons.org/licenses/?lang=es" rel="license nofollow noopener" target="_blank" title="Creative Commons BY-NC-SA">CC BY-NC-SA</a><span class="sep">)</span></span></div>
</div>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id128">
<div class="iDevice emphasis_ejercicioresueltofpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_ejercicioresueltofpd.png)"><h2 class="iDeviceTitle">Ejercicio Resuelto</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id128-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta128_148" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b128" class="block iDevice_content">
<p><strong>Realiza las siguientes consultas:</strong></p>
<p>1.- Obtener un listado de todos los productos.</p>
<p>2.- Obtener el número de pedido, dni del repartidor y hora de reparto de aquellos pedidos que se toman nota después&nbsp;de las siete de la tarde.</p>
<p>3.- Obtener todos los campos de empleados que cobran entre 900 y 1000 euros.</p>
<p>4.- Obtener el número de pedido e importe de aquellos que han sido registrados en el mes de noviembre de 2020 y su importe es mayor a 15 Euros.</p>
<p>5.- Obtener por cada uno de los repartidores su DNI&nbsp; junto a la cantidad de pedidos entregados.</p>
<p>6. Obtener por cada mes (con el formato de nombre y no de número ej. Noviembre), la cantidad de pedidos realizados.</p>
<p>7.- Obtener un listado con el nombre y dni de los empleados en el mismo campo y anteponiendo el dni al nombre&nbsp;de la siguiente forma (ej; 45776633P, Juan Rodríguez López) que tenga turno de “tarde” o "noche".&nbsp; Ordenar el listado por dni</p>
<p>8.- Obtener el nombre, código y precio de aquellos productos que superen o igualen la media de todos los precios. Ordenar de mayor a menor precio.</p>
<p>9.- Obtener un listado con el nombre y DNI de los empleados que no han preparado nunca ningún pedido.</p>
<p>10.- Obtener el código, nombre y precio de los productos(estos dos últimos en el mismo campo) que están contenidos en los pedidos que ha tomado nota "Luis" o "María Luisa". Ordena el listado de mayor a menor valor por fecha del pedido.</p>
<p>11.- Obtener por cada repartidor, su nombre, cantidad de pedidos entregados y el tiempo medio que tardan en&nbsp;entregar los pedidos una vez preparados. Ordenar el listado por el tiempo medio que tardan en entregarlos de menor a mayor.</p>
<p>12.- Obtener un listado obteniendo el código, nombre y el precio de los productos cuyo precios sea el más barato o el más caro de todos.</p>
<p>13.- Obtener por cada producto , el nombre y código el número total de pedidos en los que se encuentra teniendo en cuenta que el total de pedidos en los cuales se encuentre sea superior o igual a dos. Ordena el listado de mayor a menor número de productos.</p>
<p>14.- Mostrar listado de los empleados (código y NSS en la misma columna) que han tomado nota de algún pedido y contienen el producto de código 13 y además el repartidor sea 'Laura'.</p>
<p>15.- Obtener el nombre del producto que es menú junto con el código de los productos que lo componen en aquellos pedidos del mes de septiembre de 2020.</p>
<p></p>
</div>
<form name="feedback-form-quesFeedback0b128" action="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b128text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b128" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler"></p>
</div>
<div id="feedback-quesFeedback0b128" class="feedback js-feedback js-hidden" role="status">
<h3 class="js-sr-av">Retroalimentación</h3>
<p><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/pluginfile.php/55312/mod_scorm/content/0/SOLUCION_BURGUERSPREMIUMS.pdf" target="_blank" title="Recurso Solución" rel="noopener">Descarga solución</a></p>
<p></p></div>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">12.- Enlaces de refuerzo y ampliación</h1></div></div>
<div class="iDevice_wrapper ParasabermasfpdIdevice em_iDevice" id="id110">
<div class="iDevice emphasis_parasabermasfpd">
<div class="iDevice_header" style="background-image:url(https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/icon_parasabermasfpd.png)"><h2 class="iDeviceTitle">Para saber más</h2><p class="toggle-idevice toggle-em1"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id110-em1" title="Ocultar"><span>Ocultar</span></a></p></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta110_43" class="block iDevice_content">
<ul class="lista_verificacion">
<li>Documentación oficial del SGBD MySQL de la sintaxis de la sentencia SELECT (En Inglés): <a class="html" title="https://dev.mysql.com/doc/refman/5.7/en/select.html" href="https://dev.mysql.com/doc/refman/5.7/en/select.html" target="_blank">https://dev.mysql.com/doc/refman/5.7/en/select.html</a></li>
</ul>
<ul class="lista_verificacion">
<li>Documentación oficial del SGBD ORACLE de la sintaxis de la sentencia SELECT con ejemplos (En Inglés): <a class="html" title="https://docs.oracle.com/cd/B12037_01/server.101/b10759/statements_10002.htm#i2065706" href="https://docs.oracle.com/cd/B12037_01/server.101/b10759/statements_10002.htm#i2065706" target="_blank">https://docs.oracle.com/cd/B12037_01/server.101/b10759/statements_10002.htm#i2065706</a></li>
</ul>
<ul class="lista_verificacion">
<li>Documentación oficial del SGBD POSTGRESQL de la sintaxis de la sentencia SELECT (En Inglés): <a class="html" title="SGBD POSTGRESQL de la sintaxis de la sentencia SELECT" href="http://www.postgresql.org/docs/9.0/static/sql-select.html" target="_blank">http://www.postgresql.org/docs/9.0/static/sql-select.html</a></li>
</ul>
<ul class="lista_verificacion">
<li>Sintaxis de la sentencia SELECT junto con la clausula FROM y ejemplos On-Line<a class="html" title="Instrucción SELECT" href="http://www.w3schools.com/sql/sql_select.asp" target="_blank">http://www.w3schools.com/sql/sql_select.asp</a></li>
</ul>
<ul class="lista_verificacion">
<li>Uso de la clausula WHERE junto con Operadores Relacionales con la sentencia SELECT y ejemplos On-Line<a class="html" title="clausula WHERE" href="http://www.w3schools.com/sql/sql_where.asp" target="_blank">http://www.w3schools.com/sql/sql_where.asp</a></li>
</ul>
<ul class="lista_verificacion">
<li>Uso de operadores Lógicos AND y OR en la clausula WHERE y ejemplos On-Line <a class="html" title="Operadores logicos" href="http://www.w3schools.com/sql/sql_and_or.asp" target="_blank">http://www.w3schools.com/sql/sql_and_or.asp</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Anexo I.- Creación de tablas y preparación de Oracle y MySQL.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id13">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id13-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta13_73" class="block iDevice_content">
<p> </p>
<p><strong class="destacado">Oracle</strong></p>
<p><a title="anexo_ii_creacin_de_tablas_y_preparacin_de_oracle.html" name="anexo_ii_creacin_de_tablas_y_preparacin_de_oracle.html" href="./recopila_files/saved_resource"></a> Para comenzar crearemos un espacio de trabajo o Workspace llamado TAREA con un usuario llamado ANA al que pondremos también una contraseña (ej: ANA). Este usuario será por tanto el administrador de este espacio de trabajo y tendrá permisos para crear tablas.</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/paso1CrearWorkspace.png" alt="Crear Workspace TAREA" title="Crear Workspace TAREA" height="289" width="600"></p>
<p> </p>
<p>Vamos a utilizar la<strong> línea de</strong> <strong>comandos de SQL</strong> para ejecutar el archivo descargado, para ello seguiremos los pasos que aparecen a continuación:</p>
<ol>
<li>Vamos a <strong>Inicio &gt; Todos los programas &gt; Oracle Database 11g Express Edition</strong>.</li>
<li>Pulsamos en <strong>Run SQL Command Line</strong>. Aparecerá la siguiente pantalla:<img alt="Ventana de conexión con BD desde SQL*Express" class="elemento_centrado" src="./recopila_files/paso2SQLCommandLine.png" style="width: 669px; height: 338px; margin-top: 20px; margin-bottom: 20px;" title="Línea de comandos SQL." height="343" width="675"></li>
<li>Ejecutamos la instrucción: &lt;strong&gt;connect TAREA/ANA&lt;/strong&gt;. que corresponde al workspace creado anteriormente con la contraseña del usuario administrador que es ANA en mayúsculas.<img alt="Ventana con la instrucción necesaria para conectar al usuario ana." class="elemento_centrado" src="./recopila_files/paso3conectaseusuario.png" style="width: 901px; height: 315px; margin-top: 20px; margin-bottom: 20px;" title="Conectando al usuario ana." height="304" width="600">
<p>Cuando ejecutamos el comando debe decirnos que ya está conectado: <img alt="Ventana en la que se verifica que la conexión del usuario ana es correcta." class="elemento_centrado" src="./recopila_files/paso3conectaseusuario2.png" style="width: 897px; height: 313px; margin-top: 20px; margin-bottom: 20px;" title="Verificando la conexión." height="343" width="677"></p>
</li>
<li>Ahora ya podemos ejecutar el archivo del siguiente modo: &lt;strong&gt;@Ruta_donde_se_encuentra_el_archivo/BD04_CONT_R07_02.sql&lt;/strong&gt;</li>
</ol>
<p>En nuestro caso, el archivo está guardado directamente en la unidad C para que nos resulte más fácil localizarlo:<img alt="Ventana en la que se puede ver el comando necesario para ejecutar el archivo que contiene las tablas y registros." class="elemento_centrado" src="./recopila_files/paso4ejecutarscript.png" style="width: 891px; height: 311px; margin-top: 20px; margin-bottom: 20px;" title="Ejecutando archivo sql." height="343" width="677"></p>
<p>Si todo es correcto, deberían crearse las tablas e insertarse los datos que contiene el archivo:<img alt="Ventana en la que se ve como se ejecutan secuencialmente los comandos incluidos en el archivo sql." class="elemento_centrado" src="./recopila_files/paso5scriptejecutado.png" style="width: 889px; height: 310px; margin-bottom: 20px; margin-top: 20px;" title="Creando tablas e insertando filas." height="343" width="677"></p>
<p>A partir de aquí ya tienes un usuario con tablas y datos inlcuidos para poder practicar a la vez que Ana.</p>
<p>Lo siguiente que nos queda por hacer será desconectarnos del espacio de trabajo antes de comprobar las tablas y datos insertados entrando por la aplicación gráfica.</p>
<p>Para eso introducimos el comando DISCONNECT y pulsamos enter.</p>
<p><img style="display: block; margin: 20px auto;" src="./recopila_files/paso6desconectarse.png" alt="Desconexión del espacio de trabajo" title="Desconexión del espacio de trabajo" height="343" width="677"></p>
<p> </p>
<p><strong class="destacado">MySQL</strong></p>
<p>Vamos a realizar el ejercicio mediante el <strong>cliente gráfico de MySQL Workbenc</strong>h.</p>
<ol class="lista_esquema">
<li>Inicia sesión o conéctate al servidor MySQL. Para ello, asegúrate de tener iniciado o puesto en marcha el servidor de bases de datos MySQL e inicia sesión en servidor como el usuario root, indicando su contraseña.
<p style="text-align: center;"><img src="./recopila_files/anexoI_1.jpg" alt="conexionMysql" title="conxionMysql" height="376" width="700"></p>
</li>
<li>Carga el srcipt de creación de la base dedatos bd_proyectosx.sql. Para ello ve al menú <em>File/Open SQL Script...</em> y busca en tus carpetas locales el archivo bd_proyectosx.sql. Una vez localizado, lo seleccionas y pulsas en Abrir. Aparecerá el script en pantalla.
<p style="text-align: center;"><img src="./recopila_files/anexoI_2.jpg" alt="cargaScriptSQL" title="cargaScriptSQL" height="366" width="700"></p>
</li>
<li>Con en script SQL en pantalla, pulsa sobre <em>File/Run SQL</em> Script o bien sobre el botón de atajo "el rayo amarillo". Se ejecutará el <span lang="en">script </span>y dejará implantada la base de datos en el servidor.
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/anexoI_3.jpg" alt="ejecutaScriptSQL" title="ejecutaScriptSQL" height="419" width="700"></p>
</li>
<li>Actualiza el cliente gráfico pulsando sobre la doble flecha, esquina superior izquierda y verás la nueva base de datos, o bien, escribe en una nueva ventana de SQL (<em>File/New Query Tab)</em> la sentencia: SHOW DATABASES; y comprobarás que ya está la base de datos en tu servidor.
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/anexoI_4.jpg" alt="actualizaEntorno" title="actualizaEntorno" height="496" width="700"></p>
</li>
<li>Puedes ver los datos de cada tabla ejecutando la sentencia SELECT que corresponda. Por ejemplo, para ver los datos de la tabla empleado, pon en uso la base de datos proyectosx y escribe en el ventana de SQL la sentencia: SELECT * FROM empleado; y ejecútala pulsando sobre le "rayo amarillo con cursor" o bien pulsando las teclas CTRL+INTRO.
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./recopila_files/anexoI_5.jpg" alt="visualizaDatos" title="visualizaDatos" height="495" width="700"></p>
</li>
<li>Puedes seguir viendo el contenido del resto de tablas, ejecutando la correspondiente sentencia SELECT ........ ¿te animas a ello?</li>
</ol>
<p> </p>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js";jQuery(function(){loadPage()})</script>
<div id="outer">
<div id="main">
<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Anexo.- Licencias de recursos.</h1></div></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id87">
<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id87-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
<div id="ta87_73" class="block iDevice_content">
<table class="tabla" summary="Datos de licencia de todos los recursos utilizados en la unidad"><caption>Licencias de recursos utilizados en la Unidad de Trabajo.</caption>
<tbody>
<tr><th scope="col">Recurso (1)</th><th scope="col">Datos del recurso (1)</th><th scope="col">Recurso (2)</th><th scope="col">Datos del recurso (2)</th></tr>
<tr>
<td class="texto_centrado"><img alt="Ventana con selección de menú “Introducir Comando”." src="./recopila_files/BD04_CONT_R03_MENUCONSQL_anexo.jpg" style="width: 76px; height: 80px;" title="Introducir comando." height="80" width="76"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright. (Cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
<td class="texto_centrado"><img alt="Menú Inicio de Windows XP desplegado con selección de Ejecutar línea de comandos SQL." src="./recopila_files/BD04_CONT_R04_MENU_SQLEXP_anexo.png" style="width: 106px; height: 80px;" title="Ejecutar línea de comandos SQL." height="80" width="106"></td>
<td>
<p>Autoría: Microsoft.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura Windows XP.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Ventana de conexión con BD desde SQL*Express." src="./recopila_files/BD04_CONT_R05_CONNECT_anexo.png" style="width: 120px; height: 60px;" title="Conexión SQL." height="60" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla SQL*Express.</p>
</td>
<td class="texto_centrado"><img alt="Un hombre de mediana edad consulta la información que aparece en la pantalla de un ordenador de sobremesa." src="./recopila_files/ST000935_anexo.png" style="width: 52px; height: 80px;" title="Persona consultando información." height="80" width="52"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. V07.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Una persona expone en una pizarra una parte de un esquema que representa el conjunto de condiciones que se van a tener en cuenta." src="./recopila_files/stk32373bme_anexo.png" style="width: 56px; height: 80px;" title="Condiciones." height="80" width="56"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD165.</p>
</td>
<td class="texto_centrado"><img alt="Personas haciendo cola de forma ordenada." src="./recopila_files/57437447_anexo.png" style="width: 80px; height: 80px;" title="Orden." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD109.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Dos ejecutivos delante de una mesa con un ordenador trabajan en un proyecto." src="./recopila_files/57437479_anexo.png" style="width: 80px; height: 80px;" title="Proyecto." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD109.</p>
</td>
<td class="texto_centrado"><img alt="Una mujer delante de una pizarra en la que hay dibujado gráficos explica a un grupo de personas que atienden." src="./recopila_files/BU004844_anexo.png" style="width: 80px; height: 80px;" title="Operaciones y funciones." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CDV43.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Unas manos utilizando una calculadora como descripción de los operadores aritméticos del apartado." src="./recopila_files/BU004823_anexo.png" style="width: 80px; height: 80px;" title="Operaciones aritméticas." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CDV43.</p>
</td>
<td class="texto_centrado"><img alt="Señal de tráfico con una Ygriega que identifica uno de los operadores lógicos." src="./recopila_files/TR004214_anexo.png" style="width: 52px; height: 80px;" title="Operador lógico." height="80" width="52"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CDV43.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Lápices formando un gráfico que desciende." src="./recopila_files/025_anexo.png" style="width: 51px; height: 80px;" title="De mayor a menor." height="80" width="51"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. ECD001.</p>
</td>
<td class="texto_centrado"><img alt="Dos personas en una sala de reuniones estrechan sus manos." src="./recopila_files/stk32301bme_anexo.png" style="width: 80px; height: 80px;" title="Negociando." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD165.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Una mano sobre una calculadora científica realizando operaciones con funciones numéricas." src="./recopila_files/BSY_064_anexo.png" style="width: 120px; height: 79px;" title="Números." height="79" width="120"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD EP006.</p>
</td>
<td class="texto_centrado"><img alt="Cadena que representa las cadenas de caracteres." src="./recopila_files/BSY_072_anexo.png" style="width: 62px; height: 80px;" title="Cadenas." height="80" width="62"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD EP006.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Calendario que representa el manejo de fechas." src="./recopila_files/BSY_057_anexo.png" style="width: 120px; height: 79px;" title="Calendario." height="79" width="120"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD EP006.</p>
</td>
<td class="texto_centrado"><img alt="Aplicación de la función fecha que da como resultado el día en el que se ejecuta, en el ejemplo, el 26 de julio de 2011." src="./recopila_files/BD04_CONT_R09_SYSDATE_anexo.JPG" style="width: 120px; height: 68px;" title="Fecha." height="68" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Aplicación en Oracle de la función fecha con hora que da como resultado la fecha y hora en la que se ejecuta." src="./recopila_files/BD04_CONT_R10_SYSTIMESTAMP_anexo.JPG" style="width: 120px; height: 20px;" title="Fecha con hora." height="20" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
<td class="texto_centrado"><img alt="Aplicación de la función que añade a la fecha el número de meses que en este ejemplo es 5." src="./recopila_files/BD04_CONT_R11_ADDMONTHS_anexo.jpg" style="width: 120px; height: 29px;" title="Añadir mes." height="29" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Aplicación de la función que calcula el número de meses entre dos fechas. En el ejemplo entre las fechas 12 de julio de 2011 y 12 de marzo de 2011." src="./recopila_files/BD04_CONT_R12_MONTHSBETWEEN_anexo.jpg" style="width: 120px; height: 20px;" title="Meses entre fechas." height="20" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
<td class="texto_centrado"><img alt="Aplicación de la función que devuelve el último día del mes al que pertenece la fecha 27 de julio de 2011. Da como resultado otra fecha, 31 de julio de 2011." src="./recopila_files/BD04_CONT_R13_LASTDAY_anexo.jpg" style="width: 120px; height: 35px;" title="Último día." height="35" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Aplicación de la función que indica el día que corresponde al siguiente día de la semana indicado después de la fecha que añadimos. En el ejemplo queremos saber que día será el lunes después del 31 de diciembre de 2011. Da como resultado el 2 de enero de 2012." src="./recopila_files/BD04_CONT_R14_NEXTDAY_anexo.jpg" style="width: 120px; height: 29px;" title="Día siguiente." height="29" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
<td class="texto_centrado"><img alt="Aplicación de la función que extrae un valor de la fecha que digamos, en este ejemplo queremos extraer el número de mes de la fecha actual. El resultado que se obtiene es el 7 correspondiente a julio." src="./recopila_files/BD04_CONT_R15_EXTRACT_anexo.jpg" style="width: 120px; height: 19px;" title="Extraer valor." height="19" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Lapicero con lápices de colores sobre una mesa junto a una taza de café." src="./recopila_files/BSY_049_anexo.png" style="width: 120px; height: 79px;" title="Lapicero." height="79" width="120"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD EP006.</p>
</td>
<td class="texto_centrado"><img alt="Parte de un teclado." src="./recopila_files/ST001437_anexo.png" style="width: 120px; height: 79px;" title="Teclado." height="79" width="120"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD V43.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Dos personas trabajan en una mesa sobre un documento, en la mesa aparece un vaso de agua y otro documento donde se aprecia un gráfico." src="./recopila_files/stk32329bme_anexo.png" style="width: 80px; height: 80px;" title="Consulta." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num.CD165.</p>
</td>
<td class="texto_centrado"><img alt="Se muestran distintas herramientas que se utilizan en matemáticas como son una calculadora, un cartabón, una regla y un lápiz." src="./recopila_files/SKD284226SDC_anexo.png" style="width: 80px; height: 80px;" title="Herramientas para cálculo." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. SD174.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Aplicación de la función que suma los valores del campo que pongamos como argumento, en este ejemplo queremos sumar los salarios y se obtiene 25205." src="./recopila_files/BD04_CONT_R16_suma_anexo.jpg" style="width: 120px; height: 38px;" title="Función suma." height="38" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
<td class="texto_centrado"><img alt="Aplicación de la función que cuenta los valores del campo que pongamos como argumento, en este ejemplo queremos contar los nombres y obtenemos 100." src="./recopila_files/BD04_CONT_R17_cuenta_anexo.jpg" style="width: 120px; height: 33px;" title="Función contar." height="33" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Una joven señala una lista y apunta con su dedo ínidce buscando información." src="./recopila_files/SKD246518SDC_anexo.png" style="width: 80px; height: 80px;" title="Consultando la lista." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. SD174.</p>
</td>
<td class="texto_centrado"><img alt="Gráfico donde el fondo contiene una imagen de productos, el gráfico representa el precio frente al volumen." src="./recopila_files/027_anexo.png" style="width: 120px; height: 79px;" title="Estadísticas." height="79" width="120"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. ECD001.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="un conjunto de personas aparecen juntas y ordenadas formando un grupo." src="./recopila_files/57437500_anexo.png" style="width: 111px; height: 80px;" title="Agrupados." height="80" width="111"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD109.</p>
</td>
<td class="texto_centrado"><img alt="Aplicación de la función que suma el crédito agrupando por provincia." src="./recopila_files/BD04_CONT_R18_sumaprovincia_anexo.jpg" style="width: 39px; height: 80px;" title="Función suma agrupada." height="80" width="39"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de<br> pantalla Oracle Express.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Aplicación de la función que cuenta  al crédito agrupando por provincia." src="./recopila_files/BD04_CONT_R19_cuentaprovincia_anexo.jpg" style="width: 120px; height: 34px;" title="Función cuenta agrupada." height="34" width="120"></td>
<td>
<p>Autoría: Oracle.</p>
<p>Licencia: Copyright (cita).</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express.</p>
</td>
<td class="texto_centrado"><img alt="Mujer agachada en un pasillo de estanterías de libros busca información y consulta un documento." src="./recopila_files/SKD246687SDC_anexo.png" style="width: 80px; height: 80px;" title="Consultando la biblioteca." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. SD174.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Mano sobre un ratón simulando su uso." src="./recopila_files/BSY_096_anexo.png" style="width: 52px; height: 80px;" title="Ratón." height="80" width="52"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. EP006_.</p>
</td>
<td class="texto_centrado"><img alt="Pieza de puzzle naranja." src="./recopila_files/062_anexo.png" style="width: 57px; height: 80px;" title="Composición externa." height="80" width="57"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. ECD001.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Pieza de puzzle verde." src="./recopila_files/064_anexo.png" style="width: 111px; height: 80px;" title="Otras composiciones." height="80" width="111"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. ECD001.</p>
</td>
<td class="texto_centrado"><img alt="Cubo creado con unión de distintas piezas." src="./recopila_files/SKD284234SDC_anexo.png" style="width: 80px; height: 80px;" title="Cubo." height="80" width="80"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. SD174.</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Dos ejecutivas analizando un informe que una de ellas sostiene." src="./recopila_files/57432025_anexo.png" style="width: 111px; height: 80px;" title="Reunidas." height="80" width="111"></td>
<td>
<p>Autoría: Stockbyte.</p>
<p>Licencia: Uso educativo no comercial para plataformas públicas de Formación Profesional a distancia.</p>
<p>Procedencia: CD-DVD Num. CD73.</p>
</td>
<td class="texto_centrado"><img alt="Ventana donde se puede ver como se crea un usuario de manera gráfica en Oracle." src="./recopila_files/BD04_AUX_R07_03_R01_creacionusuario_anexo.png" style="width: 100px; height: 59px;" title="Crear usuario" height="59" width="100"></td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: Copyright (Cita)</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Ventana de conexión con BD desde SQL*Express" src="./recopila_files/BD04_AUX_R07_03_R02_LINEACOMANDOSSQL_anexo.jpg" style="width: 100px; height: 51px;" title="Línea de comandos SQL." height="51" width="100"></td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: Copyright (Cita)</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express</p>
</td>
<td class="texto_centrado"><img alt="Ventana con la instrucción necesaria para conectar al usuario ana." src="./recopila_files/BD04_AUX_R07_03_R03_connectAna_anexo.jpg" style="width: 100px; height: 35px;" title="Conectando al usuario ana." height="35" width="100"></td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: Copyright (Cita)</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express</p>
</td>
</tr>
<tr>
<td class="texto_centrado"><img alt="Ventana en la que se verifica que la conexión del usuario ana es correcta." src="./recopila_files/BD04_AUX_R07_03_R04_conectada_anexo.jpg" style="width: 100px; height: 35px;" title="Verificando la conexión." height="35" width="100"></td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: Copyright (Cita)</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express</p>
</td>
<td class="texto_centrado"><img alt="Ventana en la que se puede ver el comando necesario para ejecutar el archivo que contiene las tablas y registros." src="./recopila_files/BD04_AUX_R07_03_R05_ejecutandoarchivo_anexo.jpg" style="width: 100px; height: 35px;" title="Ejecutando archivo sql." height="35" width="100"></td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: Copyright (Cita)</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express</p>
</td>
</tr>
<tr>
<td class="texto_centrado">
<p> </p>
<p><img alt="Ventana en la que se ve como se ejecutan secuencialmente los comandos incluidos en el archivo sql." src="./recopila_files/BD04_AUX_R07_03_R06_creandotablasyregistros_anexo.jpg" style="width: 100px; height: 35px;" title="Creando tablas e insertando filas." height="35" width="100"></p>
</td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: Copyright (Cita)</p>
<p>Procedencia: Elaboración Propia. Captura de pantalla Oracle Express</p>
</td>
</tr>
<tr>
<td class="texto_centrado">Capturas Anexo I. Apartado MySQL. Software Workbench</td>
<td>
<p>Autoría: Oracle</p>
<p>Licencia: GPL</p>
<p>Procedencia: Elaboración Propia: Isabel Cruz Granados. Captura de pantalla MySQL Workbench.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div><script type="text/javascript">document.body.className+=" js"</script>
			<div id="outer">
			<div id="main">
			<div id="nodeDecoration"><div id="headerContent"><h1 id="nodeTitle">Condiciones y términos de uso de los materiales</h1></div></div>
			<div class="iDevice_wrapper DestacadofpdIdevice" id="id60">
			<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id60-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
			<div class="iDevice_destacadofpd">
			<div id="ta60_66" class="block iDevice_content">
			<div title="Información acerca de la licencia de los materiales">
			<p align="center" style="margin: 2px 2px;"><strong>Materiales desarrollados inicialmente por el Ministerio de Educación, Cultura y Deporte y actualizados por el profesorado de la Junta de Andalucía bajo licencia Creative Commons <acronym title="Reconocimiento-NoComercial-CompartirIgual">BY-NC-SA.</acronym></strong></p>
						      <p align="center" style="font-size: 0.8em; margin: 2px 2px;"><strong><img src="./recopila_files/img_para_licencias.png" height="94" alt="Logotipos del Ministerio de Educación, Cultura y Deporte, Junta de Andalucía y licencia Creative Commons"></strong></p>
                              <p align="center" style="font-size: 0.8em; margin: 2px 2px;"><span>Antes de cualquier uso leer detenidamente el siguente</span> <a href="https://www.juntadeandalucia.es/educacion/gestionafp/documentacion/aviso_legal/aviso_legal_mjda/index.html" target="_blank" title="Enlace externo, se accede al aviso legal de los materiales">Aviso legal</a></p>
			</div>
			</div>
			</div>
			</div>
			</div>
			<div class="iDevice_wrapper FreeTextIdevice" id="id61">
			<p class="toggle-idevice toggle-em0"><a href="https://educacionadistancia.juntadeandalucia.es/formacionprofesional/blocks/recopila/recopila.php?id=3994&amp;dopt=1#" id="toggle-idevice-id61-em0" title="Ocultar"><span>Ocultar</span></a></p><div class="iDevice emphasis0">
			<div id="ta61_85" class="block iDevice_content">
			<h3>Historial de actualizaciones</h3>
			<table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 03.00.00</th><th scope="col">Fecha de actualización: 16/06/22</th><th scope="col">Autoría: María Yolanda Jiménez Capel</th></tr><tr>
                            <td colspan="3"><p><strong>Ubicación: </strong>De diversas secciones<br><strong>Mejora (tipo 3): </strong>Los siguientes puntos:<br>
1.Nuevo punto con Having, cuando utilizarlo y las diferencias con where.<br>
2. Mejora de los ejemplos del temario desde un nivel mas sencillo a elevado, puesto que todos son muy básicos.<br>
3.Más ejemplos de subconsultas.<br>
4.Ejemplos de consultas realizadas con where y con inner join<br>
5. Distintos tipos de inner join y su utilización.<br>
</p><p><strong>Ubicación: </strong>DAM/DAW_BD_Unidad 4<br><strong>Mejora (Mapa conceptual): </strong>Modificación de materiales</p><p><strong>Ubicación: </strong>DAM/DAW_BD_Unidad4<br><strong>Mejora (Orientaciones del alumnado): </strong>Actualización de Material unidad 4</p></td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 02.01.00</th><th scope="col">Fecha de actualización: 04/01/22</th><th scope="col">Autoría: Víctor Gil Rodríguez</th></tr><tr>
                            <td colspan="3"><p><strong>Ubicación: </strong>11<br><strong>Mejora (tipo 2): </strong>Insertar con la numeración 11 un nuevo apartado donde se incluyen 6 videotutoriales haciendo un repaso de los contenidos mediante una BD de ejemplo que explica paso a paso los diferentes tipos de consultas y cláusulas utilizados. El anterior apartado 11 se quedará como 12. Se modifican también la orientación del alumnado.</p><p><strong>Ubicación: </strong>11<br><strong>Mejora (Orientaciones del alumnado): </strong>Se incluye el apartado 11 y el anterior 11 pasa a ser el 12.</p></td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 02.00.00</th><th scope="col">Fecha de actualización: 16/12/15</th><th scope="col">Autoría: Isabel Cruz Granados</th></tr><tr>
                            <td colspan="3"><p><strong>Ubicación: </strong>Toda la unidad<br><strong>Mejora (tipo 1): </strong>- Se han incluido nuevos enlaces con ejemplos en Para Saber.. más, en varios apartados</p><p><strong>Ubicación: </strong>Toda la Unidad<br><strong>Mejora (tipo 2): </strong>Incluir en los apartados que corresponda, la misma información de formatos-sintaxis, funciones, tipos, etc. así como ejemplos, pero para el caso de la base de datos MySQL. Se puede utilizar una BD diferente o bien la misma.</p><p><strong>Ubicación: </strong>Toda la Unidad<br><strong>Mejora (tipo 3): </strong>Incluir en los apartdos que corresponda, la misma información de formatos-sintaxis, funciones, tipos, etc. así como ejemplos, pero para el caso de la base de datos MySQL. Se puede utilizar una BD diferente o bien la misma.</p><p><strong>Ubicación: </strong>todo<br><strong>Mejora (tipo 1): </strong>mas ejemplos en los temarios</p><p><strong>Ubicación: </strong>Todo el tema<br><strong>Mejora (tipo 1): </strong>La verdad es que es muy pobre la cantidad de ejercicios para poder poner en practica que tenemos, sería interesante tener varios ejercicios con las cláusulas para poder practicar</p></td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 01.01.00</th><th scope="col">Fecha de actualización: 20/01/15</th><th scope="col">Autoría: Francisco Javier García Rodríguez</th></tr><tr>
                            <td colspan="3">&nbsp;Cambio de todos los ejemplos y ejercicios resueltos de consultas por otros más claros y sencillos. Eliminación del Anexo II. Sustitución de enlaces rotos y sustitución de los enlaces a definiciones del glosario por enlaces a definiciones incrustadas.</td></tr></tbody></table><table border="0" class="tabla" style="width: 100%;"><tbody><tr><th scope="col">Versión: 01.00.00</th><th scope="col" colspan="2">Fecha de actualización: 07/01/14</th></tr><tr>
                            <td colspan="3">Versión inicial de los materiales.</td></tr></tbody></table>
			</div>
			</div>
			</div>
			</div>
			</div>
			<script type="text/javascript" src="./recopila_files/_fpd_js.js"></script><div style="page-break-before: always;"></div>

</body></html>